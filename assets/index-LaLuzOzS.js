(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function S1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function y2(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var o=!1;try{o=this instanceof n}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var ou={exports:{}},di={},iu={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function m2(){if(oh)return ye;oh=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function S(P,H,pe){this.props=P,this.context=H,this.refs=E,this.updater=pe||w}S.prototype.isReactComponent={},S.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},S.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=S.prototype;function N(P,H,pe){this.props=P,this.context=H,this.refs=E,this.updater=pe||w}var b=N.prototype=new T;b.constructor=N,_(b,S.prototype),b.isPureReactComponent=!0;var R=Array.isArray,B=Object.prototype.hasOwnProperty,F={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function $(P,H,pe){var ge,Se={},Ae=null,Ue=null;if(H!=null)for(ge in H.ref!==void 0&&(Ue=H.ref),H.key!==void 0&&(Ae=""+H.key),H)B.call(H,ge)&&!z.hasOwnProperty(ge)&&(Se[ge]=H[ge]);var Me=arguments.length-2;if(Me===1)Se.children=pe;else if(1<Me){for(var Ge=Array(Me),Vt=0;Vt<Me;Vt++)Ge[Vt]=arguments[Vt+2];Se.children=Ge}if(P&&P.defaultProps)for(ge in Me=P.defaultProps,Me)Se[ge]===void 0&&(Se[ge]=Me[ge]);return{$$typeof:r,type:P,key:Ae,ref:Ue,props:Se,_owner:F.current}}function ue(P,H){return{$$typeof:r,type:P.type,key:H,ref:P.ref,props:P.props,_owner:P._owner}}function de(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function le(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(pe){return H[pe]})}var Te=/\/+/g;function ke(P,H){return typeof P=="object"&&P!==null&&P.key!=null?le(""+P.key):H.toString(36)}function Pe(P,H,pe,ge,Se){var Ae=typeof P;(Ae==="undefined"||Ae==="boolean")&&(P=null);var Ue=!1;if(P===null)Ue=!0;else switch(Ae){case"string":case"number":Ue=!0;break;case"object":switch(P.$$typeof){case r:case e:Ue=!0}}if(Ue)return Ue=P,Se=Se(Ue),P=ge===""?"."+ke(Ue,0):ge,R(Se)?(pe="",P!=null&&(pe=P.replace(Te,"$&/")+"/"),Pe(Se,H,pe,"",function(Vt){return Vt})):Se!=null&&(de(Se)&&(Se=ue(Se,pe+(!Se.key||Ue&&Ue.key===Se.key?"":(""+Se.key).replace(Te,"$&/")+"/")+P)),H.push(Se)),1;if(Ue=0,ge=ge===""?".":ge+":",R(P))for(var Me=0;Me<P.length;Me++){Ae=P[Me];var Ge=ge+ke(Ae,Me);Ue+=Pe(Ae,H,pe,Ge,Se)}else if(Ge=y(P),typeof Ge=="function")for(P=Ge.call(P),Me=0;!(Ae=P.next()).done;)Ae=Ae.value,Ge=ge+ke(Ae,Me++),Ue+=Pe(Ae,H,pe,Ge,Se);else if(Ae==="object")throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Ue}function De(P,H,pe){if(P==null)return P;var ge=[],Se=0;return Pe(P,ge,"","",function(Ae){return H.call(pe,Ae,Se++)}),ge}function tt(P){if(P._status===-1){var H=P._result;H=H(),H.then(function(pe){(P._status===0||P._status===-1)&&(P._status=1,P._result=pe)},function(pe){(P._status===0||P._status===-1)&&(P._status=2,P._result=pe)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var Re={current:null},K={transition:null},ie={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:K,ReactCurrentOwner:F};function Z(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:De,forEach:function(P,H,pe){De(P,function(){H.apply(this,arguments)},pe)},count:function(P){var H=0;return De(P,function(){H++}),H},toArray:function(P){return De(P,function(H){return H})||[]},only:function(P){if(!de(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ye.Component=S,ye.Fragment=t,ye.Profiler=o,ye.PureComponent=N,ye.StrictMode=n,ye.Suspense=c,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ye.act=Z,ye.cloneElement=function(P,H,pe){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ge=_({},P.props),Se=P.key,Ae=P.ref,Ue=P._owner;if(H!=null){if(H.ref!==void 0&&(Ae=H.ref,Ue=F.current),H.key!==void 0&&(Se=""+H.key),P.type&&P.type.defaultProps)var Me=P.type.defaultProps;for(Ge in H)B.call(H,Ge)&&!z.hasOwnProperty(Ge)&&(ge[Ge]=H[Ge]===void 0&&Me!==void 0?Me[Ge]:H[Ge])}var Ge=arguments.length-2;if(Ge===1)ge.children=pe;else if(1<Ge){Me=Array(Ge);for(var Vt=0;Vt<Ge;Vt++)Me[Vt]=arguments[Vt+2];ge.children=Me}return{$$typeof:r,type:P.type,key:Se,ref:Ae,props:ge,_owner:Ue}},ye.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:i,_context:P},P.Consumer=P},ye.createElement=$,ye.createFactory=function(P){var H=$.bind(null,P);return H.type=P,H},ye.createRef=function(){return{current:null}},ye.forwardRef=function(P){return{$$typeof:u,render:P}},ye.isValidElement=de,ye.lazy=function(P){return{$$typeof:h,_payload:{_status:-1,_result:P},_init:tt}},ye.memo=function(P,H){return{$$typeof:d,type:P,compare:H===void 0?null:H}},ye.startTransition=function(P){var H=K.transition;K.transition={};try{P()}finally{K.transition=H}},ye.unstable_act=Z,ye.useCallback=function(P,H){return Re.current.useCallback(P,H)},ye.useContext=function(P){return Re.current.useContext(P)},ye.useDebugValue=function(){},ye.useDeferredValue=function(P){return Re.current.useDeferredValue(P)},ye.useEffect=function(P,H){return Re.current.useEffect(P,H)},ye.useId=function(){return Re.current.useId()},ye.useImperativeHandle=function(P,H,pe){return Re.current.useImperativeHandle(P,H,pe)},ye.useInsertionEffect=function(P,H){return Re.current.useInsertionEffect(P,H)},ye.useLayoutEffect=function(P,H){return Re.current.useLayoutEffect(P,H)},ye.useMemo=function(P,H){return Re.current.useMemo(P,H)},ye.useReducer=function(P,H,pe){return Re.current.useReducer(P,H,pe)},ye.useRef=function(P){return Re.current.useRef(P)},ye.useState=function(P){return Re.current.useState(P)},ye.useSyncExternalStore=function(P,H,pe){return Re.current.useSyncExternalStore(P,H,pe)},ye.useTransition=function(){return Re.current.useTransition()},ye.version="18.3.1",ye}var ih;function Xu(){return ih||(ih=1,iu.exports=m2()),iu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function v2(){if(sh)return di;sh=1;var r=Xu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,d){var h,g={},y=null,w=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(w=c.ref);for(h in c)n.call(c,h)&&!i.hasOwnProperty(h)&&(g[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)g[h]===void 0&&(g[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:w,props:g,_owner:o.current}}return di.Fragment=t,di.jsx=l,di.jsxs=l,di}var ah;function w2(){return ah||(ah=1,ou.exports=v2()),ou.exports}var A=w2(),G=Xu();const Ee=S1(G);var Fs={},su={exports:{}},Ut={},au={exports:{}},lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function _2(){return lh||(lh=1,(function(r){function e(K,ie){var Z=K.length;K.push(ie);e:for(;0<Z;){var P=Z-1>>>1,H=K[P];if(0<o(H,ie))K[P]=ie,K[Z]=H,Z=P;else break e}}function t(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var ie=K[0],Z=K.pop();if(Z!==ie){K[0]=Z;e:for(var P=0,H=K.length,pe=H>>>1;P<pe;){var ge=2*(P+1)-1,Se=K[ge],Ae=ge+1,Ue=K[Ae];if(0>o(Se,Z))Ae<H&&0>o(Ue,Se)?(K[P]=Ue,K[Ae]=Z,P=Ae):(K[P]=Se,K[ge]=Z,P=ge);else if(Ae<H&&0>o(Ue,Z))K[P]=Ue,K[Ae]=Z,P=Ae;else break e}}return ie}function o(K,ie){var Z=K.sortIndex-ie.sortIndex;return Z!==0?Z:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,g=null,y=3,w=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var ie=t(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=K)n(d),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=t(d)}}function R(K){if(E=!1,b(K),!_)if(t(c)!==null)_=!0,tt(B);else{var ie=t(d);ie!==null&&Re(R,ie.startTime-K)}}function B(K,ie){_=!1,E&&(E=!1,T($),$=-1),w=!0;var Z=y;try{for(b(ie),g=t(c);g!==null&&(!(g.expirationTime>ie)||K&&!le());){var P=g.callback;if(typeof P=="function"){g.callback=null,y=g.priorityLevel;var H=P(g.expirationTime<=ie);ie=r.unstable_now(),typeof H=="function"?g.callback=H:g===t(c)&&n(c),b(ie)}else n(c);g=t(c)}if(g!==null)var pe=!0;else{var ge=t(d);ge!==null&&Re(R,ge.startTime-ie),pe=!1}return pe}finally{g=null,y=Z,w=!1}}var F=!1,z=null,$=-1,ue=5,de=-1;function le(){return!(r.unstable_now()-de<ue)}function Te(){if(z!==null){var K=r.unstable_now();de=K;var ie=!0;try{ie=z(!0,K)}finally{ie?ke():(F=!1,z=null)}}else F=!1}var ke;if(typeof N=="function")ke=function(){N(Te)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,De=Pe.port2;Pe.port1.onmessage=Te,ke=function(){De.postMessage(null)}}else ke=function(){S(Te,0)};function tt(K){z=K,F||(F=!0,ke())}function Re(K,ie){$=S(function(){K(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_continueExecution=function(){_||w||(_=!0,tt(B))},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(K){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var Z=y;y=ie;try{return K()}finally{y=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=y;y=K;try{return ie()}finally{y=Z}},r.unstable_scheduleCallback=function(K,ie,Z){var P=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?P+Z:P):Z=P,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Z+H,K={id:h++,callback:ie,priorityLevel:K,startTime:Z,expirationTime:H,sortIndex:-1},Z>P?(K.sortIndex=Z,e(d,K),t(c)===null&&K===t(d)&&(E?(T($),$=-1):E=!0,Re(R,Z-P))):(K.sortIndex=H,e(c,K),_||w||(_=!0,tt(B))),K},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(K){var ie=y;return function(){var Z=y;y=ie;try{return K.apply(this,arguments)}finally{y=Z}}}})(lu)),lu}var uh;function C2(){return uh||(uh=1,au.exports=_2()),au.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function E2(){if(ch)return Ut;ch=1;var r=Xu(),e=C2();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function y(s){return c.call(g,s)?!0:c.call(h,s)?!1:d.test(s)?g[s]=!0:(h[s]=!0,!1)}function w(s,a,f,p){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,a,f,p){if(a===null||typeof a>"u"||w(s,a,f,p))return!0;if(p)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(s,a,f,p,m,v,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=f,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new E(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(T,N);S[a]=new E(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(T,N);S[a]=new E(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(T,N);S[a]=new E(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function b(s,a,f,p){var m=S.hasOwnProperty(a)?S[a]:null;(m!==null?m.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,f,m,p)&&(f=null),p||m===null?y(a)&&(f===null?s.removeAttribute(a):s.setAttribute(a,""+f)):m.mustUseProperty?s[m.propertyName]=f===null?m.type===3?!1:"":f:(a=m.attributeName,p=m.attributeNamespace,f===null?s.removeAttribute(a):(m=m.type,f=m===3||m===4&&f===!0?"":""+f,p?s.setAttributeNS(p,a,f):s.setAttribute(a,f))))}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),F=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),le=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),K=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,P;function H(s){if(P===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||""}return`
`+P+s}var pe=!1;function ge(s,a){if(!s||pe)return"";pe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(j){var p=j}Reflect.construct(s,[],a)}else{try{a.call()}catch(j){p=j}s.call(a.prototype)}else{try{throw Error()}catch(j){p=j}s()}}catch(j){if(j&&p&&typeof j.stack=="string"){for(var m=j.stack.split(`
`),v=p.stack.split(`
`),C=m.length-1,O=v.length-1;1<=C&&0<=O&&m[C]!==v[O];)O--;for(;1<=C&&0<=O;C--,O--)if(m[C]!==v[O]){if(C!==1||O!==1)do if(C--,O--,0>O||m[C]!==v[O]){var x=`
`+m[C].replace(" at new "," at ");return s.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",s.displayName)),x}while(1<=C&&0<=O);break}}}finally{pe=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?H(s):""}function Se(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case F:return"Portal";case ue:return"Profiler";case $:return"StrictMode";case ke:return"Suspense";case Pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case le:return(s.displayName||"Context")+".Consumer";case de:return(s._context.displayName||"Context")+".Provider";case Te:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case De:return a=s.displayName||null,a!==null?a:Ae(s.type)||"Memo";case tt:a=s._payload,s=s._init;try{return Ae(s(a))}catch{}}return null}function Ue(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(a);case 8:return a===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vt(s){var a=Ge(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,v=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(C){p=""+C,v.call(this,C)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ni(s){s._valueTracker||(s._valueTracker=Vt(s))}function uc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var f=a.getValue(),p="";return s&&(p=Ge(s)?s.checked?"true":"false":s.value),s=p,s!==f?(a.setValue(s),!0):!1}function Ri(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function fa(s,a){var f=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function cc(s,a){var f=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;f=Me(a.value!=null?a.value:f),s._wrapperState={initialChecked:p,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function fc(s,a){a=a.checked,a!=null&&b(s,"checked",a,!1)}function da(s,a){fc(s,a);var f=Me(a.value),p=a.type;if(f!=null)p==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ha(s,a.type,f):a.hasOwnProperty("defaultValue")&&ha(s,a.type,Me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function dc(s,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,f||a===s.value||(s.value=a),s.defaultValue=a}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function ha(s,a,f){(a!=="number"||Ri(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var To=Array.isArray;function Mn(s,a,f,p){if(s=s.options,a){a={};for(var m=0;m<f.length;m++)a["$"+f[m]]=!0;for(f=0;f<s.length;f++)m=a.hasOwnProperty("$"+s[f].value),s[f].selected!==m&&(s[f].selected=m),m&&p&&(s[f].defaultSelected=!0)}else{for(f=""+Me(f),a=null,m=0;m<s.length;m++){if(s[m].value===f){s[m].selected=!0,p&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function pa(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hc(s,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(t(92));if(To(f)){if(1<f.length)throw Error(t(93));f=f[0]}a=f}a==null&&(a=""),f=a}s._wrapperState={initialValue:Me(f)}}function pc(s,a){var f=Me(a.value),p=Me(a.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),a.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),p!=null&&(s.defaultValue=""+p)}function gc(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function yc(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?yc(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xi,mc=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,p,m){MSApp.execUnsafeLocalFunction(function(){return s(a,f,p,m)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(xi=xi||document.createElement("div"),xi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=xi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Oo(s,a){if(a){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=a;return}}s.textContent=a}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_0=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(s){_0.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),No[a]=No[s]})});function vc(s,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||No.hasOwnProperty(s)&&No[s]?(""+a).trim():a+"px"}function wc(s,a){s=s.style;for(var f in a)if(a.hasOwnProperty(f)){var p=f.indexOf("--")===0,m=vc(f,a[f],p);f==="float"&&(f="cssFloat"),p?s.setProperty(f,m):s[f]=m}}var C0=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(s,a){if(a){if(C0[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function ma(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=null;function wa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _a=null,Ln=null,Bn=null;function _c(s){if(s=Qo(s)){if(typeof _a!="function")throw Error(t(280));var a=s.stateNode;a&&(a=es(a),_a(s.stateNode,s.type,a))}}function Cc(s){Ln?Bn?Bn.push(s):Bn=[s]:Ln=s}function Ec(){if(Ln){var s=Ln,a=Bn;if(Bn=Ln=null,_c(s),a)for(s=0;s<a.length;s++)_c(a[s])}}function Sc(s,a){return s(a)}function Ac(){}var Ca=!1;function Ic(s,a,f){if(Ca)return s(a,f);Ca=!0;try{return Sc(s,a,f)}finally{Ca=!1,(Ln!==null||Bn!==null)&&(Ac(),Ec())}}function Ro(s,a){var f=s.stateNode;if(f===null)return null;var p=es(f);if(p===null)return null;f=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,a,typeof f));return f}var Ea=!1;if(u)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{Ea=!1}function E0(s,a,f,p,m,v,C,O,x){var j=Array.prototype.slice.call(arguments,3);try{a.apply(f,j)}catch(W){this.onError(W)}}var ko=!1,ki=null,Pi=!1,Sa=null,S0={onError:function(s){ko=!0,ki=s}};function A0(s,a,f,p,m,v,C,O,x){ko=!1,ki=null,E0.apply(S0,arguments)}function I0(s,a,f,p,m,v,C,O,x){if(A0.apply(this,arguments),ko){if(ko){var j=ki;ko=!1,ki=null}else throw Error(t(198));Pi||(Pi=!0,Sa=j)}}function un(s){var a=s,f=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(f=a.return),s=a.return;while(s)}return a.tag===3?f:null}function bc(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Tc(s){if(un(s)!==s)throw Error(t(188))}function b0(s){var a=s.alternate;if(!a){if(a=un(s),a===null)throw Error(t(188));return a!==s?null:s}for(var f=s,p=a;;){var m=f.return;if(m===null)break;var v=m.alternate;if(v===null){if(p=m.return,p!==null){f=p;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===f)return Tc(m),s;if(v===p)return Tc(m),a;v=v.sibling}throw Error(t(188))}if(f.return!==p.return)f=m,p=v;else{for(var C=!1,O=m.child;O;){if(O===f){C=!0,f=m,p=v;break}if(O===p){C=!0,p=m,f=v;break}O=O.sibling}if(!C){for(O=v.child;O;){if(O===f){C=!0,f=v,p=m;break}if(O===p){C=!0,p=v,f=m;break}O=O.sibling}if(!C)throw Error(t(189))}}if(f.alternate!==p)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:a}function Oc(s){return s=b0(s),s!==null?Nc(s):null}function Nc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Nc(s);if(a!==null)return a;s=s.sibling}return null}var Rc=e.unstable_scheduleCallback,xc=e.unstable_cancelCallback,T0=e.unstable_shouldYield,O0=e.unstable_requestPaint,rt=e.unstable_now,N0=e.unstable_getCurrentPriorityLevel,Aa=e.unstable_ImmediatePriority,kc=e.unstable_UserBlockingPriority,Di=e.unstable_NormalPriority,R0=e.unstable_LowPriority,Pc=e.unstable_IdlePriority,Mi=null,yr=null;function x0(s){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Mi,s,void 0,(s.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:D0,k0=Math.log,P0=Math.LN2;function D0(s){return s>>>=0,s===0?32:31-(k0(s)/P0|0)|0}var Li=64,Bi=4194304;function Po(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ji(s,a){var f=s.pendingLanes;if(f===0)return 0;var p=0,m=s.suspendedLanes,v=s.pingedLanes,C=f&268435455;if(C!==0){var O=C&~m;O!==0?p=Po(O):(v&=C,v!==0&&(p=Po(v)))}else C=f&~m,C!==0?p=Po(C):v!==0&&(p=Po(v));if(p===0)return 0;if(a!==0&&a!==p&&(a&m)===0&&(m=p&-p,v=a&-a,m>=v||m===16&&(v&4194240)!==0))return a;if((p&4)!==0&&(p|=f&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)f=31-nr(a),m=1<<f,p|=s[f],a&=~m;return p}function M0(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L0(s,a){for(var f=s.suspendedLanes,p=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var C=31-nr(v),O=1<<C,x=m[C];x===-1?((O&f)===0||(O&p)!==0)&&(m[C]=M0(O,a)):x<=a&&(s.expiredLanes|=O),v&=~O}}function Ia(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Dc(){var s=Li;return Li<<=1,(Li&4194240)===0&&(Li=64),s}function ba(s){for(var a=[],f=0;31>f;f++)a.push(s);return a}function Do(s,a,f){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-nr(a),s[a]=f}function B0(s,a){var f=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<f;){var m=31-nr(f),v=1<<m;a[m]=0,p[m]=-1,s[m]=-1,f&=~v}}function Ta(s,a){var f=s.entangledLanes|=a;for(s=s.entanglements;f;){var p=31-nr(f),m=1<<p;m&a|s[p]&a&&(s[p]|=a),f&=~m}}var Le=0;function Mc(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Lc,Oa,Bc,jc,Fc,Na=!1,Fi=[],Mr=null,Lr=null,Br=null,Mo=new Map,Lo=new Map,jr=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uc(s,a){switch(s){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Mo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(a.pointerId)}}function Bo(s,a,f,p,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:f,eventSystemFlags:p,nativeEvent:v,targetContainers:[m]},a!==null&&(a=Qo(a),a!==null&&Oa(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function F0(s,a,f,p,m){switch(a){case"focusin":return Mr=Bo(Mr,s,a,f,p,m),!0;case"dragenter":return Lr=Bo(Lr,s,a,f,p,m),!0;case"mouseover":return Br=Bo(Br,s,a,f,p,m),!0;case"pointerover":var v=m.pointerId;return Mo.set(v,Bo(Mo.get(v)||null,s,a,f,p,m)),!0;case"gotpointercapture":return v=m.pointerId,Lo.set(v,Bo(Lo.get(v)||null,s,a,f,p,m)),!0}return!1}function zc(s){var a=cn(s.target);if(a!==null){var f=un(a);if(f!==null){if(a=f.tag,a===13){if(a=bc(f),a!==null){s.blockedOn=a,Fc(s.priority,function(){Bc(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ui(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var f=xa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var p=new f.constructor(f.type,f);va=p,f.target.dispatchEvent(p),va=null}else return a=Qo(f),a!==null&&Oa(a),s.blockedOn=f,!1;a.shift()}return!0}function Hc(s,a,f){Ui(s)&&f.delete(a)}function U0(){Na=!1,Mr!==null&&Ui(Mr)&&(Mr=null),Lr!==null&&Ui(Lr)&&(Lr=null),Br!==null&&Ui(Br)&&(Br=null),Mo.forEach(Hc),Lo.forEach(Hc)}function jo(s,a){s.blockedOn===a&&(s.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,U0)))}function Fo(s){function a(m){return jo(m,s)}if(0<Fi.length){jo(Fi[0],s);for(var f=1;f<Fi.length;f++){var p=Fi[f];p.blockedOn===s&&(p.blockedOn=null)}}for(Mr!==null&&jo(Mr,s),Lr!==null&&jo(Lr,s),Br!==null&&jo(Br,s),Mo.forEach(a),Lo.forEach(a),f=0;f<jr.length;f++)p=jr[f],p.blockedOn===s&&(p.blockedOn=null);for(;0<jr.length&&(f=jr[0],f.blockedOn===null);)zc(f),f.blockedOn===null&&jr.shift()}var jn=R.ReactCurrentBatchConfig,zi=!0;function z0(s,a,f,p){var m=Le,v=jn.transition;jn.transition=null;try{Le=1,Ra(s,a,f,p)}finally{Le=m,jn.transition=v}}function H0(s,a,f,p){var m=Le,v=jn.transition;jn.transition=null;try{Le=4,Ra(s,a,f,p)}finally{Le=m,jn.transition=v}}function Ra(s,a,f,p){if(zi){var m=xa(s,a,f,p);if(m===null)qa(s,a,p,Hi,f),Uc(s,p);else if(F0(m,s,a,f,p))p.stopPropagation();else if(Uc(s,p),a&4&&-1<j0.indexOf(s)){for(;m!==null;){var v=Qo(m);if(v!==null&&Lc(v),v=xa(s,a,f,p),v===null&&qa(s,a,p,Hi,f),v===m)break;m=v}m!==null&&p.stopPropagation()}else qa(s,a,p,null,f)}}var Hi=null;function xa(s,a,f,p){if(Hi=null,s=wa(p),s=cn(s),s!==null)if(a=un(s),a===null)s=null;else if(f=a.tag,f===13){if(s=bc(a),s!==null)return s;s=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Hi=s,null}function Vc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N0()){case Aa:return 1;case kc:return 4;case Di:case R0:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var Fr=null,ka=null,Vi=null;function Wc(){if(Vi)return Vi;var s,a=ka,f=a.length,p,m="value"in Fr?Fr.value:Fr.textContent,v=m.length;for(s=0;s<f&&a[s]===m[s];s++);var C=f-s;for(p=1;p<=C&&a[f-p]===m[v-p];p++);return Vi=m.slice(s,1<p?1-p:void 0)}function Wi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function $i(){return!0}function $c(){return!1}function Wt(s){function a(f,p,m,v,C){this._reactName=f,this._targetInst=m,this.type=p,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(f=s[O],this[O]=f?f(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?$i:$c,this.isPropagationStopped=$c,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),a}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Wt(Fn),Uo=Z({},Fn,{view:0,detail:0}),V0=Wt(Uo),Da,Ma,zo,Gi=Z({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zo&&(zo&&s.type==="mousemove"?(Da=s.screenX-zo.screenX,Ma=s.screenY-zo.screenY):Ma=Da=0,zo=s),Da)},movementY:function(s){return"movementY"in s?s.movementY:Ma}}),Gc=Wt(Gi),W0=Z({},Gi,{dataTransfer:0}),$0=Wt(W0),G0=Z({},Uo,{relatedTarget:0}),La=Wt(G0),X0=Z({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=Wt(X0),Y0=Z({},Fn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),K0=Wt(Y0),Q0=Z({},Fn,{data:0}),Xc=Wt(Q0),Z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ep[s])?!!a[s]:!1}function Ba(){return tp}var rp=Z({},Uo,{key:function(s){if(s.key){var a=Z0[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Wi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?J0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(s){return s.type==="keypress"?Wi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),np=Wt(rp),op=Z({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=Wt(op),ip=Z({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),sp=Wt(ip),ap=Z({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lp=Wt(ap),up=Z({},Gi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),cp=Wt(up),fp=[9,13,27,32],ja=u&&"CompositionEvent"in window,Ho=null;u&&"documentMode"in document&&(Ho=document.documentMode);var dp=u&&"TextEvent"in window&&!Ho,Yc=u&&(!ja||Ho&&8<Ho&&11>=Ho),Kc=" ",Qc=!1;function Zc(s,a){switch(s){case"keyup":return fp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Un=!1;function hp(s,a){switch(s){case"compositionend":return Jc(a);case"keypress":return a.which!==32?null:(Qc=!0,Kc);case"textInput":return s=a.data,s===Kc&&Qc?null:s;default:return null}}function pp(s,a){if(Un)return s==="compositionend"||!ja&&Zc(s,a)?(s=Wc(),Vi=ka=Fr=null,Un=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Yc&&a.locale!=="ko"?null:a.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!gp[s.type]:a==="textarea"}function tf(s,a,f,p){Cc(p),a=Qi(a,"onChange"),0<a.length&&(f=new Pa("onChange","change",null,f,p),s.push({event:f,listeners:a}))}var Vo=null,Wo=null;function yp(s){_f(s,0)}function Xi(s){var a=$n(s);if(uc(a))return s}function mp(s,a){if(s==="change")return a}var rf=!1;if(u){var Fa;if(u){var Ua="oninput"in document;if(!Ua){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Ua=typeof nf.oninput=="function"}Fa=Ua}else Fa=!1;rf=Fa&&(!document.documentMode||9<document.documentMode)}function of(){Vo&&(Vo.detachEvent("onpropertychange",sf),Wo=Vo=null)}function sf(s){if(s.propertyName==="value"&&Xi(Wo)){var a=[];tf(a,Wo,s,wa(s)),Ic(yp,a)}}function vp(s,a,f){s==="focusin"?(of(),Vo=a,Wo=f,Vo.attachEvent("onpropertychange",sf)):s==="focusout"&&of()}function wp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xi(Wo)}function _p(s,a){if(s==="click")return Xi(a)}function Cp(s,a){if(s==="input"||s==="change")return Xi(a)}function Ep(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var or=typeof Object.is=="function"?Object.is:Ep;function $o(s,a){if(or(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var f=Object.keys(s),p=Object.keys(a);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var m=f[p];if(!c.call(a,m)||!or(s[m],a[m]))return!1}return!0}function af(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lf(s,a){var f=af(s);s=0;for(var p;f;){if(f.nodeType===3){if(p=s+f.textContent.length,s<=a&&p>=a)return{node:f,offset:a-s};s=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=af(f)}}function uf(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?uf(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function cf(){for(var s=window,a=Ri();a instanceof s.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)s=a.contentWindow;else break;a=Ri(s.document)}return a}function za(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Sp(s){var a=cf(),f=s.focusedElem,p=s.selectionRange;if(a!==f&&f&&f.ownerDocument&&uf(f.ownerDocument.documentElement,f)){if(p!==null&&za(f)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(s,f.value.length);else if(s=(a=f.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=f.textContent.length,v=Math.min(p.start,m);p=p.end===void 0?v:Math.min(p.end,m),!s.extend&&v>p&&(m=p,p=v,v=m),m=lf(f,v);var C=lf(f,p);m&&C&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),v>p?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=f;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)s=a[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ap=u&&"documentMode"in document&&11>=document.documentMode,zn=null,Ha=null,Go=null,Va=!1;function ff(s,a,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Va||zn==null||zn!==Ri(p)||(p=zn,"selectionStart"in p&&za(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Go&&$o(Go,p)||(Go=p,p=Qi(Ha,"onSelect"),0<p.length&&(a=new Pa("onSelect","select",null,a,f),s.push({event:a,listeners:p}),a.target=zn)))}function qi(s,a){var f={};return f[s.toLowerCase()]=a.toLowerCase(),f["Webkit"+s]="webkit"+a,f["Moz"+s]="moz"+a,f}var Hn={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},Wa={},df={};u&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Yi(s){if(Wa[s])return Wa[s];if(!Hn[s])return s;var a=Hn[s],f;for(f in a)if(a.hasOwnProperty(f)&&f in df)return Wa[s]=a[f];return s}var hf=Yi("animationend"),pf=Yi("animationiteration"),gf=Yi("animationstart"),yf=Yi("transitionend"),mf=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(s,a){mf.set(s,a),i(a,[s])}for(var $a=0;$a<vf.length;$a++){var Ga=vf[$a],Ip=Ga.toLowerCase(),bp=Ga[0].toUpperCase()+Ga.slice(1);Ur(Ip,"on"+bp)}Ur(hf,"onAnimationEnd"),Ur(pf,"onAnimationIteration"),Ur(gf,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(yf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function wf(s,a,f){var p=s.type||"unknown-event";s.currentTarget=f,I0(p,a,void 0,s),s.currentTarget=null}function _f(s,a){a=(a&4)!==0;for(var f=0;f<s.length;f++){var p=s[f],m=p.event;p=p.listeners;e:{var v=void 0;if(a)for(var C=p.length-1;0<=C;C--){var O=p[C],x=O.instance,j=O.currentTarget;if(O=O.listener,x!==v&&m.isPropagationStopped())break e;wf(m,O,j),v=x}else for(C=0;C<p.length;C++){if(O=p[C],x=O.instance,j=O.currentTarget,O=O.listener,x!==v&&m.isPropagationStopped())break e;wf(m,O,j),v=x}}}if(Pi)throw s=Sa,Pi=!1,Sa=null,s}function We(s,a){var f=a[el];f===void 0&&(f=a[el]=new Set);var p=s+"__bubble";f.has(p)||(Cf(a,s,2,!1),f.add(p))}function Xa(s,a,f){var p=0;a&&(p|=4),Cf(f,s,p,a)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function qo(s){if(!s[Ki]){s[Ki]=!0,n.forEach(function(f){f!=="selectionchange"&&(Tp.has(f)||Xa(f,!1,s),Xa(f,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ki]||(a[Ki]=!0,Xa("selectionchange",!1,a))}}function Cf(s,a,f,p){switch(Vc(a)){case 1:var m=z0;break;case 4:m=H0;break;default:m=Ra}f=m.bind(null,a,f,s),m=void 0,!Ea||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),p?m!==void 0?s.addEventListener(a,f,{capture:!0,passive:m}):s.addEventListener(a,f,!0):m!==void 0?s.addEventListener(a,f,{passive:m}):s.addEventListener(a,f,!1)}function qa(s,a,f,p,m){var v=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var O=p.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(C===4)for(C=p.return;C!==null;){var x=C.tag;if((x===3||x===4)&&(x=C.stateNode.containerInfo,x===m||x.nodeType===8&&x.parentNode===m))return;C=C.return}for(;O!==null;){if(C=cn(O),C===null)return;if(x=C.tag,x===5||x===6){p=v=C;continue e}O=O.parentNode}}p=p.return}Ic(function(){var j=v,W=wa(f),X=[];e:{var V=mf.get(s);if(V!==void 0){var Q=Pa,ee=s;switch(s){case"keypress":if(Wi(f)===0)break e;case"keydown":case"keyup":Q=np;break;case"focusin":ee="focus",Q=La;break;case"focusout":ee="blur",Q=La;break;case"beforeblur":case"afterblur":Q=La;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=$0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=sp;break;case hf:case pf:case gf:Q=q0;break;case yf:Q=lp;break;case"scroll":Q=V0;break;case"wheel":Q=cp;break;case"copy":case"cut":case"paste":Q=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=qc}var te=(a&4)!==0,nt=!te&&s==="scroll",D=te?V!==null?V+"Capture":null:V;te=[];for(var k=j,L;k!==null;){L=k;var q=L.stateNode;if(L.tag===5&&q!==null&&(L=q,D!==null&&(q=Ro(k,D),q!=null&&te.push(Yo(k,q,L)))),nt)break;k=k.return}0<te.length&&(V=new Q(V,ee,null,f,W),X.push({event:V,listeners:te}))}}if((a&7)===0){e:{if(V=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",V&&f!==va&&(ee=f.relatedTarget||f.fromElement)&&(cn(ee)||ee[Sr]))break e;if((Q||V)&&(V=W.window===W?W:(V=W.ownerDocument)?V.defaultView||V.parentWindow:window,Q?(ee=f.relatedTarget||f.toElement,Q=j,ee=ee?cn(ee):null,ee!==null&&(nt=un(ee),ee!==nt||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Q=null,ee=j),Q!==ee)){if(te=Gc,q="onMouseLeave",D="onMouseEnter",k="mouse",(s==="pointerout"||s==="pointerover")&&(te=qc,q="onPointerLeave",D="onPointerEnter",k="pointer"),nt=Q==null?V:$n(Q),L=ee==null?V:$n(ee),V=new te(q,k+"leave",Q,f,W),V.target=nt,V.relatedTarget=L,q=null,cn(W)===j&&(te=new te(D,k+"enter",ee,f,W),te.target=L,te.relatedTarget=nt,q=te),nt=q,Q&&ee)t:{for(te=Q,D=ee,k=0,L=te;L;L=Vn(L))k++;for(L=0,q=D;q;q=Vn(q))L++;for(;0<k-L;)te=Vn(te),k--;for(;0<L-k;)D=Vn(D),L--;for(;k--;){if(te===D||D!==null&&te===D.alternate)break t;te=Vn(te),D=Vn(D)}te=null}else te=null;Q!==null&&Ef(X,V,Q,te,!1),ee!==null&&nt!==null&&Ef(X,nt,ee,te,!0)}}e:{if(V=j?$n(j):window,Q=V.nodeName&&V.nodeName.toLowerCase(),Q==="select"||Q==="input"&&V.type==="file")var ne=mp;else if(ef(V))if(rf)ne=Cp;else{ne=wp;var se=vp}else(Q=V.nodeName)&&Q.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(ne=_p);if(ne&&(ne=ne(s,j))){tf(X,ne,f,W);break e}se&&se(s,V,j),s==="focusout"&&(se=V._wrapperState)&&se.controlled&&V.type==="number"&&ha(V,"number",V.value)}switch(se=j?$n(j):window,s){case"focusin":(ef(se)||se.contentEditable==="true")&&(zn=se,Ha=j,Go=null);break;case"focusout":Go=Ha=zn=null;break;case"mousedown":Va=!0;break;case"contextmenu":case"mouseup":case"dragend":Va=!1,ff(X,f,W);break;case"selectionchange":if(Ap)break;case"keydown":case"keyup":ff(X,f,W)}var ae;if(ja)e:{switch(s){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Un?Zc(s,f)&&(ce="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(ce="onCompositionStart");ce&&(Yc&&f.locale!=="ko"&&(Un||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Un&&(ae=Wc()):(Fr=W,ka="value"in Fr?Fr.value:Fr.textContent,Un=!0)),se=Qi(j,ce),0<se.length&&(ce=new Xc(ce,s,null,f,W),X.push({event:ce,listeners:se}),ae?ce.data=ae:(ae=Jc(f),ae!==null&&(ce.data=ae)))),(ae=dp?hp(s,f):pp(s,f))&&(j=Qi(j,"onBeforeInput"),0<j.length&&(W=new Xc("onBeforeInput","beforeinput",null,f,W),X.push({event:W,listeners:j}),W.data=ae))}_f(X,a)})}function Yo(s,a,f){return{instance:s,listener:a,currentTarget:f}}function Qi(s,a){for(var f=a+"Capture",p=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ro(s,f),v!=null&&p.unshift(Yo(s,v,m)),v=Ro(s,a),v!=null&&p.push(Yo(s,v,m))),s=s.return}return p}function Vn(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ef(s,a,f,p,m){for(var v=a._reactName,C=[];f!==null&&f!==p;){var O=f,x=O.alternate,j=O.stateNode;if(x!==null&&x===p)break;O.tag===5&&j!==null&&(O=j,m?(x=Ro(f,v),x!=null&&C.unshift(Yo(f,x,O))):m||(x=Ro(f,v),x!=null&&C.push(Yo(f,x,O)))),f=f.return}C.length!==0&&s.push({event:a,listeners:C})}var Op=/\r\n?/g,Np=/\u0000|\uFFFD/g;function Sf(s){return(typeof s=="string"?s:""+s).replace(Op,`
`).replace(Np,"")}function Zi(s,a,f){if(a=Sf(a),Sf(s)!==a&&f)throw Error(t(425))}function Ji(){}var Ya=null,Ka=null;function Qa(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Za=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(s){return Af.resolve(null).then(s).catch(kp)}:Za;function kp(s){setTimeout(function(){throw s})}function Ja(s,a){var f=a,p=0;do{var m=f.nextSibling;if(s.removeChild(f),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(p===0){s.removeChild(m),Fo(a);return}p--}else f!=="$"&&f!=="$?"&&f!=="$!"||p++;f=m}while(f);Fo(a)}function zr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function If(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return s;a--}else f==="/$"&&a++}s=s.previousSibling}return null}var Wn=Math.random().toString(36).slice(2),mr="__reactFiber$"+Wn,Ko="__reactProps$"+Wn,Sr="__reactContainer$"+Wn,el="__reactEvents$"+Wn,Pp="__reactListeners$"+Wn,Dp="__reactHandles$"+Wn;function cn(s){var a=s[mr];if(a)return a;for(var f=s.parentNode;f;){if(a=f[Sr]||f[mr]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(s=If(s);s!==null;){if(f=s[mr])return f;s=If(s)}return a}s=f,f=s.parentNode}return null}function Qo(s){return s=s[mr]||s[Sr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function $n(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function es(s){return s[Ko]||null}var tl=[],Gn=-1;function Hr(s){return{current:s}}function $e(s){0>Gn||(s.current=tl[Gn],tl[Gn]=null,Gn--)}function ze(s,a){Gn++,tl[Gn]=s.current,s.current=a}var Vr={},At=Hr(Vr),Mt=Hr(!1),fn=Vr;function Xn(s,a){var f=s.type.contextTypes;if(!f)return Vr;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in f)m[v]=a[v];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function Lt(s){return s=s.childContextTypes,s!=null}function ts(){$e(Mt),$e(At)}function bf(s,a,f){if(At.current!==Vr)throw Error(t(168));ze(At,a),ze(Mt,f)}function Tf(s,a,f){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return f;p=p.getChildContext();for(var m in p)if(!(m in a))throw Error(t(108,Ue(s)||"Unknown",m));return Z({},f,p)}function rs(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vr,fn=At.current,ze(At,s),ze(Mt,Mt.current),!0}function Of(s,a,f){var p=s.stateNode;if(!p)throw Error(t(169));f?(s=Tf(s,a,fn),p.__reactInternalMemoizedMergedChildContext=s,$e(Mt),$e(At),ze(At,s)):$e(Mt),ze(Mt,f)}var Ar=null,ns=!1,rl=!1;function Nf(s){Ar===null?Ar=[s]:Ar.push(s)}function Mp(s){ns=!0,Nf(s)}function Wr(){if(!rl&&Ar!==null){rl=!0;var s=0,a=Le;try{var f=Ar;for(Le=1;s<f.length;s++){var p=f[s];do p=p(!0);while(p!==null)}Ar=null,ns=!1}catch(m){throw Ar!==null&&(Ar=Ar.slice(s+1)),Rc(Aa,Wr),m}finally{Le=a,rl=!1}}return null}var qn=[],Yn=0,os=null,is=0,Kt=[],Qt=0,dn=null,Ir=1,br="";function hn(s,a){qn[Yn++]=is,qn[Yn++]=os,os=s,is=a}function Rf(s,a,f){Kt[Qt++]=Ir,Kt[Qt++]=br,Kt[Qt++]=dn,dn=s;var p=Ir;s=br;var m=32-nr(p)-1;p&=~(1<<m),f+=1;var v=32-nr(a)+m;if(30<v){var C=m-m%5;v=(p&(1<<C)-1).toString(32),p>>=C,m-=C,Ir=1<<32-nr(a)+m|f<<m|p,br=v+s}else Ir=1<<v|f<<m|p,br=s}function nl(s){s.return!==null&&(hn(s,1),Rf(s,1,0))}function ol(s){for(;s===os;)os=qn[--Yn],qn[Yn]=null,is=qn[--Yn],qn[Yn]=null;for(;s===dn;)dn=Kt[--Qt],Kt[Qt]=null,br=Kt[--Qt],Kt[Qt]=null,Ir=Kt[--Qt],Kt[Qt]=null}var $t=null,Gt=null,Xe=!1,ir=null;function xf(s,a){var f=tr(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=s,a=s.deletions,a===null?(s.deletions=[f],s.flags|=16):a.push(f)}function kf(s,a){switch(s.tag){case 5:var f=s.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,$t=s,Gt=zr(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,$t=s,Gt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=dn!==null?{id:Ir,overflow:br}:null,s.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=tr(18,null,null,0),f.stateNode=a,f.return=s,s.child=f,$t=s,Gt=null,!0):!1;default:return!1}}function il(s){return(s.mode&1)!==0&&(s.flags&128)===0}function sl(s){if(Xe){var a=Gt;if(a){var f=a;if(!kf(s,a)){if(il(s))throw Error(t(418));a=zr(f.nextSibling);var p=$t;a&&kf(s,a)?xf(p,f):(s.flags=s.flags&-4097|2,Xe=!1,$t=s)}}else{if(il(s))throw Error(t(418));s.flags=s.flags&-4097|2,Xe=!1,$t=s}}}function Pf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;$t=s}function ss(s){if(s!==$t)return!1;if(!Xe)return Pf(s),Xe=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Qa(s.type,s.memoizedProps)),a&&(a=Gt)){if(il(s))throw Df(),Error(t(418));for(;a;)xf(s,a),a=zr(a.nextSibling)}if(Pf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(a===0){Gt=zr(s.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}s=s.nextSibling}Gt=null}}else Gt=$t?zr(s.stateNode.nextSibling):null;return!0}function Df(){for(var s=Gt;s;)s=zr(s.nextSibling)}function Kn(){Gt=$t=null,Xe=!1}function al(s){ir===null?ir=[s]:ir.push(s)}var Lp=R.ReactCurrentBatchConfig;function Zo(s,a,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var p=f.stateNode}if(!p)throw Error(t(147,s));var m=p,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(C){var O=m.refs;C===null?delete O[v]:O[v]=C},a._stringRef=v,a)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function as(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Mf(s){var a=s._init;return a(s._payload)}function Lf(s){function a(D,k){if(s){var L=D.deletions;L===null?(D.deletions=[k],D.flags|=16):L.push(k)}}function f(D,k){if(!s)return null;for(;k!==null;)a(D,k),k=k.sibling;return null}function p(D,k){for(D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function m(D,k){return D=Zr(D,k),D.index=0,D.sibling=null,D}function v(D,k,L){return D.index=L,s?(L=D.alternate,L!==null?(L=L.index,L<k?(D.flags|=2,k):L):(D.flags|=2,k)):(D.flags|=1048576,k)}function C(D){return s&&D.alternate===null&&(D.flags|=2),D}function O(D,k,L,q){return k===null||k.tag!==6?(k=Zl(L,D.mode,q),k.return=D,k):(k=m(k,L),k.return=D,k)}function x(D,k,L,q){var ne=L.type;return ne===z?W(D,k,L.props.children,q,L.key):k!==null&&(k.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===tt&&Mf(ne)===k.type)?(q=m(k,L.props),q.ref=Zo(D,k,L),q.return=D,q):(q=xs(L.type,L.key,L.props,null,D.mode,q),q.ref=Zo(D,k,L),q.return=D,q)}function j(D,k,L,q){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?(k=Jl(L,D.mode,q),k.return=D,k):(k=m(k,L.children||[]),k.return=D,k)}function W(D,k,L,q,ne){return k===null||k.tag!==7?(k=Cn(L,D.mode,q,ne),k.return=D,k):(k=m(k,L),k.return=D,k)}function X(D,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Zl(""+k,D.mode,L),k.return=D,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case B:return L=xs(k.type,k.key,k.props,null,D.mode,L),L.ref=Zo(D,null,k),L.return=D,L;case F:return k=Jl(k,D.mode,L),k.return=D,k;case tt:var q=k._init;return X(D,q(k._payload),L)}if(To(k)||ie(k))return k=Cn(k,D.mode,L,null),k.return=D,k;as(D,k)}return null}function V(D,k,L,q){var ne=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ne!==null?null:O(D,k,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===ne?x(D,k,L,q):null;case F:return L.key===ne?j(D,k,L,q):null;case tt:return ne=L._init,V(D,k,ne(L._payload),q)}if(To(L)||ie(L))return ne!==null?null:W(D,k,L,q,null);as(D,L)}return null}function Q(D,k,L,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number")return D=D.get(L)||null,O(k,D,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return D=D.get(q.key===null?L:q.key)||null,x(k,D,q,ne);case F:return D=D.get(q.key===null?L:q.key)||null,j(k,D,q,ne);case tt:var se=q._init;return Q(D,k,L,se(q._payload),ne)}if(To(q)||ie(q))return D=D.get(L)||null,W(k,D,q,ne,null);as(k,q)}return null}function ee(D,k,L,q){for(var ne=null,se=null,ae=k,ce=k=0,gt=null;ae!==null&&ce<L.length;ce++){ae.index>ce?(gt=ae,ae=null):gt=ae.sibling;var Ie=V(D,ae,L[ce],q);if(Ie===null){ae===null&&(ae=gt);break}s&&ae&&Ie.alternate===null&&a(D,ae),k=v(Ie,k,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie,ae=gt}if(ce===L.length)return f(D,ae),Xe&&hn(D,ce),ne;if(ae===null){for(;ce<L.length;ce++)ae=X(D,L[ce],q),ae!==null&&(k=v(ae,k,ce),se===null?ne=ae:se.sibling=ae,se=ae);return Xe&&hn(D,ce),ne}for(ae=p(D,ae);ce<L.length;ce++)gt=Q(ae,D,ce,L[ce],q),gt!==null&&(s&&gt.alternate!==null&&ae.delete(gt.key===null?ce:gt.key),k=v(gt,k,ce),se===null?ne=gt:se.sibling=gt,se=gt);return s&&ae.forEach(function(Jr){return a(D,Jr)}),Xe&&hn(D,ce),ne}function te(D,k,L,q){var ne=ie(L);if(typeof ne!="function")throw Error(t(150));if(L=ne.call(L),L==null)throw Error(t(151));for(var se=ne=null,ae=k,ce=k=0,gt=null,Ie=L.next();ae!==null&&!Ie.done;ce++,Ie=L.next()){ae.index>ce?(gt=ae,ae=null):gt=ae.sibling;var Jr=V(D,ae,Ie.value,q);if(Jr===null){ae===null&&(ae=gt);break}s&&ae&&Jr.alternate===null&&a(D,ae),k=v(Jr,k,ce),se===null?ne=Jr:se.sibling=Jr,se=Jr,ae=gt}if(Ie.done)return f(D,ae),Xe&&hn(D,ce),ne;if(ae===null){for(;!Ie.done;ce++,Ie=L.next())Ie=X(D,Ie.value,q),Ie!==null&&(k=v(Ie,k,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie);return Xe&&hn(D,ce),ne}for(ae=p(D,ae);!Ie.done;ce++,Ie=L.next())Ie=Q(ae,D,ce,Ie.value,q),Ie!==null&&(s&&Ie.alternate!==null&&ae.delete(Ie.key===null?ce:Ie.key),k=v(Ie,k,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie);return s&&ae.forEach(function(g2){return a(D,g2)}),Xe&&hn(D,ce),ne}function nt(D,k,L,q){if(typeof L=="object"&&L!==null&&L.type===z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:e:{for(var ne=L.key,se=k;se!==null;){if(se.key===ne){if(ne=L.type,ne===z){if(se.tag===7){f(D,se.sibling),k=m(se,L.props.children),k.return=D,D=k;break e}}else if(se.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===tt&&Mf(ne)===se.type){f(D,se.sibling),k=m(se,L.props),k.ref=Zo(D,se,L),k.return=D,D=k;break e}f(D,se);break}else a(D,se);se=se.sibling}L.type===z?(k=Cn(L.props.children,D.mode,q,L.key),k.return=D,D=k):(q=xs(L.type,L.key,L.props,null,D.mode,q),q.ref=Zo(D,k,L),q.return=D,D=q)}return C(D);case F:e:{for(se=L.key;k!==null;){if(k.key===se)if(k.tag===4&&k.stateNode.containerInfo===L.containerInfo&&k.stateNode.implementation===L.implementation){f(D,k.sibling),k=m(k,L.children||[]),k.return=D,D=k;break e}else{f(D,k);break}else a(D,k);k=k.sibling}k=Jl(L,D.mode,q),k.return=D,D=k}return C(D);case tt:return se=L._init,nt(D,k,se(L._payload),q)}if(To(L))return ee(D,k,L,q);if(ie(L))return te(D,k,L,q);as(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,k!==null&&k.tag===6?(f(D,k.sibling),k=m(k,L),k.return=D,D=k):(f(D,k),k=Zl(L,D.mode,q),k.return=D,D=k),C(D)):f(D,k)}return nt}var Qn=Lf(!0),Bf=Lf(!1),ls=Hr(null),us=null,Zn=null,ll=null;function ul(){ll=Zn=us=null}function cl(s){var a=ls.current;$e(ls),s._currentValue=a}function fl(s,a,f){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===f)break;s=s.return}}function Jn(s,a){us=s,ll=Zn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Bt=!0),s.firstContext=null)}function Zt(s){var a=s._currentValue;if(ll!==s)if(s={context:s,memoizedValue:a,next:null},Zn===null){if(us===null)throw Error(t(308));Zn=s,us.dependencies={lanes:0,firstContext:s}}else Zn=Zn.next=s;return a}var pn=null;function dl(s){pn===null?pn=[s]:pn.push(s)}function jf(s,a,f,p){var m=a.interleaved;return m===null?(f.next=f,dl(a)):(f.next=m.next,m.next=f),a.interleaved=f,Tr(s,p)}function Tr(s,a){s.lanes|=a;var f=s.alternate;for(f!==null&&(f.lanes|=a),f=s,s=s.return;s!==null;)s.childLanes|=a,f=s.alternate,f!==null&&(f.childLanes|=a),f=s,s=s.return;return f.tag===3?f.stateNode:null}var $r=!1;function hl(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ff(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Or(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Gr(s,a,f){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(_e&2)!==0){var m=p.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),p.pending=a,Tr(s,f)}return m=p.interleaved,m===null?(a.next=a,dl(p)):(a.next=m.next,m.next=a),p.interleaved=a,Tr(s,f)}function cs(s,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,f|=p,a.lanes=f,Ta(s,f)}}function Uf(s,a){var f=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var m=null,v=null;if(f=f.firstBaseUpdate,f!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};v===null?m=v=C:v=v.next=C,f=f.next}while(f!==null);v===null?m=v=a:v=v.next=a}else m=v=a;f={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:p.shared,effects:p.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=a:s.next=a,f.lastBaseUpdate=a}function fs(s,a,f,p){var m=s.updateQueue;$r=!1;var v=m.firstBaseUpdate,C=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var x=O,j=x.next;x.next=null,C===null?v=j:C.next=j,C=x;var W=s.alternate;W!==null&&(W=W.updateQueue,O=W.lastBaseUpdate,O!==C&&(O===null?W.firstBaseUpdate=j:O.next=j,W.lastBaseUpdate=x))}if(v!==null){var X=m.baseState;C=0,W=j=x=null,O=v;do{var V=O.lane,Q=O.eventTime;if((p&V)===V){W!==null&&(W=W.next={eventTime:Q,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ee=s,te=O;switch(V=a,Q=f,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){X=ee.call(Q,X,V);break e}X=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,V=typeof ee=="function"?ee.call(Q,X,V):ee,V==null)break e;X=Z({},X,V);break e;case 2:$r=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,V=m.effects,V===null?m.effects=[O]:V.push(O))}else Q={eventTime:Q,lane:V,tag:O.tag,payload:O.payload,callback:O.callback,next:null},W===null?(j=W=Q,x=X):W=W.next=Q,C|=V;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;V=O,O=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);if(W===null&&(x=X),m.baseState=x,m.firstBaseUpdate=j,m.lastBaseUpdate=W,a=m.shared.interleaved,a!==null){m=a;do C|=m.lane,m=m.next;while(m!==a)}else v===null&&(m.shared.lanes=0);mn|=C,s.lanes=C,s.memoizedState=X}}function zf(s,a,f){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],m=p.callback;if(m!==null){if(p.callback=null,p=f,typeof m!="function")throw Error(t(191,m));m.call(p)}}}var Jo={},vr=Hr(Jo),ei=Hr(Jo),ti=Hr(Jo);function gn(s){if(s===Jo)throw Error(t(174));return s}function pl(s,a){switch(ze(ti,a),ze(ei,s),ze(vr,Jo),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ga(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ga(a,s)}$e(vr),ze(vr,a)}function eo(){$e(vr),$e(ei),$e(ti)}function Hf(s){gn(ti.current);var a=gn(vr.current),f=ga(a,s.type);a!==f&&(ze(ei,s),ze(vr,f))}function gl(s){ei.current===s&&($e(vr),$e(ei))}var Ye=Hr(0);function ds(s){for(var a=s;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var yl=[];function ml(){for(var s=0;s<yl.length;s++)yl[s]._workInProgressVersionPrimary=null;yl.length=0}var hs=R.ReactCurrentDispatcher,vl=R.ReactCurrentBatchConfig,yn=0,Ke=null,st=null,ht=null,ps=!1,ri=!1,ni=0,Bp=0;function It(){throw Error(t(321))}function wl(s,a){if(a===null)return!1;for(var f=0;f<a.length&&f<s.length;f++)if(!or(s[f],a[f]))return!1;return!0}function _l(s,a,f,p,m,v){if(yn=v,Ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,hs.current=s===null||s.memoizedState===null?zp:Hp,s=f(p,m),ri){v=0;do{if(ri=!1,ni=0,25<=v)throw Error(t(301));v+=1,ht=st=null,a.updateQueue=null,hs.current=Vp,s=f(p,m)}while(ri)}if(hs.current=ms,a=st!==null&&st.next!==null,yn=0,ht=st=Ke=null,ps=!1,a)throw Error(t(300));return s}function Cl(){var s=ni!==0;return ni=0,s}function wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ke.memoizedState=ht=s:ht=ht.next=s,ht}function Jt(){if(st===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var a=ht===null?Ke.memoizedState:ht.next;if(a!==null)ht=a,st=s;else{if(s===null)throw Error(t(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?Ke.memoizedState=ht=s:ht=ht.next=s}return ht}function oi(s,a){return typeof a=="function"?a(s):a}function El(s){var a=Jt(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var p=st,m=p.baseQueue,v=f.pending;if(v!==null){if(m!==null){var C=m.next;m.next=v.next,v.next=C}p.baseQueue=m=v,f.pending=null}if(m!==null){v=m.next,p=p.baseState;var O=C=null,x=null,j=v;do{var W=j.lane;if((yn&W)===W)x!==null&&(x=x.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),p=j.hasEagerState?j.eagerState:s(p,j.action);else{var X={lane:W,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};x===null?(O=x=X,C=p):x=x.next=X,Ke.lanes|=W,mn|=W}j=j.next}while(j!==null&&j!==v);x===null?C=p:x.next=O,or(p,a.memoizedState)||(Bt=!0),a.memoizedState=p,a.baseState=C,a.baseQueue=x,f.lastRenderedState=p}if(s=f.interleaved,s!==null){m=s;do v=m.lane,Ke.lanes|=v,mn|=v,m=m.next;while(m!==s)}else m===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function Sl(s){var a=Jt(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var p=f.dispatch,m=f.pending,v=a.memoizedState;if(m!==null){f.pending=null;var C=m=m.next;do v=s(v,C.action),C=C.next;while(C!==m);or(v,a.memoizedState)||(Bt=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),f.lastRenderedState=v}return[v,p]}function Vf(){}function Wf(s,a){var f=Ke,p=Jt(),m=a(),v=!or(p.memoizedState,m);if(v&&(p.memoizedState=m,Bt=!0),p=p.queue,Al(Xf.bind(null,f,p,s),[s]),p.getSnapshot!==a||v||ht!==null&&ht.memoizedState.tag&1){if(f.flags|=2048,ii(9,Gf.bind(null,f,p,m,a),void 0,null),pt===null)throw Error(t(349));(yn&30)!==0||$f(f,a,m)}return m}function $f(s,a,f){s.flags|=16384,s={getSnapshot:a,value:f},a=Ke.updateQueue,a===null?(a={lastEffect:null,stores:null},Ke.updateQueue=a,a.stores=[s]):(f=a.stores,f===null?a.stores=[s]:f.push(s))}function Gf(s,a,f,p){a.value=f,a.getSnapshot=p,qf(a)&&Yf(s)}function Xf(s,a,f){return f(function(){qf(a)&&Yf(s)})}function qf(s){var a=s.getSnapshot;s=s.value;try{var f=a();return!or(s,f)}catch{return!0}}function Yf(s){var a=Tr(s,1);a!==null&&ur(a,s,1,-1)}function Kf(s){var a=wr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:s},a.queue=s,s=s.dispatch=Up.bind(null,Ke,s),[a.memoizedState,s]}function ii(s,a,f,p){return s={tag:s,create:a,destroy:f,deps:p,next:null},a=Ke.updateQueue,a===null?(a={lastEffect:null,stores:null},Ke.updateQueue=a,a.lastEffect=s.next=s):(f=a.lastEffect,f===null?a.lastEffect=s.next=s:(p=f.next,f.next=s,s.next=p,a.lastEffect=s)),s}function Qf(){return Jt().memoizedState}function gs(s,a,f,p){var m=wr();Ke.flags|=s,m.memoizedState=ii(1|a,f,void 0,p===void 0?null:p)}function ys(s,a,f,p){var m=Jt();p=p===void 0?null:p;var v=void 0;if(st!==null){var C=st.memoizedState;if(v=C.destroy,p!==null&&wl(p,C.deps)){m.memoizedState=ii(a,f,v,p);return}}Ke.flags|=s,m.memoizedState=ii(1|a,f,v,p)}function Zf(s,a){return gs(8390656,8,s,a)}function Al(s,a){return ys(2048,8,s,a)}function Jf(s,a){return ys(4,2,s,a)}function ed(s,a){return ys(4,4,s,a)}function td(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rd(s,a,f){return f=f!=null?f.concat([s]):null,ys(4,4,td.bind(null,a,s),f)}function Il(){}function nd(s,a){var f=Jt();a=a===void 0?null:a;var p=f.memoizedState;return p!==null&&a!==null&&wl(a,p[1])?p[0]:(f.memoizedState=[s,a],s)}function od(s,a){var f=Jt();a=a===void 0?null:a;var p=f.memoizedState;return p!==null&&a!==null&&wl(a,p[1])?p[0]:(s=s(),f.memoizedState=[s,a],s)}function id(s,a,f){return(yn&21)===0?(s.baseState&&(s.baseState=!1,Bt=!0),s.memoizedState=f):(or(f,a)||(f=Dc(),Ke.lanes|=f,mn|=f,s.baseState=!0),a)}function jp(s,a){var f=Le;Le=f!==0&&4>f?f:4,s(!0);var p=vl.transition;vl.transition={};try{s(!1),a()}finally{Le=f,vl.transition=p}}function sd(){return Jt().memoizedState}function Fp(s,a,f){var p=Kr(s);if(f={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null},ad(s))ld(a,f);else if(f=jf(s,a,f,p),f!==null){var m=Rt();ur(f,s,p,m),ud(f,a,p)}}function Up(s,a,f){var p=Kr(s),m={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null};if(ad(s))ld(a,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var C=a.lastRenderedState,O=v(C,f);if(m.hasEagerState=!0,m.eagerState=O,or(O,C)){var x=a.interleaved;x===null?(m.next=m,dl(a)):(m.next=x.next,x.next=m),a.interleaved=m;return}}catch{}finally{}f=jf(s,a,m,p),f!==null&&(m=Rt(),ur(f,s,p,m),ud(f,a,p))}}function ad(s){var a=s.alternate;return s===Ke||a!==null&&a===Ke}function ld(s,a){ri=ps=!0;var f=s.pending;f===null?a.next=a:(a.next=f.next,f.next=a),s.pending=a}function ud(s,a,f){if((f&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,f|=p,a.lanes=f,Ta(s,f)}}var ms={readContext:Zt,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},zp={readContext:Zt,useCallback:function(s,a){return wr().memoizedState=[s,a===void 0?null:a],s},useContext:Zt,useEffect:Zf,useImperativeHandle:function(s,a,f){return f=f!=null?f.concat([s]):null,gs(4194308,4,td.bind(null,a,s),f)},useLayoutEffect:function(s,a){return gs(4194308,4,s,a)},useInsertionEffect:function(s,a){return gs(4,2,s,a)},useMemo:function(s,a){var f=wr();return a=a===void 0?null:a,s=s(),f.memoizedState=[s,a],s},useReducer:function(s,a,f){var p=wr();return a=f!==void 0?f(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=Fp.bind(null,Ke,s),[p.memoizedState,s]},useRef:function(s){var a=wr();return s={current:s},a.memoizedState=s},useState:Kf,useDebugValue:Il,useDeferredValue:function(s){return wr().memoizedState=s},useTransition:function(){var s=Kf(!1),a=s[0];return s=jp.bind(null,s[1]),wr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,f){var p=Ke,m=wr();if(Xe){if(f===void 0)throw Error(t(407));f=f()}else{if(f=a(),pt===null)throw Error(t(349));(yn&30)!==0||$f(p,a,f)}m.memoizedState=f;var v={value:f,getSnapshot:a};return m.queue=v,Zf(Xf.bind(null,p,v,s),[s]),p.flags|=2048,ii(9,Gf.bind(null,p,v,f,a),void 0,null),f},useId:function(){var s=wr(),a=pt.identifierPrefix;if(Xe){var f=br,p=Ir;f=(p&~(1<<32-nr(p)-1)).toString(32)+f,a=":"+a+"R"+f,f=ni++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=Bp++,a=":"+a+"r"+f.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Hp={readContext:Zt,useCallback:nd,useContext:Zt,useEffect:Al,useImperativeHandle:rd,useInsertionEffect:Jf,useLayoutEffect:ed,useMemo:od,useReducer:El,useRef:Qf,useState:function(){return El(oi)},useDebugValue:Il,useDeferredValue:function(s){var a=Jt();return id(a,st.memoizedState,s)},useTransition:function(){var s=El(oi)[0],a=Jt().memoizedState;return[s,a]},useMutableSource:Vf,useSyncExternalStore:Wf,useId:sd,unstable_isNewReconciler:!1},Vp={readContext:Zt,useCallback:nd,useContext:Zt,useEffect:Al,useImperativeHandle:rd,useInsertionEffect:Jf,useLayoutEffect:ed,useMemo:od,useReducer:Sl,useRef:Qf,useState:function(){return Sl(oi)},useDebugValue:Il,useDeferredValue:function(s){var a=Jt();return st===null?a.memoizedState=s:id(a,st.memoizedState,s)},useTransition:function(){var s=Sl(oi)[0],a=Jt().memoizedState;return[s,a]},useMutableSource:Vf,useSyncExternalStore:Wf,useId:sd,unstable_isNewReconciler:!1};function sr(s,a){if(s&&s.defaultProps){a=Z({},a),s=s.defaultProps;for(var f in s)a[f]===void 0&&(a[f]=s[f]);return a}return a}function bl(s,a,f,p){a=s.memoizedState,f=f(p,a),f=f==null?a:Z({},a,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var vs={isMounted:function(s){return(s=s._reactInternals)?un(s)===s:!1},enqueueSetState:function(s,a,f){s=s._reactInternals;var p=Rt(),m=Kr(s),v=Or(p,m);v.payload=a,f!=null&&(v.callback=f),a=Gr(s,v,m),a!==null&&(ur(a,s,m,p),cs(a,s,m))},enqueueReplaceState:function(s,a,f){s=s._reactInternals;var p=Rt(),m=Kr(s),v=Or(p,m);v.tag=1,v.payload=a,f!=null&&(v.callback=f),a=Gr(s,v,m),a!==null&&(ur(a,s,m,p),cs(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var f=Rt(),p=Kr(s),m=Or(f,p);m.tag=2,a!=null&&(m.callback=a),a=Gr(s,m,p),a!==null&&(ur(a,s,p,f),cs(a,s,p))}};function cd(s,a,f,p,m,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,v,C):a.prototype&&a.prototype.isPureReactComponent?!$o(f,p)||!$o(m,v):!0}function fd(s,a,f){var p=!1,m=Vr,v=a.contextType;return typeof v=="object"&&v!==null?v=Zt(v):(m=Lt(a)?fn:At.current,p=a.contextTypes,v=(p=p!=null)?Xn(s,m):Vr),a=new a(f,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=vs,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),a}function dd(s,a,f,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,p),a.state!==s&&vs.enqueueReplaceState(a,a.state,null)}function Tl(s,a,f,p){var m=s.stateNode;m.props=f,m.state=s.memoizedState,m.refs={},hl(s);var v=a.contextType;typeof v=="object"&&v!==null?m.context=Zt(v):(v=Lt(a)?fn:At.current,m.context=Xn(s,v)),m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(bl(s,a,v,f),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&vs.enqueueReplaceState(m,m.state,null),fs(s,f,m,p),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function to(s,a){try{var f="",p=a;do f+=Se(p),p=p.return;while(p);var m=f}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:m,digest:null}}function Ol(s,a,f){return{value:s,source:null,stack:f??null,digest:a??null}}function Nl(s,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function hd(s,a,f){f=Or(-1,f),f.tag=3,f.payload={element:null};var p=a.value;return f.callback=function(){Is||(Is=!0,Wl=p),Nl(s,a)},f}function pd(s,a,f){f=Or(-1,f),f.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var m=a.value;f.payload=function(){return p(m)},f.callback=function(){Nl(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(f.callback=function(){Nl(s,a),typeof p!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),f}function gd(s,a,f){var p=s.pingCache;if(p===null){p=s.pingCache=new Wp;var m=new Set;p.set(a,m)}else m=p.get(a),m===void 0&&(m=new Set,p.set(a,m));m.has(f)||(m.add(f),s=o2.bind(null,s,a,f),a.then(s,s))}function yd(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function md(s,a,f,p,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Or(-1,1),a.tag=2,Gr(f,a,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var $p=R.ReactCurrentOwner,Bt=!1;function Nt(s,a,f,p){a.child=s===null?Bf(a,null,f,p):Qn(a,s.child,f,p)}function vd(s,a,f,p,m){f=f.render;var v=a.ref;return Jn(a,m),p=_l(s,a,f,p,v,m),f=Cl(),s!==null&&!Bt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Nr(s,a,m)):(Xe&&f&&nl(a),a.flags|=1,Nt(s,a,p,m),a.child)}function wd(s,a,f,p,m){if(s===null){var v=f.type;return typeof v=="function"&&!Ql(v)&&v.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=v,_d(s,a,v,p,m)):(s=xs(f.type,null,p,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,(s.lanes&m)===0){var C=v.memoizedProps;if(f=f.compare,f=f!==null?f:$o,f(C,p)&&s.ref===a.ref)return Nr(s,a,m)}return a.flags|=1,s=Zr(v,p),s.ref=a.ref,s.return=a,a.child=s}function _d(s,a,f,p,m){if(s!==null){var v=s.memoizedProps;if($o(v,p)&&s.ref===a.ref)if(Bt=!1,a.pendingProps=p=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Bt=!0);else return a.lanes=s.lanes,Nr(s,a,m)}return Rl(s,a,f,p,m)}function Cd(s,a,f){var p=a.pendingProps,m=p.children,v=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(no,Xt),Xt|=f;else{if((f&1073741824)===0)return s=v!==null?v.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ze(no,Xt),Xt|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=v!==null?v.baseLanes:f,ze(no,Xt),Xt|=p}else v!==null?(p=v.baseLanes|f,a.memoizedState=null):p=f,ze(no,Xt),Xt|=p;return Nt(s,a,m,f),a.child}function Ed(s,a){var f=a.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function Rl(s,a,f,p,m){var v=Lt(f)?fn:At.current;return v=Xn(a,v),Jn(a,m),f=_l(s,a,f,p,v,m),p=Cl(),s!==null&&!Bt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Nr(s,a,m)):(Xe&&p&&nl(a),a.flags|=1,Nt(s,a,f,m),a.child)}function Sd(s,a,f,p,m){if(Lt(f)){var v=!0;rs(a)}else v=!1;if(Jn(a,m),a.stateNode===null)_s(s,a),fd(a,f,p),Tl(a,f,p,m),p=!0;else if(s===null){var C=a.stateNode,O=a.memoizedProps;C.props=O;var x=C.context,j=f.contextType;typeof j=="object"&&j!==null?j=Zt(j):(j=Lt(f)?fn:At.current,j=Xn(a,j));var W=f.getDerivedStateFromProps,X=typeof W=="function"||typeof C.getSnapshotBeforeUpdate=="function";X||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==p||x!==j)&&dd(a,C,p,j),$r=!1;var V=a.memoizedState;C.state=V,fs(a,p,C,m),x=a.memoizedState,O!==p||V!==x||Mt.current||$r?(typeof W=="function"&&(bl(a,f,W,p),x=a.memoizedState),(O=$r||cd(a,f,O,p,V,x,j))?(X||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=x),C.props=p,C.state=x,C.context=j,p=O):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{C=a.stateNode,Ff(s,a),O=a.memoizedProps,j=a.type===a.elementType?O:sr(a.type,O),C.props=j,X=a.pendingProps,V=C.context,x=f.contextType,typeof x=="object"&&x!==null?x=Zt(x):(x=Lt(f)?fn:At.current,x=Xn(a,x));var Q=f.getDerivedStateFromProps;(W=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==X||V!==x)&&dd(a,C,p,x),$r=!1,V=a.memoizedState,C.state=V,fs(a,p,C,m);var ee=a.memoizedState;O!==X||V!==ee||Mt.current||$r?(typeof Q=="function"&&(bl(a,f,Q,p),ee=a.memoizedState),(j=$r||cd(a,f,j,p,V,ee,x)||!1)?(W||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,ee,x),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,ee,x)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&V===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&V===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ee),C.props=p,C.state=ee,C.context=x,p=j):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&V===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&V===s.memoizedState||(a.flags|=1024),p=!1)}return xl(s,a,f,p,v,m)}function xl(s,a,f,p,m,v){Ed(s,a);var C=(a.flags&128)!==0;if(!p&&!C)return m&&Of(a,f,!1),Nr(s,a,v);p=a.stateNode,$p.current=a;var O=C&&typeof f.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&C?(a.child=Qn(a,s.child,null,v),a.child=Qn(a,null,O,v)):Nt(s,a,O,v),a.memoizedState=p.state,m&&Of(a,f,!0),a.child}function Ad(s){var a=s.stateNode;a.pendingContext?bf(s,a.pendingContext,a.pendingContext!==a.context):a.context&&bf(s,a.context,!1),pl(s,a.containerInfo)}function Id(s,a,f,p,m){return Kn(),al(m),a.flags|=256,Nt(s,a,f,p),a.child}var kl={dehydrated:null,treeContext:null,retryLane:0};function Pl(s){return{baseLanes:s,cachePool:null,transitions:null}}function bd(s,a,f){var p=a.pendingProps,m=Ye.current,v=!1,C=(a.flags&128)!==0,O;if((O=C)||(O=s!==null&&s.memoizedState===null?!1:(m&2)!==0),O?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),ze(Ye,m&1),s===null)return sl(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=p.children,s=p.fallback,v?(p=a.mode,v=a.child,C={mode:"hidden",children:C},(p&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=C):v=ks(C,p,0,null),s=Cn(s,p,f,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=Pl(f),a.memoizedState=kl,s):Dl(a,C));if(m=s.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return Gp(s,a,C,p,O,m,f);if(v){v=p.fallback,C=a.mode,m=s.child,O=m.sibling;var x={mode:"hidden",children:p.children};return(C&1)===0&&a.child!==m?(p=a.child,p.childLanes=0,p.pendingProps=x,a.deletions=null):(p=Zr(m,x),p.subtreeFlags=m.subtreeFlags&14680064),O!==null?v=Zr(O,v):(v=Cn(v,C,f,null),v.flags|=2),v.return=a,p.return=a,p.sibling=v,a.child=p,p=v,v=a.child,C=s.child.memoizedState,C=C===null?Pl(f):{baseLanes:C.baseLanes|f,cachePool:null,transitions:C.transitions},v.memoizedState=C,v.childLanes=s.childLanes&~f,a.memoizedState=kl,p}return v=s.child,s=v.sibling,p=Zr(v,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=f),p.return=a,p.sibling=null,s!==null&&(f=a.deletions,f===null?(a.deletions=[s],a.flags|=16):f.push(s)),a.child=p,a.memoizedState=null,p}function Dl(s,a){return a=ks({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ws(s,a,f,p){return p!==null&&al(p),Qn(a,s.child,null,f),s=Dl(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Gp(s,a,f,p,m,v,C){if(f)return a.flags&256?(a.flags&=-257,p=Ol(Error(t(422))),ws(s,a,C,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=p.fallback,m=a.mode,p=ks({mode:"visible",children:p.children},m,0,null),v=Cn(v,m,C,null),v.flags|=2,p.return=a,v.return=a,p.sibling=v,a.child=p,(a.mode&1)!==0&&Qn(a,s.child,null,C),a.child.memoizedState=Pl(C),a.memoizedState=kl,v);if((a.mode&1)===0)return ws(s,a,C,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var O=p.dgst;return p=O,v=Error(t(419)),p=Ol(v,p,void 0),ws(s,a,C,p)}if(O=(C&s.childLanes)!==0,Bt||O){if(p=pt,p!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(p.suspendedLanes|C))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Tr(s,m),ur(p,s,m,-1))}return Kl(),p=Ol(Error(t(421))),ws(s,a,C,p)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=i2.bind(null,s),m._reactRetry=a,null):(s=v.treeContext,Gt=zr(m.nextSibling),$t=a,Xe=!0,ir=null,s!==null&&(Kt[Qt++]=Ir,Kt[Qt++]=br,Kt[Qt++]=dn,Ir=s.id,br=s.overflow,dn=a),a=Dl(a,p.children),a.flags|=4096,a)}function Td(s,a,f){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),fl(s.return,a,f)}function Ml(s,a,f,p,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=f,v.tailMode=m)}function Od(s,a,f){var p=a.pendingProps,m=p.revealOrder,v=p.tail;if(Nt(s,a,p.children,f),p=Ye.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Td(s,f,a);else if(s.tag===19)Td(s,f,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ze(Ye,p),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(f=a.child,m=null;f!==null;)s=f.alternate,s!==null&&ds(s)===null&&(m=f),f=f.sibling;f=m,f===null?(m=a.child,a.child=null):(m=f.sibling,f.sibling=null),Ml(a,!1,m,f,v);break;case"backwards":for(f=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&ds(s)===null){a.child=m;break}s=m.sibling,m.sibling=f,f=m,m=s}Ml(a,!0,f,null,v);break;case"together":Ml(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _s(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Nr(s,a,f){if(s!==null&&(a.dependencies=s.dependencies),mn|=a.lanes,(f&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,f=Zr(s,s.pendingProps),a.child=f,f.return=a;s.sibling!==null;)s=s.sibling,f=f.sibling=Zr(s,s.pendingProps),f.return=a;f.sibling=null}return a.child}function Xp(s,a,f){switch(a.tag){case 3:Ad(a),Kn();break;case 5:Hf(a);break;case 1:Lt(a.type)&&rs(a);break;case 4:pl(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,m=a.memoizedProps.value;ze(ls,p._currentValue),p._currentValue=m;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ze(Ye,Ye.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?bd(s,a,f):(ze(Ye,Ye.current&1),s=Nr(s,a,f),s!==null?s.sibling:null);ze(Ye,Ye.current&1);break;case 19:if(p=(f&a.childLanes)!==0,(s.flags&128)!==0){if(p)return Od(s,a,f);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ze(Ye,Ye.current),p)break;return null;case 22:case 23:return a.lanes=0,Cd(s,a,f)}return Nr(s,a,f)}var Nd,Ll,Rd,xd;Nd=function(s,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ll=function(){},Rd=function(s,a,f,p){var m=s.memoizedProps;if(m!==p){s=a.stateNode,gn(vr.current);var v=null;switch(f){case"input":m=fa(s,m),p=fa(s,p),v=[];break;case"select":m=Z({},m,{value:void 0}),p=Z({},p,{value:void 0}),v=[];break;case"textarea":m=pa(s,m),p=pa(s,p),v=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Ji)}ya(f,p);var C;f=null;for(j in m)if(!p.hasOwnProperty(j)&&m.hasOwnProperty(j)&&m[j]!=null)if(j==="style"){var O=m[j];for(C in O)O.hasOwnProperty(C)&&(f||(f={}),f[C]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?v||(v=[]):(v=v||[]).push(j,null));for(j in p){var x=p[j];if(O=m?.[j],p.hasOwnProperty(j)&&x!==O&&(x!=null||O!=null))if(j==="style")if(O){for(C in O)!O.hasOwnProperty(C)||x&&x.hasOwnProperty(C)||(f||(f={}),f[C]="");for(C in x)x.hasOwnProperty(C)&&O[C]!==x[C]&&(f||(f={}),f[C]=x[C])}else f||(v||(v=[]),v.push(j,f)),f=x;else j==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,O=O?O.__html:void 0,x!=null&&O!==x&&(v=v||[]).push(j,x)):j==="children"?typeof x!="string"&&typeof x!="number"||(v=v||[]).push(j,""+x):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(x!=null&&j==="onScroll"&&We("scroll",s),v||O===x||(v=[])):(v=v||[]).push(j,x))}f&&(v=v||[]).push("style",f);var j=v;(a.updateQueue=j)&&(a.flags|=4)}},xd=function(s,a,f,p){f!==p&&(a.flags|=4)};function si(s,a){if(!Xe)switch(s.tailMode){case"hidden":a=s.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function bt(s){var a=s.alternate!==null&&s.alternate.child===s.child,f=0,p=0;if(a)for(var m=s.child;m!==null;)f|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)f|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=p,s.childLanes=f,a}function qp(s,a,f){var p=a.pendingProps;switch(ol(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return Lt(a.type)&&ts(),bt(a),null;case 3:return p=a.stateNode,eo(),$e(Mt),$e(At),ml(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(ss(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ir!==null&&(Xl(ir),ir=null))),Ll(s,a),bt(a),null;case 5:gl(a);var m=gn(ti.current);if(f=a.type,s!==null&&a.stateNode!=null)Rd(s,a,f,p,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return bt(a),null}if(s=gn(vr.current),ss(a)){p=a.stateNode,f=a.type;var v=a.memoizedProps;switch(p[mr]=a,p[Ko]=v,s=(a.mode&1)!==0,f){case"dialog":We("cancel",p),We("close",p);break;case"iframe":case"object":case"embed":We("load",p);break;case"video":case"audio":for(m=0;m<Xo.length;m++)We(Xo[m],p);break;case"source":We("error",p);break;case"img":case"image":case"link":We("error",p),We("load",p);break;case"details":We("toggle",p);break;case"input":cc(p,v),We("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!v.multiple},We("invalid",p);break;case"textarea":hc(p,v),We("invalid",p)}ya(f,v),m=null;for(var C in v)if(v.hasOwnProperty(C)){var O=v[C];C==="children"?typeof O=="string"?p.textContent!==O&&(v.suppressHydrationWarning!==!0&&Zi(p.textContent,O,s),m=["children",O]):typeof O=="number"&&p.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&Zi(p.textContent,O,s),m=["children",""+O]):o.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&We("scroll",p)}switch(f){case"input":Ni(p),dc(p,v,!0);break;case"textarea":Ni(p),gc(p);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(p.onclick=Ji)}p=m,a.updateQueue=p,p!==null&&(a.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=yc(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(f,{is:p.is}):(s=C.createElement(f),f==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,f),s[mr]=a,s[Ko]=p,Nd(s,a,!1,!1),a.stateNode=s;e:{switch(C=ma(f,p),f){case"dialog":We("cancel",s),We("close",s),m=p;break;case"iframe":case"object":case"embed":We("load",s),m=p;break;case"video":case"audio":for(m=0;m<Xo.length;m++)We(Xo[m],s);m=p;break;case"source":We("error",s),m=p;break;case"img":case"image":case"link":We("error",s),We("load",s),m=p;break;case"details":We("toggle",s),m=p;break;case"input":cc(s,p),m=fa(s,p),We("invalid",s);break;case"option":m=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},m=Z({},p,{value:void 0}),We("invalid",s);break;case"textarea":hc(s,p),m=pa(s,p),We("invalid",s);break;default:m=p}ya(f,m),O=m;for(v in O)if(O.hasOwnProperty(v)){var x=O[v];v==="style"?wc(s,x):v==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&mc(s,x)):v==="children"?typeof x=="string"?(f!=="textarea"||x!=="")&&Oo(s,x):typeof x=="number"&&Oo(s,""+x):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?x!=null&&v==="onScroll"&&We("scroll",s):x!=null&&b(s,v,x,C))}switch(f){case"input":Ni(s),dc(s,p,!1);break;case"textarea":Ni(s),gc(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Me(p.value));break;case"select":s.multiple=!!p.multiple,v=p.value,v!=null?Mn(s,!!p.multiple,v,!1):p.defaultValue!=null&&Mn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ji)}switch(f){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return bt(a),null;case 6:if(s&&a.stateNode!=null)xd(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(f=gn(ti.current),gn(vr.current),ss(a)){if(p=a.stateNode,f=a.memoizedProps,p[mr]=a,(v=p.nodeValue!==f)&&(s=$t,s!==null))switch(s.tag){case 3:Zi(p.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Zi(p.nodeValue,f,(s.mode&1)!==0)}v&&(a.flags|=4)}else p=(f.nodeType===9?f:f.ownerDocument).createTextNode(p),p[mr]=a,a.stateNode=p}return bt(a),null;case 13:if($e(Ye),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Xe&&Gt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Df(),Kn(),a.flags|=98560,v=!1;else if(v=ss(a),p!==null&&p.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[mr]=a}else Kn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),v=!1}else ir!==null&&(Xl(ir),ir=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ye.current&1)!==0?at===0&&(at=3):Kl())),a.updateQueue!==null&&(a.flags|=4),bt(a),null);case 4:return eo(),Ll(s,a),s===null&&qo(a.stateNode.containerInfo),bt(a),null;case 10:return cl(a.type._context),bt(a),null;case 17:return Lt(a.type)&&ts(),bt(a),null;case 19:if($e(Ye),v=a.memoizedState,v===null)return bt(a),null;if(p=(a.flags&128)!==0,C=v.rendering,C===null)if(p)si(v,!1);else{if(at!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=ds(s),C!==null){for(a.flags|=128,si(v,!1),p=C.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=f,f=a.child;f!==null;)v=f,s=p,v.flags&=14680066,C=v.alternate,C===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,s=C.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return ze(Ye,Ye.current&1|2),a.child}s=s.sibling}v.tail!==null&&rt()>oo&&(a.flags|=128,p=!0,si(v,!1),a.lanes=4194304)}else{if(!p)if(s=ds(C),s!==null){if(a.flags|=128,p=!0,f=s.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),si(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Xe)return bt(a),null}else 2*rt()-v.renderingStartTime>oo&&f!==1073741824&&(a.flags|=128,p=!0,si(v,!1),a.lanes=4194304);v.isBackwards?(C.sibling=a.child,a.child=C):(f=v.last,f!==null?f.sibling=C:a.child=C,v.last=C)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=rt(),a.sibling=null,f=Ye.current,ze(Ye,p?f&1|2:f&1),a):(bt(a),null);case 22:case 23:return Yl(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Xt&1073741824)!==0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Yp(s,a){switch(ol(a),a.tag){case 1:return Lt(a.type)&&ts(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return eo(),$e(Mt),$e(At),ml(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return gl(a),null;case 13:if($e(Ye),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Kn()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return $e(Ye),null;case 4:return eo(),null;case 10:return cl(a.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var Cs=!1,Tt=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,J=null;function ro(s,a){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(p){Je(s,a,p)}else f.current=null}function Bl(s,a,f){try{f()}catch(p){Je(s,a,p)}}var kd=!1;function Qp(s,a){if(Ya=zi,s=cf(),za(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var m=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{f.nodeType,v.nodeType}catch{f=null;break e}var C=0,O=-1,x=-1,j=0,W=0,X=s,V=null;t:for(;;){for(var Q;X!==f||m!==0&&X.nodeType!==3||(O=C+m),X!==v||p!==0&&X.nodeType!==3||(x=C+p),X.nodeType===3&&(C+=X.nodeValue.length),(Q=X.firstChild)!==null;)V=X,X=Q;for(;;){if(X===s)break t;if(V===f&&++j===m&&(O=C),V===v&&++W===p&&(x=C),(Q=X.nextSibling)!==null)break;X=V,V=X.parentNode}X=Q}f=O===-1||x===-1?null:{start:O,end:x}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ka={focusedElem:s,selectionRange:f},zi=!1,J=a;J!==null;)if(a=J,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,J=s;else for(;J!==null;){a=J;try{var ee=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,nt=ee.memoizedState,D=a.stateNode,k=D.getSnapshotBeforeUpdate(a.elementType===a.type?te:sr(a.type,te),nt);D.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var L=a.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(q){Je(a,a.return,q)}if(s=a.sibling,s!==null){s.return=a.return,J=s;break}J=a.return}return ee=kd,kd=!1,ee}function ai(s,a,f){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Bl(a,f,v)}m=m.next}while(m!==p)}}function Es(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&s)===s){var p=f.create;f.destroy=p()}f=f.next}while(f!==a)}}function jl(s){var a=s.ref;if(a!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof a=="function"?a(s):a.current=s}}function Pd(s){var a=s.alternate;a!==null&&(s.alternate=null,Pd(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[mr],delete a[Ko],delete a[el],delete a[Pp],delete a[Dp])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Dd(s){return s.tag===5||s.tag===3||s.tag===4}function Md(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Dd(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fl(s,a,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(s,a):f.insertBefore(s,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(s,f)):(a=f,a.appendChild(s)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=Ji));else if(p!==4&&(s=s.child,s!==null))for(Fl(s,a,f),s=s.sibling;s!==null;)Fl(s,a,f),s=s.sibling}function Ul(s,a,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?f.insertBefore(s,a):f.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Ul(s,a,f),s=s.sibling;s!==null;)Ul(s,a,f),s=s.sibling}var _t=null,ar=!1;function Xr(s,a,f){for(f=f.child;f!==null;)Ld(s,a,f),f=f.sibling}function Ld(s,a,f){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Mi,f)}catch{}switch(f.tag){case 5:Tt||ro(f,a);case 6:var p=_t,m=ar;_t=null,Xr(s,a,f),_t=p,ar=m,_t!==null&&(ar?(s=_t,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):_t.removeChild(f.stateNode));break;case 18:_t!==null&&(ar?(s=_t,f=f.stateNode,s.nodeType===8?Ja(s.parentNode,f):s.nodeType===1&&Ja(s,f),Fo(s)):Ja(_t,f.stateNode));break;case 4:p=_t,m=ar,_t=f.stateNode.containerInfo,ar=!0,Xr(s,a,f),_t=p,ar=m;break;case 0:case 11:case 14:case 15:if(!Tt&&(p=f.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var v=m,C=v.destroy;v=v.tag,C!==void 0&&((v&2)!==0||(v&4)!==0)&&Bl(f,a,C),m=m.next}while(m!==p)}Xr(s,a,f);break;case 1:if(!Tt&&(ro(f,a),p=f.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=f.memoizedProps,p.state=f.memoizedState,p.componentWillUnmount()}catch(O){Je(f,a,O)}Xr(s,a,f);break;case 21:Xr(s,a,f);break;case 22:f.mode&1?(Tt=(p=Tt)||f.memoizedState!==null,Xr(s,a,f),Tt=p):Xr(s,a,f);break;default:Xr(s,a,f)}}function Bd(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new Kp),a.forEach(function(p){var m=s2.bind(null,s,p);f.has(p)||(f.add(p),p.then(m,m))})}}function lr(s,a){var f=a.deletions;if(f!==null)for(var p=0;p<f.length;p++){var m=f[p];try{var v=s,C=a,O=C;e:for(;O!==null;){switch(O.tag){case 5:_t=O.stateNode,ar=!1;break e;case 3:_t=O.stateNode.containerInfo,ar=!0;break e;case 4:_t=O.stateNode.containerInfo,ar=!0;break e}O=O.return}if(_t===null)throw Error(t(160));Ld(v,C,m),_t=null,ar=!1;var x=m.alternate;x!==null&&(x.return=null),m.return=null}catch(j){Je(m,a,j)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)jd(a,s),a=a.sibling}function jd(s,a){var f=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(lr(a,s),_r(s),p&4){try{ai(3,s,s.return),Es(3,s)}catch(te){Je(s,s.return,te)}try{ai(5,s,s.return)}catch(te){Je(s,s.return,te)}}break;case 1:lr(a,s),_r(s),p&512&&f!==null&&ro(f,f.return);break;case 5:if(lr(a,s),_r(s),p&512&&f!==null&&ro(f,f.return),s.flags&32){var m=s.stateNode;try{Oo(m,"")}catch(te){Je(s,s.return,te)}}if(p&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,C=f!==null?f.memoizedProps:v,O=s.type,x=s.updateQueue;if(s.updateQueue=null,x!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&fc(m,v),ma(O,C);var j=ma(O,v);for(C=0;C<x.length;C+=2){var W=x[C],X=x[C+1];W==="style"?wc(m,X):W==="dangerouslySetInnerHTML"?mc(m,X):W==="children"?Oo(m,X):b(m,W,X,j)}switch(O){case"input":da(m,v);break;case"textarea":pc(m,v);break;case"select":var V=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Q=v.value;Q!=null?Mn(m,!!v.multiple,Q,!1):V!==!!v.multiple&&(v.defaultValue!=null?Mn(m,!!v.multiple,v.defaultValue,!0):Mn(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ko]=v}catch(te){Je(s,s.return,te)}}break;case 6:if(lr(a,s),_r(s),p&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(te){Je(s,s.return,te)}}break;case 3:if(lr(a,s),_r(s),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Fo(a.containerInfo)}catch(te){Je(s,s.return,te)}break;case 4:lr(a,s),_r(s);break;case 13:lr(a,s),_r(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Vl=rt())),p&4&&Bd(s);break;case 22:if(W=f!==null&&f.memoizedState!==null,s.mode&1?(Tt=(j=Tt)||W,lr(a,s),Tt=j):lr(a,s),_r(s),p&8192){if(j=s.memoizedState!==null,(s.stateNode.isHidden=j)&&!W&&(s.mode&1)!==0)for(J=s,W=s.child;W!==null;){for(X=J=W;J!==null;){switch(V=J,Q=V.child,V.tag){case 0:case 11:case 14:case 15:ai(4,V,V.return);break;case 1:ro(V,V.return);var ee=V.stateNode;if(typeof ee.componentWillUnmount=="function"){p=V,f=V.return;try{a=p,ee.props=a.memoizedProps,ee.state=a.memoizedState,ee.componentWillUnmount()}catch(te){Je(p,f,te)}}break;case 5:ro(V,V.return);break;case 22:if(V.memoizedState!==null){zd(X);continue}}Q!==null?(Q.return=V,J=Q):zd(X)}W=W.sibling}e:for(W=null,X=s;;){if(X.tag===5){if(W===null){W=X;try{m=X.stateNode,j?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=X.stateNode,x=X.memoizedProps.style,C=x!=null&&x.hasOwnProperty("display")?x.display:null,O.style.display=vc("display",C))}catch(te){Je(s,s.return,te)}}}else if(X.tag===6){if(W===null)try{X.stateNode.nodeValue=j?"":X.memoizedProps}catch(te){Je(s,s.return,te)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===s)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===s)break e;for(;X.sibling===null;){if(X.return===null||X.return===s)break e;W===X&&(W=null),X=X.return}W===X&&(W=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:lr(a,s),_r(s),p&4&&Bd(s);break;case 21:break;default:lr(a,s),_r(s)}}function _r(s){var a=s.flags;if(a&2){try{e:{for(var f=s.return;f!==null;){if(Dd(f)){var p=f;break e}f=f.return}throw Error(t(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(Oo(m,""),p.flags&=-33);var v=Md(s);Ul(s,v,m);break;case 3:case 4:var C=p.stateNode.containerInfo,O=Md(s);Fl(s,O,C);break;default:throw Error(t(161))}}catch(x){Je(s,s.return,x)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Zp(s,a,f){J=s,Fd(s)}function Fd(s,a,f){for(var p=(s.mode&1)!==0;J!==null;){var m=J,v=m.child;if(m.tag===22&&p){var C=m.memoizedState!==null||Cs;if(!C){var O=m.alternate,x=O!==null&&O.memoizedState!==null||Tt;O=Cs;var j=Tt;if(Cs=C,(Tt=x)&&!j)for(J=m;J!==null;)C=J,x=C.child,C.tag===22&&C.memoizedState!==null?Hd(m):x!==null?(x.return=C,J=x):Hd(m);for(;v!==null;)J=v,Fd(v),v=v.sibling;J=m,Cs=O,Tt=j}Ud(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,J=v):Ud(s)}}function Ud(s){for(;J!==null;){var a=J;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Tt||Es(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Tt)if(f===null)p.componentDidMount();else{var m=a.elementType===a.type?f.memoizedProps:sr(a.type,f.memoizedProps);p.componentDidUpdate(m,f.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&zf(a,v,p);break;case 3:var C=a.updateQueue;if(C!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}zf(a,C,f)}break;case 5:var O=a.stateNode;if(f===null&&a.flags&4){f=O;var x=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&f.focus();break;case"img":x.src&&(f.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var j=a.alternate;if(j!==null){var W=j.memoizedState;if(W!==null){var X=W.dehydrated;X!==null&&Fo(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tt||a.flags&512&&jl(a)}catch(V){Je(a,a.return,V)}}if(a===s){J=null;break}if(f=a.sibling,f!==null){f.return=a.return,J=f;break}J=a.return}}function zd(s){for(;J!==null;){var a=J;if(a===s){J=null;break}var f=a.sibling;if(f!==null){f.return=a.return,J=f;break}J=a.return}}function Hd(s){for(;J!==null;){var a=J;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{Es(4,a)}catch(x){Je(a,f,x)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var m=a.return;try{p.componentDidMount()}catch(x){Je(a,m,x)}}var v=a.return;try{jl(a)}catch(x){Je(a,v,x)}break;case 5:var C=a.return;try{jl(a)}catch(x){Je(a,C,x)}}}catch(x){Je(a,a.return,x)}if(a===s){J=null;break}var O=a.sibling;if(O!==null){O.return=a.return,J=O;break}J=a.return}}var Jp=Math.ceil,Ss=R.ReactCurrentDispatcher,zl=R.ReactCurrentOwner,er=R.ReactCurrentBatchConfig,_e=0,pt=null,it=null,Ct=0,Xt=0,no=Hr(0),at=0,li=null,mn=0,As=0,Hl=0,ui=null,jt=null,Vl=0,oo=1/0,Rr=null,Is=!1,Wl=null,qr=null,bs=!1,Yr=null,Ts=0,ci=0,$l=null,Os=-1,Ns=0;function Rt(){return(_e&6)!==0?rt():Os!==-1?Os:Os=rt()}function Kr(s){return(s.mode&1)===0?1:(_e&2)!==0&&Ct!==0?Ct&-Ct:Lp.transition!==null?(Ns===0&&(Ns=Dc()),Ns):(s=Le,s!==0||(s=window.event,s=s===void 0?16:Vc(s.type)),s)}function ur(s,a,f,p){if(50<ci)throw ci=0,$l=null,Error(t(185));Do(s,f,p),((_e&2)===0||s!==pt)&&(s===pt&&((_e&2)===0&&(As|=f),at===4&&Qr(s,Ct)),Ft(s,p),f===1&&_e===0&&(a.mode&1)===0&&(oo=rt()+500,ns&&Wr()))}function Ft(s,a){var f=s.callbackNode;L0(s,a);var p=ji(s,s===pt?Ct:0);if(p===0)f!==null&&xc(f),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(f!=null&&xc(f),a===1)s.tag===0?Mp(Wd.bind(null,s)):Nf(Wd.bind(null,s)),xp(function(){(_e&6)===0&&Wr()}),f=null;else{switch(Mc(p)){case 1:f=Aa;break;case 4:f=kc;break;case 16:f=Di;break;case 536870912:f=Pc;break;default:f=Di}f=Zd(f,Vd.bind(null,s))}s.callbackPriority=a,s.callbackNode=f}}function Vd(s,a){if(Os=-1,Ns=0,(_e&6)!==0)throw Error(t(327));var f=s.callbackNode;if(io()&&s.callbackNode!==f)return null;var p=ji(s,s===pt?Ct:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Rs(s,p);else{a=p;var m=_e;_e|=2;var v=Gd();(pt!==s||Ct!==a)&&(Rr=null,oo=rt()+500,wn(s,a));do try{r2();break}catch(O){$d(s,O)}while(!0);ul(),Ss.current=v,_e=m,it!==null?a=0:(pt=null,Ct=0,a=at)}if(a!==0){if(a===2&&(m=Ia(s),m!==0&&(p=m,a=Gl(s,m))),a===1)throw f=li,wn(s,0),Qr(s,p),Ft(s,rt()),f;if(a===6)Qr(s,p);else{if(m=s.current.alternate,(p&30)===0&&!e2(m)&&(a=Rs(s,p),a===2&&(v=Ia(s),v!==0&&(p=v,a=Gl(s,v))),a===1))throw f=li,wn(s,0),Qr(s,p),Ft(s,rt()),f;switch(s.finishedWork=m,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:_n(s,jt,Rr);break;case 3:if(Qr(s,p),(p&130023424)===p&&(a=Vl+500-rt(),10<a)){if(ji(s,0)!==0)break;if(m=s.suspendedLanes,(m&p)!==p){Rt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Za(_n.bind(null,s,jt,Rr),a);break}_n(s,jt,Rr);break;case 4:if(Qr(s,p),(p&4194240)===p)break;for(a=s.eventTimes,m=-1;0<p;){var C=31-nr(p);v=1<<C,C=a[C],C>m&&(m=C),p&=~v}if(p=m,p=rt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Jp(p/1960))-p,10<p){s.timeoutHandle=Za(_n.bind(null,s,jt,Rr),p);break}_n(s,jt,Rr);break;case 5:_n(s,jt,Rr);break;default:throw Error(t(329))}}}return Ft(s,rt()),s.callbackNode===f?Vd.bind(null,s):null}function Gl(s,a){var f=ui;return s.current.memoizedState.isDehydrated&&(wn(s,a).flags|=256),s=Rs(s,a),s!==2&&(a=jt,jt=f,a!==null&&Xl(a)),s}function Xl(s){jt===null?jt=s:jt.push.apply(jt,s)}function e2(s){for(var a=s;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var p=0;p<f.length;p++){var m=f[p],v=m.getSnapshot;m=m.value;try{if(!or(v(),m))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qr(s,a){for(a&=~Hl,a&=~As,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var f=31-nr(a),p=1<<f;s[f]=-1,a&=~p}}function Wd(s){if((_e&6)!==0)throw Error(t(327));io();var a=ji(s,0);if((a&1)===0)return Ft(s,rt()),null;var f=Rs(s,a);if(s.tag!==0&&f===2){var p=Ia(s);p!==0&&(a=p,f=Gl(s,p))}if(f===1)throw f=li,wn(s,0),Qr(s,a),Ft(s,rt()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,_n(s,jt,Rr),Ft(s,rt()),null}function ql(s,a){var f=_e;_e|=1;try{return s(a)}finally{_e=f,_e===0&&(oo=rt()+500,ns&&Wr())}}function vn(s){Yr!==null&&Yr.tag===0&&(_e&6)===0&&io();var a=_e;_e|=1;var f=er.transition,p=Le;try{if(er.transition=null,Le=1,s)return s()}finally{Le=p,er.transition=f,_e=a,(_e&6)===0&&Wr()}}function Yl(){Xt=no.current,$e(no)}function wn(s,a){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,Rp(f)),it!==null)for(f=it.return;f!==null;){var p=f;switch(ol(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ts();break;case 3:eo(),$e(Mt),$e(At),ml();break;case 5:gl(p);break;case 4:eo();break;case 13:$e(Ye);break;case 19:$e(Ye);break;case 10:cl(p.type._context);break;case 22:case 23:Yl()}f=f.return}if(pt=s,it=s=Zr(s.current,null),Ct=Xt=a,at=0,li=null,Hl=As=mn=0,jt=ui=null,pn!==null){for(a=0;a<pn.length;a++)if(f=pn[a],p=f.interleaved,p!==null){f.interleaved=null;var m=p.next,v=f.pending;if(v!==null){var C=v.next;v.next=m,p.next=C}f.pending=p}pn=null}return s}function $d(s,a){do{var f=it;try{if(ul(),hs.current=ms,ps){for(var p=Ke.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}ps=!1}if(yn=0,ht=st=Ke=null,ri=!1,ni=0,zl.current=null,f===null||f.return===null){at=1,li=a,it=null;break}e:{var v=s,C=f.return,O=f,x=a;if(a=Ct,O.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var j=x,W=O,X=W.tag;if((W.mode&1)===0&&(X===0||X===11||X===15)){var V=W.alternate;V?(W.updateQueue=V.updateQueue,W.memoizedState=V.memoizedState,W.lanes=V.lanes):(W.updateQueue=null,W.memoizedState=null)}var Q=yd(C);if(Q!==null){Q.flags&=-257,md(Q,C,O,v,a),Q.mode&1&&gd(v,j,a),a=Q,x=j;var ee=a.updateQueue;if(ee===null){var te=new Set;te.add(x),a.updateQueue=te}else ee.add(x);break e}else{if((a&1)===0){gd(v,j,a),Kl();break e}x=Error(t(426))}}else if(Xe&&O.mode&1){var nt=yd(C);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),md(nt,C,O,v,a),al(to(x,O));break e}}v=x=to(x,O),at!==4&&(at=2),ui===null?ui=[v]:ui.push(v),v=C;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var D=hd(v,x,a);Uf(v,D);break e;case 1:O=x;var k=v.type,L=v.stateNode;if((v.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(qr===null||!qr.has(L)))){v.flags|=65536,a&=-a,v.lanes|=a;var q=pd(v,O,a);Uf(v,q);break e}}v=v.return}while(v!==null)}qd(f)}catch(ne){a=ne,it===f&&f!==null&&(it=f=f.return);continue}break}while(!0)}function Gd(){var s=Ss.current;return Ss.current=ms,s===null?ms:s}function Kl(){(at===0||at===3||at===2)&&(at=4),pt===null||(mn&268435455)===0&&(As&268435455)===0||Qr(pt,Ct)}function Rs(s,a){var f=_e;_e|=2;var p=Gd();(pt!==s||Ct!==a)&&(Rr=null,wn(s,a));do try{t2();break}catch(m){$d(s,m)}while(!0);if(ul(),_e=f,Ss.current=p,it!==null)throw Error(t(261));return pt=null,Ct=0,at}function t2(){for(;it!==null;)Xd(it)}function r2(){for(;it!==null&&!T0();)Xd(it)}function Xd(s){var a=Qd(s.alternate,s,Xt);s.memoizedProps=s.pendingProps,a===null?qd(s):it=a,zl.current=null}function qd(s){var a=s;do{var f=a.alternate;if(s=a.return,(a.flags&32768)===0){if(f=qp(f,a,Xt),f!==null){it=f;return}}else{if(f=Yp(f,a),f!==null){f.flags&=32767,it=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{at=6,it=null;return}}if(a=a.sibling,a!==null){it=a;return}it=a=s}while(a!==null);at===0&&(at=5)}function _n(s,a,f){var p=Le,m=er.transition;try{er.transition=null,Le=1,n2(s,a,f,p)}finally{er.transition=m,Le=p}return null}function n2(s,a,f,p){do io();while(Yr!==null);if((_e&6)!==0)throw Error(t(327));f=s.finishedWork;var m=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=f.lanes|f.childLanes;if(B0(s,v),s===pt&&(it=pt=null,Ct=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||bs||(bs=!0,Zd(Di,function(){return io(),null})),v=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||v){v=er.transition,er.transition=null;var C=Le;Le=1;var O=_e;_e|=4,zl.current=null,Qp(s,f),jd(f,s),Sp(Ka),zi=!!Ya,Ka=Ya=null,s.current=f,Zp(f),O0(),_e=O,Le=C,er.transition=v}else s.current=f;if(bs&&(bs=!1,Yr=s,Ts=m),v=s.pendingLanes,v===0&&(qr=null),x0(f.stateNode),Ft(s,rt()),a!==null)for(p=s.onRecoverableError,f=0;f<a.length;f++)m=a[f],p(m.value,{componentStack:m.stack,digest:m.digest});if(Is)throw Is=!1,s=Wl,Wl=null,s;return(Ts&1)!==0&&s.tag!==0&&io(),v=s.pendingLanes,(v&1)!==0?s===$l?ci++:(ci=0,$l=s):ci=0,Wr(),null}function io(){if(Yr!==null){var s=Mc(Ts),a=er.transition,f=Le;try{if(er.transition=null,Le=16>s?16:s,Yr===null)var p=!1;else{if(s=Yr,Yr=null,Ts=0,(_e&6)!==0)throw Error(t(331));var m=_e;for(_e|=4,J=s.current;J!==null;){var v=J,C=v.child;if((J.flags&16)!==0){var O=v.deletions;if(O!==null){for(var x=0;x<O.length;x++){var j=O[x];for(J=j;J!==null;){var W=J;switch(W.tag){case 0:case 11:case 15:ai(8,W,v)}var X=W.child;if(X!==null)X.return=W,J=X;else for(;J!==null;){W=J;var V=W.sibling,Q=W.return;if(Pd(W),W===j){J=null;break}if(V!==null){V.return=Q,J=V;break}J=Q}}}var ee=v.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var nt=te.sibling;te.sibling=null,te=nt}while(te!==null)}}J=v}}if((v.subtreeFlags&2064)!==0&&C!==null)C.return=v,J=C;else e:for(;J!==null;){if(v=J,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ai(9,v,v.return)}var D=v.sibling;if(D!==null){D.return=v.return,J=D;break e}J=v.return}}var k=s.current;for(J=k;J!==null;){C=J;var L=C.child;if((C.subtreeFlags&2064)!==0&&L!==null)L.return=C,J=L;else e:for(C=k;J!==null;){if(O=J,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Es(9,O)}}catch(ne){Je(O,O.return,ne)}if(O===C){J=null;break e}var q=O.sibling;if(q!==null){q.return=O.return,J=q;break e}J=O.return}}if(_e=m,Wr(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Mi,s)}catch{}p=!0}return p}finally{Le=f,er.transition=a}}return!1}function Yd(s,a,f){a=to(f,a),a=hd(s,a,1),s=Gr(s,a,1),a=Rt(),s!==null&&(Do(s,1,a),Ft(s,a))}function Je(s,a,f){if(s.tag===3)Yd(s,s,f);else for(;a!==null;){if(a.tag===3){Yd(a,s,f);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qr===null||!qr.has(p))){s=to(f,s),s=pd(a,s,1),a=Gr(a,s,1),s=Rt(),a!==null&&(Do(a,1,s),Ft(a,s));break}}a=a.return}}function o2(s,a,f){var p=s.pingCache;p!==null&&p.delete(a),a=Rt(),s.pingedLanes|=s.suspendedLanes&f,pt===s&&(Ct&f)===f&&(at===4||at===3&&(Ct&130023424)===Ct&&500>rt()-Vl?wn(s,0):Hl|=f),Ft(s,a)}function Kd(s,a){a===0&&((s.mode&1)===0?a=1:(a=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var f=Rt();s=Tr(s,a),s!==null&&(Do(s,a,f),Ft(s,f))}function i2(s){var a=s.memoizedState,f=0;a!==null&&(f=a.retryLane),Kd(s,f)}function s2(s,a){var f=0;switch(s.tag){case 13:var p=s.stateNode,m=s.memoizedState;m!==null&&(f=m.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),Kd(s,f)}var Qd;Qd=function(s,a,f){if(s!==null)if(s.memoizedProps!==a.pendingProps||Mt.current)Bt=!0;else{if((s.lanes&f)===0&&(a.flags&128)===0)return Bt=!1,Xp(s,a,f);Bt=(s.flags&131072)!==0}else Bt=!1,Xe&&(a.flags&1048576)!==0&&Rf(a,is,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;_s(s,a),s=a.pendingProps;var m=Xn(a,At.current);Jn(a,f),m=_l(null,a,p,s,m,f);var v=Cl();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Lt(p)?(v=!0,rs(a)):v=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,hl(a),m.updater=vs,a.stateNode=m,m._reactInternals=a,Tl(a,p,s,f),a=xl(null,a,p,!0,v,f)):(a.tag=0,Xe&&v&&nl(a),Nt(null,a,m,f),a=a.child),a;case 16:p=a.elementType;e:{switch(_s(s,a),s=a.pendingProps,m=p._init,p=m(p._payload),a.type=p,m=a.tag=l2(p),s=sr(p,s),m){case 0:a=Rl(null,a,p,s,f);break e;case 1:a=Sd(null,a,p,s,f);break e;case 11:a=vd(null,a,p,s,f);break e;case 14:a=wd(null,a,p,sr(p.type,s),f);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:sr(p,m),Rl(s,a,p,m,f);case 1:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:sr(p,m),Sd(s,a,p,m,f);case 3:e:{if(Ad(a),s===null)throw Error(t(387));p=a.pendingProps,v=a.memoizedState,m=v.element,Ff(s,a),fs(a,p,null,f);var C=a.memoizedState;if(p=C.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){m=to(Error(t(423)),a),a=Id(s,a,p,f,m);break e}else if(p!==m){m=to(Error(t(424)),a),a=Id(s,a,p,f,m);break e}else for(Gt=zr(a.stateNode.containerInfo.firstChild),$t=a,Xe=!0,ir=null,f=Bf(a,null,p,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Kn(),p===m){a=Nr(s,a,f);break e}Nt(s,a,p,f)}a=a.child}return a;case 5:return Hf(a),s===null&&sl(a),p=a.type,m=a.pendingProps,v=s!==null?s.memoizedProps:null,C=m.children,Qa(p,m)?C=null:v!==null&&Qa(p,v)&&(a.flags|=32),Ed(s,a),Nt(s,a,C,f),a.child;case 6:return s===null&&sl(a),null;case 13:return bd(s,a,f);case 4:return pl(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Qn(a,null,p,f):Nt(s,a,p,f),a.child;case 11:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:sr(p,m),vd(s,a,p,m,f);case 7:return Nt(s,a,a.pendingProps,f),a.child;case 8:return Nt(s,a,a.pendingProps.children,f),a.child;case 12:return Nt(s,a,a.pendingProps.children,f),a.child;case 10:e:{if(p=a.type._context,m=a.pendingProps,v=a.memoizedProps,C=m.value,ze(ls,p._currentValue),p._currentValue=C,v!==null)if(or(v.value,C)){if(v.children===m.children&&!Mt.current){a=Nr(s,a,f);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var O=v.dependencies;if(O!==null){C=v.child;for(var x=O.firstContext;x!==null;){if(x.context===p){if(v.tag===1){x=Or(-1,f&-f),x.tag=2;var j=v.updateQueue;if(j!==null){j=j.shared;var W=j.pending;W===null?x.next=x:(x.next=W.next,W.next=x),j.pending=x}}v.lanes|=f,x=v.alternate,x!==null&&(x.lanes|=f),fl(v.return,f,a),O.lanes|=f;break}x=x.next}}else if(v.tag===10)C=v.type===a.type?null:v.child;else if(v.tag===18){if(C=v.return,C===null)throw Error(t(341));C.lanes|=f,O=C.alternate,O!==null&&(O.lanes|=f),fl(C,f,a),C=v.sibling}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===a){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}Nt(s,a,m.children,f),a=a.child}return a;case 9:return m=a.type,p=a.pendingProps.children,Jn(a,f),m=Zt(m),p=p(m),a.flags|=1,Nt(s,a,p,f),a.child;case 14:return p=a.type,m=sr(p,a.pendingProps),m=sr(p.type,m),wd(s,a,p,m,f);case 15:return _d(s,a,a.type,a.pendingProps,f);case 17:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:sr(p,m),_s(s,a),a.tag=1,Lt(p)?(s=!0,rs(a)):s=!1,Jn(a,f),fd(a,p,m),Tl(a,p,m,f),xl(null,a,p,!0,s,f);case 19:return Od(s,a,f);case 22:return Cd(s,a,f)}throw Error(t(156,a.tag))};function Zd(s,a){return Rc(s,a)}function a2(s,a,f,p){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(s,a,f,p){return new a2(s,a,f,p)}function Ql(s){return s=s.prototype,!(!s||!s.isReactComponent)}function l2(s){if(typeof s=="function")return Ql(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Te)return 11;if(s===De)return 14}return 2}function Zr(s,a){var f=s.alternate;return f===null?(f=tr(s.tag,a,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=a,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,a=s.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function xs(s,a,f,p,m,v){var C=2;if(p=s,typeof s=="function")Ql(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case z:return Cn(f.children,m,v,a);case $:C=8,m|=8;break;case ue:return s=tr(12,f,a,m|2),s.elementType=ue,s.lanes=v,s;case ke:return s=tr(13,f,a,m),s.elementType=ke,s.lanes=v,s;case Pe:return s=tr(19,f,a,m),s.elementType=Pe,s.lanes=v,s;case Re:return ks(f,m,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case de:C=10;break e;case le:C=9;break e;case Te:C=11;break e;case De:C=14;break e;case tt:C=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=tr(C,f,a,m),a.elementType=s,a.type=p,a.lanes=v,a}function Cn(s,a,f,p){return s=tr(7,s,p,a),s.lanes=f,s}function ks(s,a,f,p){return s=tr(22,s,p,a),s.elementType=Re,s.lanes=f,s.stateNode={isHidden:!1},s}function Zl(s,a,f){return s=tr(6,s,null,a),s.lanes=f,s}function Jl(s,a,f){return a=tr(4,s.children!==null?s.children:[],s.key,a),a.lanes=f,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function u2(s,a,f,p,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function eu(s,a,f,p,m,v,C,O,x){return s=new u2(s,a,f,O,x),a===1?(a=1,v===!0&&(a|=8)):a=0,v=tr(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:p,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},hl(v),s}function c2(s,a,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:p==null?null:""+p,children:s,containerInfo:a,implementation:f}}function Jd(s){if(!s)return Vr;s=s._reactInternals;e:{if(un(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Lt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(Lt(f))return Tf(s,f,a)}return a}function eh(s,a,f,p,m,v,C,O,x){return s=eu(f,p,!0,s,m,v,C,O,x),s.context=Jd(null),f=s.current,p=Rt(),m=Kr(f),v=Or(p,m),v.callback=a??null,Gr(f,v,m),s.current.lanes=m,Do(s,m,p),Ft(s,p),s}function Ps(s,a,f,p){var m=a.current,v=Rt(),C=Kr(m);return f=Jd(f),a.context===null?a.context=f:a.pendingContext=f,a=Or(v,C),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Gr(m,a,C),s!==null&&(ur(s,m,C,v),cs(s,m,C)),C}function Ds(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function th(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<a?f:a}}function tu(s,a){th(s,a),(s=s.alternate)&&th(s,a)}function f2(){return null}var rh=typeof reportError=="function"?reportError:function(s){console.error(s)};function ru(s){this._internalRoot=s}Ms.prototype.render=ru.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Ps(s,a,null,null)},Ms.prototype.unmount=ru.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;vn(function(){Ps(null,s,null,null)}),a[Sr]=null}};function Ms(s){this._internalRoot=s}Ms.prototype.unstable_scheduleHydration=function(s){if(s){var a=jc();s={blockedOn:null,target:s,priority:a};for(var f=0;f<jr.length&&a!==0&&a<jr[f].priority;f++);jr.splice(f,0,s),f===0&&zc(s)}};function nu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ls(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function nh(){}function d2(s,a,f,p,m){if(m){if(typeof p=="function"){var v=p;p=function(){var j=Ds(C);v.call(j)}}var C=eh(a,p,s,0,null,!1,!1,"",nh);return s._reactRootContainer=C,s[Sr]=C.current,qo(s.nodeType===8?s.parentNode:s),vn(),C}for(;m=s.lastChild;)s.removeChild(m);if(typeof p=="function"){var O=p;p=function(){var j=Ds(x);O.call(j)}}var x=eu(s,0,!1,null,null,!1,!1,"",nh);return s._reactRootContainer=x,s[Sr]=x.current,qo(s.nodeType===8?s.parentNode:s),vn(function(){Ps(a,x,f,p)}),x}function Bs(s,a,f,p,m){var v=f._reactRootContainer;if(v){var C=v;if(typeof m=="function"){var O=m;m=function(){var x=Ds(C);O.call(x)}}Ps(a,C,s,m)}else C=d2(f,a,s,m,p);return Ds(C)}Lc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var f=Po(a.pendingLanes);f!==0&&(Ta(a,f|1),Ft(a,rt()),(_e&6)===0&&(oo=rt()+500,Wr()))}break;case 13:vn(function(){var p=Tr(s,1);if(p!==null){var m=Rt();ur(p,s,1,m)}}),tu(s,1)}},Oa=function(s){if(s.tag===13){var a=Tr(s,134217728);if(a!==null){var f=Rt();ur(a,s,134217728,f)}tu(s,134217728)}},Bc=function(s){if(s.tag===13){var a=Kr(s),f=Tr(s,a);if(f!==null){var p=Rt();ur(f,s,a,p)}tu(s,a)}},jc=function(){return Le},Fc=function(s,a){var f=Le;try{return Le=s,a()}finally{Le=f}},_a=function(s,a,f){switch(a){case"input":if(da(s,f),a=f.name,f.type==="radio"&&a!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var p=f[a];if(p!==s&&p.form===s.form){var m=es(p);if(!m)throw Error(t(90));uc(p),da(p,m)}}}break;case"textarea":pc(s,f);break;case"select":a=f.value,a!=null&&Mn(s,!!f.multiple,a,!1)}},Sc=ql,Ac=vn;var h2={usingClientEntryPoint:!1,Events:[Qo,$n,es,Cc,Ec,ql]},fi={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p2={bundleType:fi.bundleType,version:fi.version,rendererPackageName:fi.rendererPackageName,rendererConfig:fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Oc(s),s===null?null:s.stateNode},findFiberByHostInstance:fi.findFiberByHostInstance||f2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Mi=js.inject(p2),yr=js}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h2,Ut.createPortal=function(s,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(a))throw Error(t(200));return c2(s,a,null,f)},Ut.createRoot=function(s,a){if(!nu(s))throw Error(t(299));var f=!1,p="",m=rh;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=eu(s,1,!1,null,null,f,!1,p,m),s[Sr]=a.current,qo(s.nodeType===8?s.parentNode:s),new ru(a)},Ut.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Oc(a),s=s===null?null:s.stateNode,s},Ut.flushSync=function(s){return vn(s)},Ut.hydrate=function(s,a,f){if(!Ls(a))throw Error(t(200));return Bs(null,s,a,!0,f)},Ut.hydrateRoot=function(s,a,f){if(!nu(s))throw Error(t(405));var p=f!=null&&f.hydratedSources||null,m=!1,v="",C=rh;if(f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onRecoverableError!==void 0&&(C=f.onRecoverableError)),a=eh(a,null,s,1,f??null,m,!1,v,C),s[Sr]=a.current,qo(s),p)for(s=0;s<p.length;s++)f=p[s],m=f._getVersion,m=m(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,m]:a.mutableSourceEagerHydrationData.push(f,m);return new Ms(a)},Ut.render=function(s,a,f){if(!Ls(a))throw Error(t(200));return Bs(null,s,a,!1,f)},Ut.unmountComponentAtNode=function(s){if(!Ls(s))throw Error(t(40));return s._reactRootContainer?(vn(function(){Bs(null,null,s,!1,function(){s._reactRootContainer=null,s[Sr]=null})}),!0):!1},Ut.unstable_batchedUpdates=ql,Ut.unstable_renderSubtreeIntoContainer=function(s,a,f,p){if(!Ls(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Bs(s,a,f,!1,p)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var fh;function S2(){if(fh)return su.exports;fh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),su.exports=E2(),su.exports}var dh;function A2(){if(dh)return Fs;dh=1;var r=S2();return Fs.createRoot=r.createRoot,Fs.hydrateRoot=r.hydrateRoot,Fs}var I2=A2();const b2="modulepreload",T2=function(r){return"/Frequencia-APP/"+r},hh={},bi=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let d=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var l=d;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");o=d(t.map(h=>{if(h=T2(h),h in hh)return;hh[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":b2,g||(w.as="script"),w.crossOrigin="",w.href=h,c&&w.setAttribute("nonce",c),document.head.appendChild(w),g)return new Promise((_,E)=>{w.addEventListener("load",_),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return o.then(u=>{for(const c of u||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},O2=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>bi(async()=>{const{default:n}=await Promise.resolve().then(()=>Io);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class qu extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class N2 extends qu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ph extends qu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gh extends qu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Su;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Su||(Su={}));var R2=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};class x2{constructor(e,{headers:t={},customFetch:n,region:o=Su.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=O2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return R2(this,void 0,void 0,function*(){try{const{headers:o,method:i,body:l}=t;let u={},{region:c}=t;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const g=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h}).catch(E=>{throw new N2(E)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new ph(g);if(!g.ok)throw new gh(g);let w=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield g.json():w==="application/octet-stream"?_=yield g.blob():w==="text/event-stream"?_=g:w==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof gh||o instanceof ph?o.context:void 0}}})}}var yt={},so={},ao={},lo={},uo={},co={},k2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=k2();const P2=So.fetch,A1=So.fetch.bind(So),I1=So.Headers,D2=So.Request,M2=So.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:I1,Request:D2,Response:M2,default:A1,fetch:P2},Symbol.toStringTag,{value:"Module"})),L2=y2(Io);var Us={},yh;function b1(){if(yh)return Us;yh=1,Object.defineProperty(Us,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Us.default=r,Us}var mh;function T1(){if(mh)return co;mh=1;var r=co&&co.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(co,"__esModule",{value:!0});const e=r(L2),t=r(b1());class n{constructor(i){var l,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,y,w;let _=null,E=null,S=null,T=d.status,N=d.statusText;if(d.ok){if(this.method!=="HEAD"){const F=await d.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?E=F:E=JSON.parse(F))}const R=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),B=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");R&&B&&B.length>1&&(S=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,S=null,T=406,N="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const R=await d.text();try{_=JSON.parse(R),Array.isArray(_)&&d.status===404&&(E=[],_=null,T=200,N="OK")}catch{d.status===404&&R===""?(T=204,N="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((w=_?.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,T=200,N="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:E,count:S,status:T,statusText:N}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,g,y;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(g=d?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=d?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,l)}returns(){return this}overrideTypes(){return this}}return co.default=n,co}var vh;function O1(){if(vh)return uo;vh=1;var r=uo&&uo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(uo,"__esModule",{value:!0});const e=r(T1());class t extends e.default{select(o){let i=!1;const l=(o??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:i=!0,nullsFirst:l,foreignTable:u,referencedTable:c=u}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${o}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,i,{foreignTable:l,referencedTable:u=l}={}){const c=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${o}`),this.url.searchParams.set(d,`${i-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:i=!1,settings:l=!1,buffers:u=!1,wal:c=!1,format:d="text"}={}){var h;const g=[o?"analyze":null,i?"verbose":null,l?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return uo.default=t,uo}var wh;function Yu(){if(wh)return lo;wh=1;var r=lo&&lo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lo,"__esModule",{value:!0});const e=r(O1());class t extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const l=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${c}fts${d}.${i}`),this}match(o){return Object.entries(o).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(o,i,l){return this.url.searchParams.append(o,`not.${i}.${l}`),this}or(o,{foreignTable:i,referencedTable:l=i}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,i,l){return this.url.searchParams.append(o,`${i}.${l}`),this}}return lo.default=t,lo}var _h;function N1(){if(_h)return ao;_h=1;var r=ao&&ao.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ao,"__esModule",{value:!0});const e=r(Yu());class t{constructor(o,{headers:i={},schema:l,fetch:u}){this.url=o,this.headers=new Headers(i),this.schema=l,this.fetch=u}select(o,{head:i=!1,count:l}={}){const u=i?"HEAD":"GET";let c=!1;const d=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:i,defaultToNull:l=!0}={}){var u;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const d=o.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:i,ignoreDuplicates:l=!1,count:u,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(g.length>0){const y=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(o,{count:i}={}){var l;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var i;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ao.default=t,ao}var Ch;function B2(){if(Ch)return so;Ch=1;var r=so&&so.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(so,"__esModule",{value:!0});const e=r(N1()),t=r(Yu());class n{constructor(i,{headers:l={},schema:u,fetch:c}={}){this.url=i,this.headers=new Headers(l),this.schemaName=u,this.fetch=c}from(i){const l=new URL(`${this.url}/${i}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:u=!1,get:c=!1,count:d}={}){var h;let g;const y=new URL(`${this.url}/rpc/${i}`);let w;u||c?(g=u?"HEAD":"GET",Object.entries(l).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{y.searchParams.append(E,S)})):(g="POST",w=l);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new t.default({method:g,url:y,headers:_,schema:this.schemaName,body:w,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return so.default=n,so}var Eh;function j2(){if(Eh)return yt;Eh=1;var r=yt&&yt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const e=r(B2());yt.PostgrestClient=e.default;const t=r(N1());yt.PostgrestQueryBuilder=t.default;const n=r(Yu());yt.PostgrestFilterBuilder=n.default;const o=r(O1());yt.PostgrestTransformBuilder=o.default;const i=r(T1());yt.PostgrestBuilder=i.default;const l=r(b1());return yt.PostgrestError=l.default,yt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:i.default,PostgrestError:l.default},yt}var F2=j2();const U2=S1(F2),{PostgrestClient:z2,PostgrestQueryBuilder:W_,PostgrestFilterBuilder:$_,PostgrestTransformBuilder:G_,PostgrestBuilder:X_,PostgrestError:q_}=U2;class H2{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const V2="2.15.5",W2=`realtime-js/${V2}`,$2="1.0.0",Au=1e4,G2=1e3,X2=100;var _i;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(_i||(_i={}));var lt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(lt||(lt={}));var hr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(hr||(hr={}));var Iu;(function(r){r.websocket="websocket"})(Iu||(Iu={}));var Nn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Nn||(Nn={}));class q2{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const o=t.getUint8(1),i=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(e.slice(l,l+o));l=l+o;const c=n.decode(e.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:c,payload:d}}}class R1{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(He||(He={}));const Sh=(r,e,t={})=>{var n;const o=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,l)=>(i[l]=Y2(l,r,e,o),i),{})},Y2=(r,e,t,n)=>{const o=e.find(u=>u.name===r),i=o?.type,l=t[r];return i&&!n.includes(i)?x1(i,l):bu(l)},x1=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return J2(e,t)}switch(r){case He.bool:return K2(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Q2(e);case He.json:case He.jsonb:return Z2(e);case He.timestamp:return eg(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return bu(e);default:return bu(e)}},bu=r=>r,K2=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Q2=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Z2=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},J2=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const l=r.slice(1,t);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(u=>x1(e,u))}return r},eg=r=>typeof r=="string"?r.replace(" ","T"):r,k1=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class uu{constructor(e,t,n={},o=Au){this.channel=e,this.event=t,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ah;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ah||(Ah={}));class Ci{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,o,i,l),this.pendingDiffs.forEach(c=>{this.state=Ci.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},o=>{const{onJoin:i,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ci.syncDiff(this.state,o,i,l),u())}),this.onJoin((o,i,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:l})}),this.onLeave((o,i,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,o){const i=this.cloneDeep(e),l=this.transformState(t),u={},c={};return this.map(i,(d,h)=>{l[d]||(c[d]=h)}),this.map(l,(d,h)=>{const g=i[d];if(g){const y=h.map(S=>S.presence_ref),w=g.map(S=>S.presence_ref),_=h.filter(S=>w.indexOf(S.presence_ref)<0),E=g.filter(S=>y.indexOf(S.presence_ref)<0);_.length>0&&(u[d]=_),E.length>0&&(c[d]=E)}else u[d]=h}),this.syncDiff(i,{joins:u,leaves:c},n,o)}static syncDiff(e,t,n,o){const{joins:i,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(i,(u,c)=>{var d;const h=(d=e[u])!==null&&d!==void 0?d:[];if(e[u]=this.cloneDeep(c),h.length>0){const g=e[u].map(w=>w.presence_ref),y=h.filter(w=>g.indexOf(w.presence_ref)<0);e[u].unshift(...y)}n(u,h,c)}),this.map(l,(u,c)=>{let d=e[u];if(!d)return;const h=c.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),e[u]=d,o(u,d,c),d.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const o=e[n];return"metas"in o?t[n]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ih;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Ih||(Ih={}));var Ei;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ei||(Ei={}));var kr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class Ku{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new uu(this,hr.join,this.params,this.timeout),this.rejoinTimer=new R1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hr.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Ci(this),this.broadcastEndpointURL=k1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:l,presence:u,private:c}}=this.params,d=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&o!==void 0?o:[],h=!!this.bindings[Ei.PRESENCE]&&this.bindings[Ei.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(kr.CHANNEL_ERROR,w)),this._onClose(()=>e?.(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket.setAuth(),w===void 0){e?.(kr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,S=(_=E?.length)!==null&&_!==void 0?_:0,T=[];for(let N=0;N<S;N++){const b=E[N],{filter:{event:R,schema:B,table:F,filter:z}}=b,$=w&&w[N];if($&&$.event===R&&$.schema===B&&$.table===F&&$.filter===z)T.push(Object.assign(Object.assign({},b),{id:$.id}));else{this.unsubscribe(),this.state=lt.errored,e?.(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(kr.SUBSCRIBED);return}}).receive("error",w=>{this.state=lt.errored,e?.(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===lt.joined&&e===Ei.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,o;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=d.body)===null||o===void 0?void 0:o.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,u,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new uu(this,hr.leave,{},e),n.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const o=new AbortController,i=setTimeout(()=>o.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),l}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new uu(this,e,t,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>X2){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var o,i;const l=e.toLocaleLowerCase(),{close:u,error:c,leave:d,join:h}=hr;if(n&&[u,c,d,h].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,t,n);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var _,E,S;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(E=w.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(w=>w.callback(y,n)):(i=this.bindings[l])===null||i===void 0||i.filter(w=>{var _,E,S,T,N,b;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const R=w.id,B=(_=w.filter)===null||_===void 0?void 0:_.event;return R&&((E=t.ids)===null||E===void 0?void 0:E.includes(R))&&(B==="*"||B?.toLocaleLowerCase()===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const R=(N=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return R==="*"||R===((b=t?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:E,table:S,commit_timestamp:T,type:N,errors:b}=_;y=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:T,eventType:N,new:{},old:{},errors:b}),this._getPayloadRecords(_))}w.callback(y,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const o=e.toLocaleLowerCase(),i={type:o,filter:t,callback:n};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ku.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hr.close,{},e)}_onError(e){this._on(hr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Sh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Sh(e.columns,e.old_record)),t}}const cu=()=>{},zs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tg=[1e3,2e3,5e3,1e4],rg=1e4,ng=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class og{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Au,this.transport=null,this.heartbeatIntervalMs=zs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cu,this.ref=0,this.reconnectTimer=null,this.logger=cu,this.conn=null,this.sendBuffer=[],this.serializer=new q2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>bi(async()=>{const{default:u}=await Promise.resolve().then(()=>Io);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Iu.websocket}`,this.httpEndpoint=k1(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$2}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _i.connecting:return Nn.Connecting;case _i.open:return Nn.Open;case _i.closing:return Nn.Closing;default:return Nn.Closed}}isConnected(){return this.connectionState()===Nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===n);if(o)return o;{const i=new Ku(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:o,ref:i}=e,l=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${t} ${n} (${i})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G2,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},zs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:i,ref:l}=t,u=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${o} ${u}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(o,i,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${n}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([ng],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const o={access_token:t,version:W2};t&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(hr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new R1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,o,i,l,u,c,d,h;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Au,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:zs.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:cu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(g=>tg[g-1]||rg),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,y)=>y(JSON.stringify(g))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Qu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class ig extends Qu{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tu extends Qu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var sg=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};const P1=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>bi(async()=>{const{default:n}=await Promise.resolve().then(()=>Io);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},ag=()=>sg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bi(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),Ou=r=>{if(Array.isArray(r))return r.map(t=>Ou(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Ou(n)}),e},lg=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Pn=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};const fu=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ug=(r,e,t)=>Pn(void 0,void 0,void 0,function*(){const n=yield ag();r instanceof n&&!t?.noResolveJson?r.json().then(o=>{const i=r.status||500,l=o?.statusCode||i+"";e(new ig(fu(o),i,l))}).catch(o=>{e(new Tu(fu(o),o))}):e(new Tu(fu(r),r))}),cg=(r,e,t,n)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"||!n?o:(lg(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(n)):o.body=n,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Ti(r,e,t,n,o,i){return Pn(this,void 0,void 0,function*(){return new Promise((l,u)=>{r(t,cg(e,n,o,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>ug(c,u,n))})})}function ra(r,e,t,n){return Pn(this,void 0,void 0,function*(){return Ti(r,"GET",e,t,n)})}function Cr(r,e,t,n,o){return Pn(this,void 0,void 0,function*(){return Ti(r,"POST",e,n,o,t)})}function Nu(r,e,t,n,o){return Pn(this,void 0,void 0,function*(){return Ti(r,"PUT",e,n,o,t)})}function fg(r,e,t,n){return Pn(this,void 0,void 0,function*(){return Ti(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function D1(r,e,t,n,o){return Pn(this,void 0,void 0,function*(){return Ti(r,"DELETE",e,n,o,t)})}var xt=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};const dg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hg{constructor(e,t={},n,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=P1(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,o){return xt(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},bh),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(u=Object.assign(Object.assign({},u),o.headers));const d=this._removeEmptyFolders(t),h=this._getFinalPath(d),g=yield(e=="PUT"?Nu:Cr)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}upload(e,t,n){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,o){return xt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:bh.upsert},o),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield Nu(this.fetch,u.toString(),c,{headers:h});return{data:{path:i,fullPath:g.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ct(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return xt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const i=yield Cr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),l=new URL(this.url+i.url),u=l.searchParams.get("token");if(!u)throw new Qu("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}update(e,t,n){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return xt(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}copy(e,t,n){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,n){return xt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Cr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,n){return xt(this,void 0,void 0,function*(){try{const o=yield Cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}download(e,t){return xt(this,void 0,void 0,function*(){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),l=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield ra(this.fetch,`${this.url}/${o}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ct(u))return{data:null,error:u};throw u}})}info(e){return xt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield ra(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ou(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}exists(e){return xt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield fg(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n)&&n instanceof Tu){const o=n.originalError;if([400,404].includes(o?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let d=o.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${d}`)}}}remove(e){return xt(this,void 0,void 0,function*(){try{return{data:yield D1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}list(e,t,n){return xt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},dg),t),{prefix:e||""});return{data:yield Cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ct(o))return{data:null,error:o};throw o}})}listV2(e,t){return xt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const pg="2.12.1",gg={"X-Client-Info":`storage-js/${pg}`};var fo=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};class yg{constructor(e,t={},n,o){this.shouldThrowOnError=!1;const i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},gg),t),this.fetch=P1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return fo(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}})}getBucket(e){return fo(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return fo(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return fo(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}emptyBucket(e){return fo(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}deleteBucket(e){return fo(this,void 0,void 0,function*(){try{return{data:yield D1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}}class mg extends yg{constructor(e,t={},n,o){super(e,t,n,o)}from(e){return new hg(this.url,this.headers,e,this.fetch)}}const vg="2.57.4";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const wg={"X-Client-Info":`supabase-js-${gi}/${vg}`},_g={headers:wg},Cg={schema:"public"},Eg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sg={};var Ag=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};const Ig=r=>{let e;return r?e=r:typeof fetch>"u"?e=A1:e=fetch,(...t)=>e(...t)},bg=()=>typeof Headers>"u"?I1:Headers,Tg=(r,e,t)=>{const n=Ig(t),o=bg();return(i,l)=>Ag(void 0,void 0,void 0,function*(){var u;const c=(u=yield e())!==null&&u!==void 0?u:r;let d=new o(l?.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var Og=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};function Ng(r){return r.endsWith("/")?r:r+"/"}function Rg(r,e){var t,n;const{db:o,auth:i,realtime:l,global:u}=r,{db:c,auth:d,realtime:h,global:g}=e,y={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(t=g?.headers)!==null&&t!==void 0?t:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Og(this,void 0,void 0,function*(){return""})};return r.accessToken?y.accessToken=r.accessToken:delete y.accessToken,y}function xg(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ng(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const M1="2.71.1",mo=30*1e3,Ru=3,du=Ru*mo,kg="http://localhost:9999",Pg="supabase.auth.token",Dg={"X-Client-Info":`gotrue-js/${M1}`},xu="X-Supabase-Api-Version",L1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lg=600*1e3;class Zu extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function he(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Bg extends Zu{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function jg(r){return he(r)&&r.name==="AuthApiError"}class B1 extends Zu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ln extends Zu{constructor(e,t,n,o){super(e,n,o),this.name=t,this.status=n}}class on extends ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fg(r){return he(r)&&r.name==="AuthSessionMissingError"}class Hs extends ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends ln{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends ln{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ug(r){return he(r)&&r.name==="AuthImplicitGrantRedirectError"}class Th extends ln{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ku extends ln{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function hu(r){return he(r)&&r.name==="AuthRetryableFetchError"}class Oh extends ln{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Pu extends ln{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nh=` 	
\r=`.split(""),zg=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Nh.length;e+=1)r[Nh[e].charCodeAt(0)]=-2;for(let e=0;e<na.length;e+=1)r[na[e].charCodeAt(0)]=e;return r})();function Rh(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(na[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(na[n]),e.queuedBits-=6}}function j1(r,e,t){const n=zg[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function xh(r){const e=[],t=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=l=>{Wg(l,n,t)};for(let l=0;l<r.length;l+=1)j1(r.charCodeAt(l),o,i);return e.join("")}function Hg(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Vg(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}Hg(n,e)}}function Wg(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function $g(r){const e=[],t={queue:0,queuedBits:0},n=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)j1(r.charCodeAt(o),t,n);return new Uint8Array(e)}function Gg(r){const e=[];return Vg(r,t=>e.push(t)),new Uint8Array(e)}function Xg(r){const e=[],t={queue:0,queuedBits:0},n=o=>{e.push(o)};return r.forEach(o=>Rh(o,t,n)),Rh(null,t,n),e.join("")}function qg(r){return Math.round(Date.now()/1e3)+r}function Yg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const fr=()=>typeof window<"u"&&typeof document<"u",En={tested:!1,writable:!1},F1=()=>{if(!fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(En.tested)return En.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),En.tested=!0,En.writable=!0}catch{En.tested=!0,En.writable=!1}return En.writable};function Kg(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return t.searchParams.forEach((n,o)=>{e[o]=n}),e}const U1=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>bi(async()=>{const{default:n}=await Promise.resolve().then(()=>Io);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Qg=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",vo=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Sn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},en=async(r,e)=>{await r.removeItem(e)};class aa{constructor(){this.promise=new aa.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}aa.promiseConstructor=Promise;function pu(r){const e=r.split(".");if(e.length!==3)throw new Pu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Mg.test(e[n]))throw new Pu("JWT not in base64url format");return{header:JSON.parse(xh(e[0])),payload:JSON.parse(xh(e[1])),signature:$g(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zg(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Jg(r,e){return new Promise((n,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await r(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){o(l);return}}})()})}function ey(r){return("0"+r.toString(16)).substr(-2)}function ty(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(e),Array.from(e,ey).join("")}async function ry(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(n);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function ny(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await ry(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ho(r,e,t=!1){const n=ty();let o=n;t&&(o+="/PASSWORD_RECOVERY"),await vo(r,`${e}-code-verifier`,o);const i=await ny(n);return[i,n===i?"plain":"s256"]}const oy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iy(r){const e=r.headers.get(xu);if(!e||!e.match(oy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sy(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function ay(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ly=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function po(r){if(!ly.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gu(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kh(r){return JSON.parse(JSON.stringify(r))}var uy=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t};const Tn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),cy=[502,503,504];async function Ph(r){var e;if(!Qg(r))throw new ku(Tn(r),0);if(cy.includes(r.status))throw new ku(Tn(r),r.status);let t;try{t=await r.json()}catch(i){throw new B1(Tn(i),i)}let n;const o=iy(r);if(o&&o.getTime()>=L1["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Oh(Tn(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new on}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Oh(Tn(t),r.status,t.weak_password.reasons);throw new Bg(Tn(t),r.status||500,n)}const fy=(r,e,t,n)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),t))};async function we(r,e,t,n){var o;const i=Object.assign({},n?.headers);i[xu]||(i[xu]=L1["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(o=n?.query)!==null&&o!==void 0?o:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await dy(r,e,t+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function dy(r,e,t,n,o,i){const l=fy(e,n,o,i);let u;try{u=await r(t,Object.assign({},l))}catch(c){throw console.error(c),new ku(Tn(c),0)}if(u.ok||await Ph(u),n?.noResolveJson)return u;try{return await u.json()}catch(c){await Ph(c)}}function xr(r){var e;let t=null;yy(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=qg(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Dh(r){const e=xr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function sn(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function hy(r){return{data:r,error:null}}function py(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:o,verification_type:i}=r,l=uy(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:n,redirect_to:o,verification_type:i},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function gy(r){return r}function yy(r){return r.access_token&&r.refresh_token&&r.expires_in}const yu=["global","local","others"];var my=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t};class vy{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=U1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=yu[0]){if(yu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yu.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:sn})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=my(e,["options"]),o=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(o.new_email=n?.newEmail,delete o.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:py,redirectTo:t?.redirectTo})}catch(t){if(he(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sn})}catch(t){if(he(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,o,i,l,u,c;try{const d={nextPage:null,lastPage:0,total:0},h=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:gy});if(h.error)throw h.error;const g=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return w.length>0&&(w.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);d[`${S}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(he(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){po(e);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sn})}catch(t){if(he(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){po(e);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:sn})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){po(e);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:sn})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){po(e.userId);try{const{data:t,error:n}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:n}}catch(t){if(he(t))return{data:null,error:t};throw t}}async _deleteFactor(e){po(e.userId),po(e.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}}}function Mh(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function wy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const go={debug:!!(globalThis&&F1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _y extends z1{}async function Cy(r,e,t){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await t()}finally{go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new _y(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(go.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}wy();const Ey={url:kg,storageKey:Pg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lh(r,e,t){return await t()}const yo={};class Ai{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ai.nextInstanceID,Ai.nextInstanceID+=1,this.instanceID>0&&fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Ey),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new vy({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=U1(o.fetch),this.lock=o.lock||Lh,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:fr()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Cy:this.lock=Lh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:F1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mh(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Mh(this.memoryStorage)),fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=yo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=yo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${M1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Kg(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),fr()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ug(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return he(t)?{error:t}:{error:new B1("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,o;try{const i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:xr}),{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,o;try{let i;if("email"in e){const{email:h,password:g,options:y}=e;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await ho(this.storage,this.storageKey)),i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:h,password:g,data:(t=y?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:_},xform:xr})}else if("phone"in e){const{phone:h,password:g,options:y}=e;i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(o=y?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:xr})}else throw new Vs("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:l,options:u}=e;t=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Dh})}else if("phone"in e){const{phone:i,password:l,options:u}=e;t=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Dh})}else throw new Vs("You must provide either an email or phone number and a password");const{data:n,error:o}=t;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,o,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,o,i,l,u,c,d,h,g,y,w;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:S,wallet:T,statement:N,options:b}=e;let R;if(fr())if(typeof T=="object")R=T;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))R=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const B=new URL((t=b?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in R&&R.signIn){const F=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),N?{statement:N}:null));let z;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")z=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)z=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)_=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${B.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(n=b?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((g=(h=b?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...b.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const F=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=F}}try{const{data:S,error:T}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Xg(E)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:xr});if(T)throw T;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Hs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:T})}catch(S){if(he(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const t=await Sn(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(t??"").split("/");try{const{data:i,error:l}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:xr});if(await en(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:l})}catch(i){if(he(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:o,access_token:i,nonce:l}=e,u=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:xr}),{data:c,error:d}=u;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,o,i,l;try{if("email"in e){const{email:u,options:c}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ho(this.storage,this.storageKey));const{error:g}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=c?.data)!==null&&t!==void 0?t:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:u,options:c}=e,{data:d,error:h}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(l=c?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new Vs("You must provide either an email or phone number.")}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,n;try{let o,i;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:xr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,n,o;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await ho(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:hy})}catch(i){if(he(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new on;const{error:o}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(he(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:o,options:i}=e,{error:l}=await we(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:o,options:i}=e,{data:l,error:u}=await we(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new Vs("You must provide either an email or phone number and a type")}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<du:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Sn(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=gu()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,h)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:e},error:null}}const{session:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sn}):await this._useSession(async t=>{var n,o,i;const{data:l,error:u}=t;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new on}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:sn})})}catch(t){if(he(t))return Fg(t)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:o,error:i}=n;if(i)throw i;if(!o.session)throw new on;const l=o.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await ho(this.storage,this.storageKey));const{data:d,error:h}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:sn});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new on;const t=Date.now()/1e3;let n=t,o=!0,i=null;const{payload:l}=pu(e.access_token);if(l.exp&&(n=l.exp,o=n<=t),o){const{session:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(he(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new on;const{session:o,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!fr())throw new Ws("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ws(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Th("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Th("No code detected.");const{data:N,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:i,refresh_token:l,expires_in:u,expires_at:c,token_type:d}=e;if(!i||!u||!l||!d)throw new Ws("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let y=h+g;c&&(y=parseInt(c));const w=y-h;w*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const _=y-g;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,h);const{data:E,error:S}=await this._getUser(i);if(S)throw S;const T={provider_token:n,provider_refresh_token:o,access_token:i,expires_in:g,expires_at:y,refresh_token:l,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(n){if(he(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Sn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:o,error:i}=t;if(i)return{error:i};const l=(n=o.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(jg(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Yg(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,o;try{const{data:{session:i},error:l}=t;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await ho(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(he(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:o}=await this._useSession(async i=>{var l,u,c,d,h;const{data:g,error:y}=i;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(o)throw o;return fr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(he(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,o;const{data:i,error:l}=t;if(l)throw l;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Jg(async o=>(o>0&&await Zg(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xr})),(o,i)=>{const l=200*Math.pow(2,o);return i&&hu(i)&&Date.now()+l-n<mo})}catch(n){if(this._debug(t,"error",n),he(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),fr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await Sn(this.storage,this.storageKey);if(o&&this.userStorage){let l=await Sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await vo(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l?.user)!==null&&e!==void 0?e:gu()}else if(o&&!o.user&&!o.user){const l=await Sn(this.storage,this.storageKey+"-user");l&&l?.user?(o.user=l.user,await en(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,o)):o.user=gu()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const i=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<du;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${du}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),hu(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(o.access_token);!u&&l?.user?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new on;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new aa;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new on;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(o,"error",i),he(i)){const l={session:null,error:i};return hu(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,n=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await vo(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const i=kh(o);await vo(this.storage,this.storageKey,i)}else{const o=kh(t);await vo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-e)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${mo}ms, refresh threshold is ${Ru} ticks`),o<=Ru&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof z1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const o=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await ho(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);o.push(i.toString())}return n?.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:o,error:i}=t;return i?{data:null,error:i}:await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,o;const{data:i,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await we(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(he(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:i}=t;if(i)return{data:null,error:i};const{data:l,error:u}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(he(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:i}=t;return i?{data:null,error:i}:await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(he(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=e?.factors||[],o=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:o,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:o},error:i}=e;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=pu(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((n=(t=o.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(u=>u.kid===e);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+Lg>o)return n;const{data:i,error:l}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,n=i.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:w,error:_}=await this.getSession();if(_||!w.session)return{data:null,error:_};n=w.session.access_token}const{header:o,payload:i,signature:l,raw:{header:u,payload:c}}=pu(n);t?.allowExpired||sy(i.exp);const d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!d){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:o,signature:l},error:null}}const h=ay(o.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,Gg(`${u}.${c}`)))throw new Pu("Invalid JWT signature");return{data:{claims:i,header:o,signature:l},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}Ai.nextInstanceID=0;const Sy=Ai;class Ay extends Sy{constructor(e){super(e)}}var Iy=function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(h){try{d(n.next(h))}catch(g){l(g)}}function c(h){try{d(n.throw(h))}catch(g){l(g)}}function d(h){h.done?i(h.value):o(h.value).then(u,c)}d((n=n.apply(r,e||[])).next())})};class by{constructor(e,t,n){var o,i,l;this.supabaseUrl=e,this.supabaseKey=t;const u=xg(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Cg,realtime:Sg,auth:Object.assign(Object.assign({},Eg),{storageKey:c}),global:_g},h=Rg(n??{},d);this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=Tg(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new z2(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new mg(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new x2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Iy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:i,storageKey:l,flowType:u,lock:c,debug:d},h,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ay({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),h),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:i,flowType:u,lock:c,debug:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new og(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ty=(r,e,t)=>new by(r,e,t);function Oy(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Oy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ny="https://xevlnjuxjxnuspddelrc.supabase.co",Ry="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhldmxuanV4anhudXNwZGRlbHJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyODY0NzgsImV4cCI6MjA3Nzg2MjQ3OH0.oE7BUVq0KS2Tj3Ypugg0JxSe2i4fqFST_NRKyaQuUDI",Qe=Ty(Ny,Ry,{auth:{persistSession:!0,autoRefreshToken:!0}}),H1=G.createContext(void 0);function xy({children:r}){const[e,t]=G.useState(null),[n,o]=G.useState(null),[i,l]=G.useState(null),[u,c]=G.useState(!0);G.useEffect(()=>{Qe.auth.getSession().then(({data:{session:_}})=>{l(_),t(_?.user??null),_?.user?d(_.user.id):c(!1)});const{data:{subscription:w}}=Qe.auth.onAuthStateChange((_,E)=>{(async()=>(l(E),t(E?.user??null),E?.user?await d(E.user.id):(o(null),c(!1))))()});return()=>w.unsubscribe()},[]);const d=async w=>{try{c(!0);const{data:_,error:E}=await Qe.from("profiles").select("*").eq("id",w).maybeSingle();if(E)throw E;o(_)}catch(_){console.error("Error loading profile:",_),o(null)}finally{c(!1)}},h=async(w,_,E,S,T)=>{try{const{data:N,error:b}=await Qe.auth.signUp({email:w,password:_,options:{data:{full_name:E,role:S,registration_number:T}}});if(b)throw b;if(!N.user)throw new Error("User creation failed");return{error:null}}catch(N){return{error:N}}},g=async(w,_)=>{try{const{error:E}=await Qe.auth.signInWithPassword({email:w,password:_});if(E)throw E;return{error:null}}catch(E){return{error:E}}},y=async()=>{await Qe.auth.signOut()};return A.jsx(H1.Provider,{value:{user:e,profile:n,session:i,loading:u,signUp:h,signIn:g,signOut:y},children:r})}function Dn(){const r=G.useContext(H1);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ky={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(r,e)=>{const t=G.forwardRef(({color:n="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...d},h)=>G.createElement("svg",{ref:h,...ky,width:o,height:o,stroke:n,strokeWidth:l?Number(i)*24/Number(o):i,className:["lucide",`lucide-${Py(r)}`,u].join(" "),...d},[...e.map(([g,y])=>G.createElement(g,y)),...Array.isArray(c)?c:[c]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=je("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=je("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=je("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=je("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=je("ListX",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"m19 10-4 4",key:"1tz659"}],["path",{d:"m15 10 4 4",key:"1n7nei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=je("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=je("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=je("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=je("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=je("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=je("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Zy(){const[r,e]=G.useState(""),[t,n]=G.useState(""),[o,i]=G.useState(""),[l,u]=G.useState(!1),{signIn:c}=Dn(),d=async h=>{h.preventDefault(),i(""),u(!0);const{error:g}=await c(r,t);g&&(g.message==="Invalid login credentials"?i("Email ou senha invlidos."):i("Ocorreu um erro ao tentar fazer login.")),u(!1)};return A.jsxs("form",{onSubmit:d,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email-login",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),A.jsx("input",{id:"email-login",type:"email",autoComplete:"email",value:r,onChange:h=>e(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-required":"true"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password-login",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),A.jsx("input",{id:"password-login",type:"password",autoComplete:"current-password",value:t,onChange:h=>n(h.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-required":"true"})]}),o&&A.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm",role:"alert",children:o}),A.jsxs("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors","aria-busy":l,children:[A.jsx(Hy,{size:20}),l?"Entrando...":"Entrar"]})]})}function Jy(){const[r,e]=G.useState(""),[t,n]=G.useState(""),[o,i]=G.useState(""),[l,u]=G.useState("student"),[c,d]=G.useState(""),[h,g]=G.useState(""),[y,w]=G.useState(!1),[_,E]=G.useState(!1),{signUp:S}=Dn(),T=async b=>{b.preventDefault(),g(""),E(!1),w(!0);const{error:R}=await S(r,t,o,l,c);R?R.message.includes("unique constraint")?g("Este email ou matrcula j est em uso."):R.message.includes("password length")?g("A senha deve ter no mnimo 6 caracteres."):g("Ocorreu um erro ao criar a conta."):(E(!0),e(""),n(""),i(""),d(""),u("student")),w(!1)},N=()=>{switch(l){case"student":return"Matrcula";case"professor":return"Registro (SIAPE, etc.)";case"institution":return"CNPJ";default:return"Identificador"}};return A.jsxs("form",{onSubmit:T,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"fullName-register",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),A.jsx("input",{id:"fullName-register",type:"text",autoComplete:"name",value:o,onChange:b=>i(b.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-required":"true"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"role-register",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Usurio"}),A.jsxs("select",{id:"role-register",value:l,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-required":"true",children:[A.jsx("option",{value:"student",children:"Aluno"}),A.jsx("option",{value:"professor",children:"Professor"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"registrationNumber-register",className:"block text-sm font-medium text-gray-700 mb-1",children:N()}),A.jsx("input",{id:"registrationNumber-register",type:"text",value:c,onChange:b=>d(b.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-required":"true"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email-register",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),A.jsx("input",{id:"email-register",type:"email",autoComplete:"email",value:r,onChange:b=>e(b.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-required":"true"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password-register",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),A.jsx("input",{id:"password-register",type:"password",autoComplete:"new-password",value:t,onChange:b=>n(b.target.value),required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-required":"true"})]}),h&&A.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm",role:"alert",children:h}),_&&A.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm",role:"alert",children:"Conta criada com sucesso! Verifique seu email para confirmao e faa login."}),A.jsxs("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors","aria-busy":y,children:[A.jsx(Yy,{size:20}),y?"Criando conta...":"Criar Conta"]})]})}function em({classes:r,onSelectClass:e,onStartSession:t}){const[n,o]=G.useState(null),[i,l]=G.useState(null),u=async c=>{o(c.id),l(null);try{const d={class_id:c.id,professor_id:c.professor_id,mode:"professor_generates",require_geolocation:!!c.latitude&&!!c.longitude},{data:h,error:g}=await Qe.from("attendance_sessions").insert(d).select().single();if(g)throw g;if(!h)throw new Error("Falha ao obter dados da sesso criada.");e(c),t(h.id)}catch(d){console.error("Error starting session:",d),l("Falha ao iniciar a sesso. Tente novamente.")}finally{o(null)}};return A.jsxs("div",{className:"space-y-6",children:[i&&A.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm flex items-center gap-2",role:"alert",children:[A.jsx(Dy,{size:18}),i]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(c=>{const d=n===c.id;return A.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col",children:[A.jsxs("div",{className:"p-6 flex-grow",children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c.name}),A.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Cdigo: ",c.code]})]}),A.jsx(V1,{className:"text-blue-600 flex-shrink-0",size:24})]}),c.location&&A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[A.jsx(ec,{size:16}),A.jsx("span",{children:c.location})]})]}),A.jsx("div",{className:"p-4 bg-gray-50 rounded-b-lg border-t border-gray-100",children:A.jsxs("button",{onClick:()=>u(c),disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-wait",children:[d?A.jsx(Yt,{size:18,className:"animate-spin"}):A.jsx(tc,{size:18}),d?"Iniciando...":"Iniciar Chamada"]})})]},c.id)})})]})}const $s="spai_offline_queue";class Eo{static isOnline(){return navigator.onLine}static addToQueue(e){const t=this.getQueue(),n={...e,local_id:crypto.randomUUID()};t.push(n),localStorage.setItem($s,JSON.stringify(t))}static getQueue(){const e=localStorage.getItem($s);return e?JSON.parse(e):[]}static clearQueue(){localStorage.removeItem($s)}static async syncQueue(){const e=this.getQueue();if(e.length===0)return{success:!0,synced:0,errors:0};console.log(`[OfflineService] Sincronizando ${e.length} itens...`);let t=0,n=0;const o=[];for(const i of e)try{const{local_id:l,...u}=i;u.synced=!0,u.synced_at=new Date().toISOString();const{error:c}=await Qe.from("attendance_records").insert(u).onConflict("session_id, student_id").ignore();if(c)throw c;t++}catch(l){console.error("[OfflineService] Falha ao sincronizar item:",l,i),n++,o.push(i)}return localStorage.setItem($s,JSON.stringify(o)),console.log(`[OfflineService] Sincronizao concluda. Sucesso: ${t}, Falhas: ${n}.`),{success:n===0,synced:t,errors:n}}static setupAutoSync(){window.removeEventListener("online",this.handleOnline),window.addEventListener("online",this.handleOnline),this.isOnline()&&(console.log("[OfflineService] Online. Tentando sync inicial."),this.syncQueue())}static handleOnline=()=>{console.log("[OfflineService] Conexo restaurada, sincronizando..."),this.syncQueue()}}class tm{static async getCurrentPosition(){return new Promise(e=>{if(!navigator.geolocation){console.error("Geolocation not supported"),e(null);return}navigator.geolocation.getCurrentPosition(t=>{e({latitude:t.coords.latitude,longitude:t.coords.longitude})},t=>{console.error("Geolocation error:",t),e(null)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}static calculateDistance(e,t){const o=e.latitude*Math.PI/180,i=t.latitude*Math.PI/180,l=(t.latitude-e.latitude)*Math.PI/180,u=(t.longitude-e.longitude)*Math.PI/180,c=Math.sin(l/2)*Math.sin(l/2)+Math.cos(o)*Math.cos(i)*Math.sin(u/2)*Math.sin(u/2);return 6371e3*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}static isWithinRadius(e,t,n){return this.calculateDistance(e,t)<=n}static async validateLocation(e,t,n){const o=await this.getCurrentPosition();if(!o)return{valid:!1};const i={latitude:e,longitude:t},l=this.calculateDistance(o,i);return{valid:l<=n,distance:l,userCoords:o}}}class Ii{static async markAttendance(e,t,n,o=!1,i){try{if(await this.checkAttendanceExists(e,t))return{success:!0,offline:!1,data:null,message:"Presena j registrada."}}catch(g){console.error("Falha ao verificar duplicados:",g)}let l=null,u=null;if(o&&i){const g=await tm.validateLocation(i.latitude,i.longitude,i.radius);if(!g.valid)throw new Error(g.distance?`Voc est muito longe da sala de aula (${Math.round(g.distance)}m)`:"No foi possvel obter sua localizao");l=g.userCoords?.latitude??null,u=g.userCoords?.longitude??null}const c={session_id:e,student_id:t,method:n,latitude:l,longitude:u,marked_at:new Date().toISOString(),synced:!0};if(!Eo.isOnline())return c.synced=!1,Eo.addToQueue(c),{success:!0,offline:!0};c.synced=!0;const{data:d,error:h}=await Qe.from("attendance_records").insert(c).select().single();if(h)throw h;return{success:!0,offline:!1,data:d}}static async getStudentAttendance(e,t){let n=Qe.from("attendance_records").select(`
        *,
        attendance_sessions!inner(
          *,
          classes!inner(*)
        )
      `).eq("student_id",e).order("marked_at",{ascending:!1});t&&(n=n.eq("attendance_sessions.class_id",t));const{data:o,error:i}=await n;if(i)throw i;return o}static async getSessionAttendance(e){const{data:t,error:n}=await Qe.from("attendance_records").select(`
        id,
        marked_at,
        method,
        student_id, 
        profiles(full_name, registration_number)
      `).eq("session_id",e).order("marked_at",{ascending:!0});if(n)throw n;return t}static async checkAttendanceExists(e,t){const{data:n,error:o}=await Qe.from("attendance_records").select("id").eq("session_id",e).eq("student_id",t).limit(1).maybeSingle();if(o)throw o;return!!n}}class oa{static async refreshToken(e){try{const t=crypto.randomUUID(),n=new Date(Date.now()+60*1e3).toISOString(),{data:o,error:i}=await Qe.from("attendance_sessions").update({qr_token:t,qr_expires_at:n}).eq("id",e).select().single();if(i)throw i;return o}catch(t){throw console.error("[QRService] Erro ao atualizar o token:",t),t}}static encodeSessionData(e,t){return JSON.stringify({sessionId:e,token:t})}static decodeSessionData(e){try{const t=JSON.parse(e);return t.sessionId&&t.token?t:null}catch(t){return console.error("[QRService] Erro ao decodificar QR Code:",t),null}}static async validateToken(e,t){try{const{data:n,error:o}=await Qe.from("attendance_sessions").select(`
            *,
            classes(*)
          `).eq("id",e).single();if(o||!n)throw new Error("Sesso de chamada no encontrada.");const i=n.qr_token===t,l=new Date(n.qr_expires_at||0).getTime()>Date.now();if(i&&l)return n;throw new Error("QR Code invlido ou expirado. Pea ao professor para atualizar.")}catch(n){throw console.error("[QRService] Erro ao validar token:",n),n}}}var rm=Object.defineProperty,ia=Object.getOwnPropertySymbols,X1=Object.prototype.hasOwnProperty,q1=Object.prototype.propertyIsEnumerable,Uh=(r,e,t)=>e in r?rm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Du=(r,e)=>{for(var t in e||(e={}))X1.call(e,t)&&Uh(r,t,e[t]);if(ia)for(var t of ia(e))q1.call(e,t)&&Uh(r,t,e[t]);return r},Mu=(r,e)=>{var t={};for(var n in r)X1.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ia)for(var n of ia(r))e.indexOf(n)<0&&q1.call(r,n)&&(t[n]=r[n]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var kn;(r=>{const e=class ve{constructor(c,d,h,g){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<ve.MIN_VERSION||c>ve.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let y=[];for(let _=0;_<this.size;_++)y.push(!1);for(let _=0;_<this.size;_++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(h);if(this.drawCodewords(w),g==-1){let _=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const S=this.getPenaltyScore();S<_&&(g=E,_=S),this.applyMask(E)}}o(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(c,d){const h=r.QrSegment.makeSegments(c);return ve.encodeSegments(h,d)}static encodeBinary(c,d){const h=r.QrSegment.makeBytes(c);return ve.encodeSegments([h],d)}static encodeSegments(c,d,h=1,g=40,y=-1,w=!0){if(!(ve.MIN_VERSION<=h&&h<=g&&g<=ve.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let _,E;for(_=h;;_++){const b=ve.getNumDataCodewords(_,d)*8,R=l.getTotalBits(c,_);if(R<=b){E=R;break}if(_>=g)throw new RangeError("Data too long")}for(const b of[ve.Ecc.MEDIUM,ve.Ecc.QUARTILE,ve.Ecc.HIGH])w&&E<=ve.getNumDataCodewords(_,b)*8&&(d=b);let S=[];for(const b of c){t(b.mode.modeBits,4,S),t(b.numChars,b.mode.numCharCountBits(_),S);for(const R of b.getData())S.push(R)}o(S.length==E);const T=ve.getNumDataCodewords(_,d)*8;o(S.length<=T),t(0,Math.min(4,T-S.length),S),t(0,(8-S.length%8)%8,S),o(S.length%8==0);for(let b=236;S.length<T;b^=253)t(b,8,S);let N=[];for(;N.length*8<S.length;)N.push(0);return S.forEach((b,R)=>N[R>>>3]|=b<<7-(R&7)),new ve(_,d,N,y)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let h=0;h<d;h++)for(let g=0;g<d;g++)h==0&&g==0||h==0&&g==d-1||h==d-1&&g==0||this.drawAlignmentPattern(c[h],c[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let h=d;for(let y=0;y<10;y++)h=h<<1^(h>>>9)*1335;const g=(d<<10|h)^21522;o(g>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,n(g,y));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,n(g,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,n(g,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,n(g,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let h=0;h<12;h++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;o(d>>>18==0);for(let h=0;h<18;h++){const g=n(d,h),y=this.size-11+h%3,w=Math.floor(h/3);this.setFunctionModule(y,w,g),this.setFunctionModule(w,y,g)}}drawFinderPattern(c,d){for(let h=-4;h<=4;h++)for(let g=-4;g<=4;g++){const y=Math.max(Math.abs(g),Math.abs(h)),w=c+g,_=d+h;0<=w&&w<this.size&&0<=_&&_<this.size&&this.setFunctionModule(w,_,y!=2&&y!=4)}}drawAlignmentPattern(c,d){for(let h=-2;h<=2;h++)for(let g=-2;g<=2;g++)this.setFunctionModule(c+g,d+h,Math.max(Math.abs(g),Math.abs(h))!=1)}setFunctionModule(c,d,h){this.modules[d][c]=h,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,h=this.errorCorrectionLevel;if(c.length!=ve.getNumDataCodewords(d,h))throw new RangeError("Invalid argument");const g=ve.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][d],y=ve.ECC_CODEWORDS_PER_BLOCK[h.ordinal][d],w=Math.floor(ve.getNumRawDataModules(d)/8),_=g-w%g,E=Math.floor(w/g);let S=[];const T=ve.reedSolomonComputeDivisor(y);for(let b=0,R=0;b<g;b++){let B=c.slice(R,R+E-y+(b<_?0:1));R+=B.length;const F=ve.reedSolomonComputeRemainder(B,T);b<_&&B.push(0),S.push(B.concat(F))}let N=[];for(let b=0;b<S[0].length;b++)S.forEach((R,B)=>{(b!=E-y||B>=_)&&N.push(R[b])});return o(N.length==w),N}drawCodewords(c){if(c.length!=Math.floor(ve.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let g=0;g<this.size;g++)for(let y=0;y<2;y++){const w=h-y,E=(h+1&2)==0?this.size-1-g:g;!this.isFunction[E][w]&&d<c.length*8&&(this.modules[E][w]=n(c[d>>>3],7-(d&7)),d++)}}o(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let h=0;h<this.size;h++){let g;switch(c){case 0:g=(h+d)%2==0;break;case 1:g=d%2==0;break;case 2:g=h%3==0;break;case 3:g=(h+d)%3==0;break;case 4:g=(Math.floor(h/3)+Math.floor(d/2))%2==0;break;case 5:g=h*d%2+h*d%3==0;break;case 6:g=(h*d%2+h*d%3)%2==0;break;case 7:g=((h+d)%2+h*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][h]&&g&&(this.modules[d][h]=!this.modules[d][h])}}getPenaltyScore(){let c=0;for(let y=0;y<this.size;y++){let w=!1,_=0,E=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[y][S]==w?(_++,_==5?c+=ve.PENALTY_N1:_>5&&c++):(this.finderPenaltyAddHistory(_,E),w||(c+=this.finderPenaltyCountPatterns(E)*ve.PENALTY_N3),w=this.modules[y][S],_=1);c+=this.finderPenaltyTerminateAndCount(w,_,E)*ve.PENALTY_N3}for(let y=0;y<this.size;y++){let w=!1,_=0,E=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][y]==w?(_++,_==5?c+=ve.PENALTY_N1:_>5&&c++):(this.finderPenaltyAddHistory(_,E),w||(c+=this.finderPenaltyCountPatterns(E)*ve.PENALTY_N3),w=this.modules[S][y],_=1);c+=this.finderPenaltyTerminateAndCount(w,_,E)*ve.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let w=0;w<this.size-1;w++){const _=this.modules[y][w];_==this.modules[y][w+1]&&_==this.modules[y+1][w]&&_==this.modules[y+1][w+1]&&(c+=ve.PENALTY_N2)}let d=0;for(const y of this.modules)d=y.reduce((w,_)=>w+(_?1:0),d);const h=this.size*this.size,g=Math.ceil(Math.abs(d*20-h*10)/h)-1;return o(0<=g&&g<=9),c+=g*ve.PENALTY_N4,o(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let h=[6];for(let g=this.size-7;h.length<c;g-=d)h.splice(1,0,g);return h}}static getNumRawDataModules(c){if(c<ve.MIN_VERSION||c>ve.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const h=Math.floor(c/7)+2;d-=(25*h-10)*h-55,c>=7&&(d-=36)}return o(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(ve.getNumRawDataModules(c)/8)-ve.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*ve.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let g=0;g<c-1;g++)d.push(0);d.push(1);let h=1;for(let g=0;g<c;g++){for(let y=0;y<d.length;y++)d[y]=ve.reedSolomonMultiply(d[y],h),y+1<d.length&&(d[y]^=d[y+1]);h=ve.reedSolomonMultiply(h,2)}return d}static reedSolomonComputeRemainder(c,d){let h=d.map(g=>0);for(const g of c){const y=g^h.shift();h.push(0),d.forEach((w,_)=>h[_]^=ve.reedSolomonMultiply(w,y))}return h}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let h=0;for(let g=7;g>=0;g--)h=h<<1^(h>>>7)*285,h^=(d>>>g&1)*c;return o(h>>>8==0),h}finderPenaltyCountPatterns(c){const d=c[1];o(d<=this.size*3);const h=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(h&&c[0]>=d*4&&c[6]>=d?1:0)+(h&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,h){return c&&(this.finderPenaltyAddHistory(d,h),d=0),d+=this.size,this.finderPenaltyAddHistory(d,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function t(u,c,d){if(c<0||c>31||u>>>c)throw new RangeError("Value out of range");for(let h=c-1;h>=0;h--)d.push(u>>>h&1)}function n(u,c){return(u>>>c&1)!=0}function o(u){if(!u)throw new Error("Assertion error")}const i=class et{constructor(c,d,h){if(this.mode=c,this.numChars=d,this.bitData=h,d<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(c){let d=[];for(const h of c)t(h,8,d);return new et(et.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!et.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let h=0;h<c.length;){const g=Math.min(c.length-h,3);t(parseInt(c.substring(h,h+g),10),g*3+1,d),h+=g}return new et(et.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!et.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],h;for(h=0;h+2<=c.length;h+=2){let g=et.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h))*45;g+=et.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h+1)),t(g,11,d)}return h<c.length&&t(et.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h)),6,d),new et(et.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:et.isNumeric(c)?[et.makeNumeric(c)]:et.isAlphanumeric(c)?[et.makeAlphanumeric(c)]:[et.makeBytes(et.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)t(c,8,d);else if(c<16384)t(2,2,d),t(c,14,d);else if(c<1e6)t(6,3,d),t(c,21,d);else throw new RangeError("ECI assignment value out of range");return new et(et.Mode.ECI,0,d)}static isNumeric(c){return et.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return et.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let h=0;for(const g of c){const y=g.mode.numCharCountBits(d);if(g.numChars>=1<<y)return 1/0;h+=4+y+g.bitData.length}return h}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let h=0;h<c.length;h++)c.charAt(h)!="%"?d.push(c.charCodeAt(h)):(d.push(parseInt(c.substring(h+1,h+3),16)),h+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=i;r.QrSegment=i})(kn||(kn={}));(r=>{(e=>{const t=class{constructor(o,i){this.ordinal=o,this.formatBits=i}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(r.QrCode||(r.QrCode={}))})(kn||(kn={}));(r=>{(e=>{const t=class{constructor(o,i){this.modeBits=o,this.numBitsCharCount=i}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(r.QrSegment||(r.QrSegment={}))})(kn||(kn={}));var wo=kn;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nm={L:wo.QrCode.Ecc.LOW,M:wo.QrCode.Ecc.MEDIUM,Q:wo.QrCode.Ecc.QUARTILE,H:wo.QrCode.Ecc.HIGH},Y1=128,K1="L",Q1="#FFFFFF",Z1="#000000",J1=!1,e0=1,om=4,im=0,sm=.1;function t0(r,e=0){const t=[];return r.forEach(function(n,o){let i=null;n.forEach(function(l,u){if(!l&&i!==null){t.push(`M${i+e} ${o+e}h${u-i}v1H${i+e}z`),i=null;return}if(u===n.length-1){if(!l)return;i===null?t.push(`M${u+e},${o+e} h1v1H${u+e}z`):t.push(`M${i+e},${o+e} h${u+1-i}v1H${i+e}z`);return}l&&i===null&&(i=u)})}),t.join("")}function r0(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((o,i)=>i<e.x||i>=e.x+e.w?o:!1))}function am(r,e,t,n){if(n==null)return null;const o=r.length+t*2,i=Math.floor(e*sm),l=o/e,u=(n.width||i)*l,c=(n.height||i)*l,d=n.x==null?r.length/2-u/2:n.x*l,h=n.y==null?r.length/2-c/2:n.y*l,g=n.opacity==null?1:n.opacity;let y=null;if(n.excavate){let _=Math.floor(d),E=Math.floor(h),S=Math.ceil(u+d-_),T=Math.ceil(c+h-E);y={x:_,y:E,w:S,h:T}}const w=n.crossOrigin;return{x:d,y:h,h:c,w:u,excavation:y,opacity:g,crossOrigin:w}}function lm(r,e){return e!=null?Math.max(Math.floor(e),0):r?om:im}function n0({value:r,level:e,minVersion:t,includeMargin:n,marginSize:o,imageSettings:i,size:l,boostLevel:u}){let c=Ee.useMemo(()=>{const _=(Array.isArray(r)?r:[r]).reduce((E,S)=>(E.push(...wo.QrSegment.makeSegments(S)),E),[]);return wo.QrCode.encodeSegments(_,nm[e],t,void 0,void 0,u)},[r,e,t,u]);const{cells:d,margin:h,numCells:g,calculatedImageSettings:y}=Ee.useMemo(()=>{let w=c.getModules();const _=lm(n,o),E=w.length+_*2,S=am(w,l,_,i);return{cells:w,margin:_,numCells:E,calculatedImageSettings:S}},[c,l,i,n,o]);return{qrcode:c,margin:h,cells:d,numCells:g,calculatedImageSettings:y}}var um=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),o0=Ee.forwardRef(function(e,t){const n=e,{value:o,size:i=Y1,level:l=K1,bgColor:u=Q1,fgColor:c=Z1,includeMargin:d=J1,minVersion:h=e0,boostLevel:g,marginSize:y,imageSettings:w}=n,E=Mu(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:S}=E,T=Mu(E,["style"]),N=w?.src,b=Ee.useRef(null),R=Ee.useRef(null),B=Ee.useCallback(Pe=>{b.current=Pe,typeof t=="function"?t(Pe):t&&(t.current=Pe)},[t]),[F,z]=Ee.useState(!1),{margin:$,cells:ue,numCells:de,calculatedImageSettings:le}=n0({value:o,level:l,minVersion:h,boostLevel:g,includeMargin:d,marginSize:y,imageSettings:w,size:i});Ee.useEffect(()=>{if(b.current!=null){const Pe=b.current,De=Pe.getContext("2d");if(!De)return;let tt=ue;const Re=R.current,K=le!=null&&Re!==null&&Re.complete&&Re.naturalHeight!==0&&Re.naturalWidth!==0;K&&le.excavation!=null&&(tt=r0(ue,le.excavation));const ie=window.devicePixelRatio||1;Pe.height=Pe.width=i*ie;const Z=i/de*ie;De.scale(Z,Z),De.fillStyle=u,De.fillRect(0,0,de,de),De.fillStyle=c,um?De.fill(new Path2D(t0(tt,$))):ue.forEach(function(P,H){P.forEach(function(pe,ge){pe&&De.fillRect(ge+$,H+$,1,1)})}),le&&(De.globalAlpha=le.opacity),K&&De.drawImage(Re,le.x+$,le.y+$,le.w,le.h)}}),Ee.useEffect(()=>{z(!1)},[N]);const Te=Du({height:i,width:i},S);let ke=null;return N!=null&&(ke=Ee.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{z(!0)},ref:R,crossOrigin:le?.crossOrigin})),Ee.createElement(Ee.Fragment,null,Ee.createElement("canvas",Du({style:Te,height:i,width:i,ref:B,role:"img"},T)),ke)});o0.displayName="QRCodeCanvas";var cm=Ee.forwardRef(function(e,t){const n=e,{value:o,size:i=Y1,level:l=K1,bgColor:u=Q1,fgColor:c=Z1,includeMargin:d=J1,minVersion:h=e0,boostLevel:g,title:y,marginSize:w,imageSettings:_}=n,E=Mu(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:S,cells:T,numCells:N,calculatedImageSettings:b}=n0({value:o,level:l,minVersion:h,boostLevel:g,includeMargin:d,marginSize:w,imageSettings:_,size:i});let R=T,B=null;_!=null&&b!=null&&(b.excavation!=null&&(R=r0(T,b.excavation)),B=Ee.createElement("image",{href:_.src,height:b.h,width:b.w,x:b.x+S,y:b.y+S,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const F=t0(R,S);return Ee.createElement("svg",Du({height:i,width:i,viewBox:`0 0 ${N} ${N}`,ref:t,role:"img"},E),!!y&&Ee.createElement("title",null,y),Ee.createElement("path",{fill:u,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),Ee.createElement("path",{fill:c,d:F,shapeRendering:"crispEdges"}),B)});cm.displayName="QRCodeSVG";function fm({session:r}){const[e,t]=G.useState(""),[n,o]=G.useState(60),[i,l]=G.useState(!1),[u,c]=G.useState(r);G.useEffect(()=>{c(r);const h=async y=>{const w=new Date(y.qr_expires_at||0).getTime(),_=Date.now(),E=Math.max(0,Math.floor((w-_)/1e3));o(E),E<=0&&!i&&await d(y.id)};(!u.qr_token||!u.qr_expires_at||new Date(u.qr_expires_at).getTime()<Date.now())&&d(u.id);const g=setInterval(()=>h(u),1e3);return()=>clearInterval(g)},[u.id,i]),G.useEffect(()=>{if(u.qr_token){const h=oa.encodeSessionData(u.id,u.qr_token);t(h)}},[u.qr_token,u.id]);const d=async h=>{l(!0);try{const g=await oa.refreshToken(h);c(g),o(60)}catch(g){console.error("Error refreshing token:",g)}finally{l(!1)}};return A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("div",{className:"bg-white p-6 rounded-lg border-2 border-gray-200 mb-4",children:e?A.jsx(o0,{value:e,size:256,bgColor:"#ffffff",fgColor:"#000000",level:"Q",includeMargin:!0}):A.jsxs("div",{className:"w-64 h-64 flex items-center justify-center bg-gray-100 rounded",children:[A.jsx(Yt,{className:"animate-spin text-gray-500",size:32}),A.jsx("p",{className:"text-gray-500 ml-2",children:"Gerando QR Code..."})]})}),A.jsxs("div",{className:"text-center mb-4",children:[A.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Expira em ",n," segundos"]}),A.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-2",children:A.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000 ease-linear",style:{width:`${n/60*100}%`}})})]}),A.jsxs("button",{onClick:()=>d(u.id),disabled:i,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50","aria-label":"Atualizar QR Code",children:[A.jsx(Wy,{size:20,className:i?"animate-spin":""}),"Atualizar QR Code"]}),A.jsx("div",{className:"mt-6 text-center max-w-md",children:A.jsx("p",{className:"text-sm text-gray-600",children:"Os alunos devem escanear este QR Code para registrar presena. O cdigo  atualizado automaticamente para maior segurana."})})]})}function dm({classId:r,markedStudents:e,onMarkAttendance:t}){const[n,o]=G.useState([]),[i,l]=G.useState(""),[u,c]=G.useState(!0),[d,h]=G.useState(null);G.useEffect(()=>{g()},[r]);const g=async()=>{c(!0);try{const{data:_,error:E}=await Qe.from("profiles").select(`
          id,
          full_name,
          registration_number,
          class_enrollments!inner(class_id) 
        `).eq("class_enrollments.class_id",r).order("full_name",{ascending:!0});if(E)throw E;o(_)}catch(_){console.error("Error loading students:",_)}finally{c(!1)}},y=async _=>{h(_);try{await t(_)}catch(E){console.error("Error marking attendance:",E)}finally{h(null)}},w=n.filter(_=>_.full_name.toLowerCase().includes(i.toLowerCase())||_.registration_number.toLowerCase().includes(i.toLowerCase()));return u?A.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-600",children:[A.jsx(Yt,{className:"animate-spin mr-2",size:20}),"Carregando lista de alunos..."]}):A.jsxs("div",{children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{htmlFor:"search",className:"sr-only",children:"Buscar aluno"}),A.jsxs("div",{className:"relative",children:[A.jsx(Xy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),A.jsx("input",{id:"search",type:"text",placeholder:"Buscar por nome ou matrcula...",value:i,onChange:_=>l(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),w.length===0?A.jsx("p",{className:"text-center py-8 text-gray-600",children:i?"Nenhum aluno encontrado":"Nenhum aluno matriculado"}):A.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:w.map(_=>{const E=e.includes(_.id),S=d===_.id;return A.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${E?"bg-green-50 border-green-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-900",children:_.full_name}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Matrcula: ",_.registration_number]})]}),A.jsx("button",{onClick:()=>y(_.id),disabled:E||S,className:`px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 w-32 ${E?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-wait"}`,"aria-label":E?`${_.full_name} j est presente`:`Marcar presena de ${_.full_name}`,children:S?A.jsx(Yt,{className:"animate-spin",size:18}):E?A.jsxs(A.Fragment,{children:[A.jsx(jy,{size:18}),"Presente"]}):"Marcar"})]},_.id)})})]})}function hm({sessionId:r,classData:e,onEnd:t}){const[n,o]=G.useState("qr"),[i,l]=G.useState(null),[u,c]=G.useState([]),[d,h]=G.useState(!0),[g,y]=G.useState(!1),w=G.useRef(null);G.useEffect(()=>((async()=>{h(!0),await Promise.all([_(),E()]),S(),h(!1)})(),()=>{w.current&&(Qe.removeChannel(w.current),w.current=null)}),[r]);const _=async()=>{try{const{data:b,error:R}=await Qe.from("attendance_sessions").select("*").eq("id",r).single();if(R)throw R;l(b)}catch(b){console.error("Error loading session data:",b)}},E=async()=>{try{const b=await Ii.getSessionAttendance(r);c(b)}catch(b){console.error("Error loading initial attendance:",b)}},S=()=>{if(w.current)return;const b=Qe.channel(`session_attendance_${r}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"attendance_records",filter:`session_id=eq.${r}`},async R=>{const B=R.new;if(B.student_id){const{data:F}=await Qe.from("profiles").select("full_name, registration_number").eq("id",B.student_id).single();F&&c(z=>[...z,{...B,profiles:F}])}}).subscribe();w.current=b},T=async()=>{y(!0);try{await Qe.from("attendance_sessions").update({ended_at:new Date().toISOString()}).eq("id",r),t()}catch(b){console.error("Error ending session:",b)}finally{y(!1)}},N=async b=>{if(i)try{await Ii.markAttendance(i.id,b,"manual",!1)}catch(R){console.error("Error marking attendance:",R)}};return d||!i?A.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:A.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-600",children:[A.jsx(Yt,{className:"animate-spin",size:32}),"Carregando sesso..."]})}):A.jsx("div",{className:"min-h-screen bg-gray-50",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[A.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.name}),A.jsxs("p",{className:"text-gray-600",children:[A.jsx("span",{className:"font-bold text-blue-600",children:u.length})," ","presena(s) registrada(s)"]})]}),A.jsxs("button",{onClick:T,disabled:g,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[g?A.jsx(Yt,{className:"animate-spin",size:20}):A.jsx(G1,{size:20}),g?"Encerrando...":"Encerrar Chamada"]})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[A.jsx("div",{className:"border-b border-gray-200",children:A.jsxs("div",{className:"flex",children:[A.jsx("button",{onClick:()=>o("qr"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${n==="qr"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(tc,{size:20}),"QR Code"]})}),A.jsx("button",{onClick:()=>o("manual"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${n==="manual"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(Fy,{size:20}),"Chamada Manual"]})})]})}),A.jsx("div",{className:"p-6",children:n==="qr"?A.jsx(fm,{session:i,onRefresh:E}):A.jsx(dm,{classId:e.id,sessionId:i.id,markedStudents:u.map(b=>b.student_id||""),onMarkAttendance:N})})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[A.jsx($1,{size:20,className:"text-gray-600"}),A.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lista de Presena (em tempo real)"})]}),u.length===0?A.jsx("p",{className:"text-gray-600 text-center py-8",children:"Nenhuma presena registrada ainda."}):A.jsx("div",{className:"space-y-2",children:u.map(b=>A.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-900",children:b.profiles?.full_name||"Aluno no encontrado"}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Matrcula:"," ",b.profiles?.registration_number||"N/A"]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-sm text-gray-600",children:new Date(b.marked_at).toLocaleTimeString("pt-BR")}),A.jsx("p",{className:`text-xs font-medium ${b.method==="manual"?"text-yellow-600":"text-green-600"}`,children:b.method==="manual"?"Manual":"QR Code"})]})]},b.id))})]})]})})}function pm({isOpen:r,onClose:e,onSuccess:t}){const{profile:n}=Dn(),[o,i]=G.useState(""),[l,u]=G.useState(""),[c,d]=G.useState(""),[h,g]=G.useState(null),[y,w]=G.useState(null),[_,E]=G.useState(100),[S,T]=G.useState(!1),[N,b]=G.useState(!1),[R,B]=G.useState("");G.useEffect(()=>{r||(i(""),u(""),d(""),g(null),w(null),E(100),B(""),T(!1))},[r]);const F=()=>{b(!0),navigator.geolocation.getCurrentPosition($=>{g(Number($.coords.latitude.toFixed(6))),w(Number($.coords.longitude.toFixed(6))),b(!1)},$=>{B("No foi possvel obter a localizao. Verifique as permisses."),console.error($),b(!1)})},z=async $=>{if($.preventDefault(),!n){B("Erro: Perfil do professor no encontrado.");return}T(!0),B("");const ue={name:o,code:l,professor_id:n.id,location:c||null,latitude:h,longitude:y,geofence_radius:_};try{const{error:de}=await Qe.from("classes").insert([ue]);if(de)throw de;t()}catch(de){de.message.includes("unique constraint")?B("J existe uma turma com este cdigo."):B("Ocorreu um erro ao criar a turma."),console.error(de)}finally{T(!1)}};return r?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm","aria-modal":"true",role:"dialog",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Criar Nova Turma"}),A.jsx("button",{onClick:e,disabled:S,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50","aria-label":"Fechar modal",children:A.jsx(G1,{size:24})})]}),A.jsxs("form",{onSubmit:z,className:"p-6 space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Turma (ex: Clculo I)"}),A.jsx("input",{id:"name",type:"text",value:o,onChange:$=>i($.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo da Turma (ex: TCC-00123)"}),A.jsx("input",{id:"code",type:"text",value:l,onChange:$=>u($.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Local (ex: Sala 201, Bloco B)"}),A.jsx("input",{id:"location",type:"text",value:c,onChange:$=>d($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[A.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Validao por GPS (Opcional)"}),A.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Defina as coordenadas da sala para garantir que os alunos esto presentes fisicamente."}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"latitude",className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),A.jsx("input",{id:"latitude",type:"number",step:"any",value:h??"",onChange:$=>g(Number($.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"longitude",className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),A.jsx("input",{id:"longitude",type:"number",step:"any",value:y??"",onChange:$=>w(Number($.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"radius",className:"block text-sm font-medium text-gray-700 mb-1",children:"Raio (metros)"}),A.jsx("input",{id:"radius",type:"number",value:_,onChange:$=>E(Number($.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),A.jsxs("button",{type:"button",onClick:F,disabled:N,className:"mt-3 inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:[N?A.jsx(Yt,{size:16,className:"animate-spin"}):A.jsx(ec,{size:16}),N?"Obtendo...":"Usar minha localizao atual"]})]}),R&&A.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm",role:"alert",children:R})]}),A.jsxs("div",{className:"flex items-center justify-end p-5 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[A.jsx("button",{type:"button",onClick:e,disabled:S,className:"px-5 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancelar"}),A.jsxs("button",{type:"submit",form:"class-form",disabled:S,onClick:z,className:"ml-3 inline-flex items-center gap-2 px-5 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[S?A.jsx(Yt,{size:20,className:"animate-spin"}):A.jsx($y,{size:20}),S?"Salvando...":"Salvar Turma"]})]})]})}):null}function gm(){const{profile:r}=Dn(),[e,t]=G.useState(!0),[n,o]=G.useState(!1),[i,l]=G.useState(null),[u,c]=G.useState(null),[d,h]=G.useState("turmas"),[g,y]=G.useState([]);G.useEffect(()=>{r&&w()},[r]);const w=async()=>{if(r){t(!0);try{const{data:S,error:T}=await Qe.from("classes").select("*").eq("professor_id",r.id).order("created_at",{ascending:!1});if(T)throw T;y(S||[])}catch(S){console.error("Error loading classes:",S)}finally{t(!1)}}},_=S=>{l(S)},E=()=>{l(null),c(null),w()};return i&&u?A.jsx(hm,{sessionId:i,classData:u,onEnd:E}):A.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard do Professor"}),A.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",r?.full_name]})]}),d==="turmas"&&A.jsxs("button",{onClick:()=>o(!0),className:"mt-4 sm:mt-0 inline-flex items-center gap-2 bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(Fh,{size:20}),"Criar Turma"]})]}),A.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:A.jsx("div",{className:"border-b border-gray-200",children:A.jsxs("div",{className:"flex",children:[A.jsx("button",{onClick:()=>h("turmas"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${d==="turmas"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(zy,{size:20}),"Minhas Turmas"]})}),A.jsx("button",{onClick:()=>h("historico"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${d==="historico"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(Ju,{size:20}),"Histrico de Chamadas"]})})]})})}),A.jsxs("div",{className:"mt-6",children:[d==="turmas"&&A.jsx(A.Fragment,{children:e?A.jsxs("div",{className:"flex items-center justify-center p-16",children:[A.jsx(Yt,{className:"animate-spin text-gray-600",size:24}),A.jsx("span",{className:"ml-2 text-gray-600",children:"Carregando turmas..."})]}):g.length===0?A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[A.jsx(V1,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhuma turma cadastrada"}),A.jsx("p",{className:"text-gray-600 mb-4",children:'Clique em "Criar Turma" para comear.'}),A.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(Fh,{size:20}),"Criar Turma"]})]}):A.jsx(em,{classes:g,onSelectClass:c,onStartSession:_,onRefresh:w})}),d==="historico"&&A.jsx(ym,{professorId:r.id})]})]}),A.jsx(pm,{isOpen:n,onClose:()=>o(!1),onSuccess:()=>{o(!1),w()}})]})}function ym({professorId:r}){const[e,t]=G.useState([]),[n,o]=G.useState(!0);G.useEffect(()=>{r&&i()},[r]);const i=async()=>{o(!0);try{const{data:l,error:u}=await Qe.from("attendance_sessions").select(`
          id,
          started_at,
          ended_at,
          classes(name, code),
          attendance_records(count)
        `).eq("professor_id",r).order("started_at",{ascending:!1});if(u)throw u;t(l)}catch(l){console.error("Error loading session history:",l)}finally{o(!1)}};return n?A.jsxs("div",{className:"flex items-center justify-center p-16",children:[A.jsx(Yt,{className:"animate-spin text-gray-600",size:24}),A.jsx("span",{className:"ml-2 text-gray-600",children:"Carregando histrico..."})]}):e.length===0?A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[A.jsx(Ju,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhuma chamada realizada"}),A.jsx("p",{className:"text-gray-600",children:'Quando voc iniciar uma chamada pela aba "Minhas Turmas", ela aparecer aqui.'})]}):A.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:A.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(l=>A.jsxs("li",{className:"p-4 sm:p-6 hover:bg-gray-50",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.classes?.name||"Turma no encontrada"}),A.jsx("p",{className:"text-sm text-gray-600",children:l.classes?.code||""})]}),A.jsxs("div",{className:"flex items-center gap-1 mt-2 sm:mt-0 text-gray-800",children:[A.jsx($1,{size:18}),A.jsx("span",{className:"text-lg font-bold",children:l.attendance_records[0]?.count||0}),A.jsx("span",{className:"text-sm",children:"alunos presentes"})]})]}),A.jsx("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600 mt-3",children:A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(W1,{size:16}),A.jsxs("span",{children:[new Date(l.started_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})," - ",new Date(l.started_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})})]},l.id))})})}var Rn=function(){return Rn=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},Rn.apply(this,arguments)};function zh(r,e,t,n){return new(t||(t=Promise))((function(o,i){function l(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){var h;d.done?o(d.value):(h=d.value,h instanceof t?h:new t((function(g){g(h)}))).then(l,u)}c((n=n.apply(r,[])).next())}))}function Hh(r,e){var t,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(c){return function(d){return(function(h){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,h[0]&&(l=0)),l;)try{if(t=1,n&&(o=2&h[0]?n.return:h[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,h[1])).done)return o;switch(n=0,o&&(h=[2&h[0],o.value]),h[0]){case 0:case 1:o=h;break;case 4:return l.label++,{value:h[1],done:!1};case 5:l.label++,n=h[1],h=[0];continue;case 7:h=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!((o=o.length>0&&o[o.length-1])||h[0]!==6&&h[0]!==2)){l=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){l.label=h[1];break}if(h[0]===6&&l.label<o[1]){l.label=o[1],o=h;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(h);break}o[2]&&l.ops.pop(),l.trys.pop();continue}h=e.call(r,l)}catch(g){h=[6,g],n=0}finally{t=o=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}})([c,d])}}}var i0={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},mm=typeof navigator<"u"&&navigator.mediaDevices?function(r){var e=G.useState([]),t=e[0],n=e[1];return G.useEffect((function(){var o,i={audio:!1,video:r??i0},l=function(){navigator.mediaDevices.getUserMedia(i).then((function(u){var c=[];o=u,u.getVideoTracks().forEach((function(d){c.push(d.getSettings())})),n(c)})).catch((function(u){return console.log(u)}))};return(function(u){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];u&&u.addEventListener&&u.addEventListener.apply(u,c)})(navigator.mediaDevices,"devicechange",l),l(),function(){(function(u){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];u&&u.removeEventListener&&u.removeEventListener.apply(u,c)})(navigator.mediaDevices,"devicechange",l),o.getVideoTracks().forEach((function(u){u.stop()}))}}),[]),t}:function(){return[]},vm=function(r){var e,t,n=r.result,o=r.video,i=r.constraints,l=r.deviceId,u=r.scanDelay,c=G.useRef(null),d=mm(i);return G.useEffect((function(){if(n!==void 0&&c.current!==null&&o!==null&&n.getBarcodeFormat()===11){var h=d[0];if(l!==void 0&&d.length>1){var g=d.find((function(R){return R.deviceId===l}));g!==void 0&&(h=g)}if(h!==void 0&&h.width!==void 0){var y=h.width/o.clientWidth,w=c.current,_=w.getContext("2d");if(_!==null){var E=setTimeout((function(){_.clearRect(0,0,w.width,w.height)}),u);_.strokeStyle="rgba(0, 255, 0, 0.5)",_.lineWidth=4;var S=n.getResultPoints()[0];_.beginPath(),_.arc(S.getX()/y,S.getY()/y,S.estimatedModuleSize,0,2*Math.PI),_.stroke(),_.closePath();var T=n.getResultPoints()[1];_.beginPath(),_.arc(T.getX()/y,T.getY()/y,T.estimatedModuleSize,0,2*Math.PI),_.stroke(),_.closePath();var N=n.getResultPoints()[2];if(_.beginPath(),_.arc(N.getX()/y,N.getY()/y,N.estimatedModuleSize,0,2*Math.PI),_.stroke(),_.closePath(),n.getResultPoints().length>=4){var b=n.getResultPoints()[3];_.beginPath(),_.arc(b.getX()/y,b.getY()/y,b.estimatedModuleSize,0,2*Math.PI),_.stroke(),_.closePath()}return function(){return clearTimeout(E)}}}}})),Ee.createElement("canvas",{ref:c,width:(e=o?.clientWidth)!==null&&e!==void 0?e:0,height:(t=o?.clientHeight)!==null&&t!==void 0?t:0,style:{position:"absolute",top:0,zIndex:2}})},wm={count:{bottom:0,right:5,fontSize:30,color:"#fff",position:"absolute",zIndex:1}},_m=function(r){var e=r.scanCount;return Ee.createElement("div",{style:wm.count},e)},Cm=function(r){var e=r.scanCount,t=r.hideCount,n=r.tracker,o=r.border,i=o===void 0?80:o,l=r.result,u=r.video,c=r.constraints,d=r.deviceId,h=r.scanDelay,g=G.useState("rgba(255, 0, 0, 0.5)"),y=g[0],w=g[1];return G.useEffect((function(){if(l?.getBarcodeFormat()!=11||!n){w("rgba(0, 255, 0, 0.5)");var _=setTimeout((function(){w("rgba(255, 0, 0, 0.5)")}),h);return function(){clearTimeout(_)}}w("rgba(255, 0, 0, 0.5)")}),[e]),Ee.createElement(G.Fragment,null,!t&&Ee.createElement(_m,{scanCount:e}),n&&Ee.createElement(vm,{video:u,result:l,constraints:c,deviceId:d,scanDelay:h}),Ee.createElement("svg",{viewBox:"0 0 100 100",style:{top:0,left:0,zIndex:1,boxSizing:"border-box",border:"".concat(i,"px solid rgba(0, 0, 0, 0.1)"),position:"absolute",width:"100%",height:"100%"}},Ee.createElement("path",{fill:"none",d:"M23,0 L0,0 L0,23",stroke:y,strokeWidth:"5"}),Ee.createElement("path",{fill:"none",d:"M0,77 L0,100 L23,100",stroke:y,strokeWidth:"5"}),Ee.createElement("path",{fill:"none",d:"M77,100 L100,100 L100,77",stroke:y,strokeWidth:"5"}),Ee.createElement("path",{fill:"none",d:"M100,23 L100,0 77,0",stroke:y,strokeWidth:"5"})))},Gs,Xs,Lu,Em=(Gs=function(r,e){return Gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},Gs(r,e)},function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}Gs(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),Sm=(function(r){function e(t,n){var o,i,l,u=this.constructor,c=r.call(this,t,n)||this;return Object.defineProperty(c,"name",{value:u.name,enumerable:!1,configurable:!0}),o=c,i=u.prototype,(l=Object.setPrototypeOf)?l(o,i):o.__proto__=i,(function(d,h){h===void 0&&(h=d.constructor);var g=Error.captureStackTrace;g&&g(d,h)})(c),c}return Em(e,r),e})(Error),Am=(Xs=function(r,e){return Xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])},Xs(r,e)},function(r,e){function t(){this.constructor=r}Xs(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),Ht=(function(r){function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return Am(e,r),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e})(Sm),Im=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),dr=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Im(e,r),e.kind="ArgumentException",e})(Ht),bm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),fe=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return bm(e,r),e.kind="IllegalArgumentException",e})(Ht),Tm=(function(){function r(e){if(this.binarizer=e,e===null)throw new fe("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return this.matrix!==null&&this.matrix!==void 0||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,o){var i=this.binarizer.getLuminanceSource().crop(e,t,n,o);return new r(this.binarizer.createBinarizer(i))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),Om=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),vt=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Om(e,r),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Ht),Nm=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),qe=(function(){function r(){}return r.arraycopy=function(e,t,n,o,i){for(;i--;)n[o++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r})(),Rm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rc=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Rm(e,r),e.kind="IndexOutOfBoundsException",e})(Ht),xm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Vh=(function(r){function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var o=r.call(this,n)||this;return o.index=t,o.message=n,o}return xm(e,r),e.kind="ArrayIndexOutOfBoundsException",e})(rc),km=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt=(function(){function r(){}return r.fill=function(e,t){for(var n=0,o=e.length;n<o;n++)e[n]=t},r.fillWithin=function(e,t,n,o){r.rangeCheck(e.length,t,n);for(var i=t;i<n;i++)e[i]=o},r.rangeCheck=function(e,t,n){if(t>n)throw new fe("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new Vh(t);if(n>e)throw new Vh(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){return Array.from({length:e}).map((function(o){return Array.from({length:t}).fill(n)}))},r.createInt32Array=function(e,t,n){return Array.from({length:e}).map((function(o){return Int32Array.from({length:t}).fill(n)}))},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,o=e.length;n<o;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var o=1;try{for(var i=km(e),l=i.next();!l.done;l=i.next())o=31*o+l.value}catch(u){t={error:u}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var o=n-t,i=new Int32Array(o);return qe.arraycopy(e,t,i,0,o),i},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var o=0,i=e.length-1;o<=i;){var l=i+o>>1,u=n(t,e[l]);if(u>0)o=l+1;else{if(!(u<0))return l;i=l-1}}return-o-1},r.numberComparator=function(e,t){return e-t},r})(),ot=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return(t=e<<16)!==0&&(n-=16,e=t),(t=e<<8)!==0&&(n-=8,e=t),(t=e<<4)!==0&&(n-=4,e=t),(t=e<<2)!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return!(e>>>16)&&(t+=16,e<<=16),!(e>>>24)&&(t+=8,e<<=8),!(e>>>28)&&(t+=4,e<<=4),!(e>>>30)&&(t+=2,e<<=2),t-=e>>>31},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),Er=(function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=t??r.makeArray(e))}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var t=r.makeArray(e);qe.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(31&e))!=0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,o=Math.floor(e/32),i=n[o];i&=~((1<<(31&e))-1);for(var l=n.length;i===0;){if(++o===l)return t;i=n[o]}var u=32*o+ot.numberOfTrailingZeros(i);return u>t?t:u},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,o=Math.floor(e/32),i=~n[o];i&=~((1<<(31&e))-1);for(var l=n.length;i===0;){if(++o===l)return t;i=~n[o]}var u=32*o+ot.numberOfTrailingZeros(i);return u>t?t:u},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new fe;if(t!==e){t--;for(var n=Math.floor(e/32),o=Math.floor(t/32),i=this.bits,l=n;l<=o;l++){var u=(2<<(l<o?31:31&t))-(1<<(l>n?0:31&e));i[l]|=u}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new fe;if(t===e)return!0;t--;for(var o=Math.floor(e/32),i=Math.floor(t/32),l=this.bits,u=o;u<=i;u++){var c=(2<<(u<i?31:31&t))-(1<<(u>o?0:31&e))&4294967295;if((l[u]&c)!==(n?c:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new fe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)==1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new fe("Sizes don't match");for(var t=this.bits,n=0,o=t.length;n<o;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,o){for(var i=0;i<o;i++){for(var l=0,u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;t[n+i]=l}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,o=this.bits,i=0;i<n;i++){var l=o[i];l=(l=(l=(l=(l=l>>1&1431655765|(1431655765&l)<<1)>>2&858993459|(858993459&l)<<2)>>4&252645135|(252645135&l)<<4)>>8&16711935|(16711935&l)<<8)>>16&65535|(65535&l)<<16,e[t-i]=l}if(this.size!==32*n){var u=32*n-this.size,c=e[0]>>>u;for(i=1;i<n;i++){var d=e[i];c|=d<<32-u,e[i-1]=c,c=d>>>u}e[n-1]=c}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&wt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+wt.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(7&t)==0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r})();(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Lu||(Lu={}));var Be,Ze=Lu,Pm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Y=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Pm(e,r),e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Ht),Dm=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(Be||(Be={}));var Bu,Dt=(function(){function r(e,t,n){for(var o,i,l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];this.valueIdentifier=e,this.name=n,this.values=typeof t=="number"?Int32Array.from([t]):t,this.otherEncodingNames=l,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var c=this.values,d=0,h=c.length;d!==h;d++){var g=c[d];r.VALUES_TO_ECI.set(g,this)}try{for(var y=Dm(l),w=y.next();!w.done;w=y.next()){var _=w.value;r.NAME_TO_ECI.set(_,this)}}catch(E){o={error:E}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Y("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new Y("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new Y("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(Be.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(Be.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(Be.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(Be.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(Be.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(Be.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(Be.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(Be.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(Be.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(Be.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(Be.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(Be.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(Be.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(Be.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(Be.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(Be.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(Be.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(Be.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(Be.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(Be.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(Be.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(Be.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(Be.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(Be.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(Be.Big5,28,"Big5"),r.GB18030=new r(Be.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(Be.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),Mm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Zs=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Mm(e,r),e.kind="UnsupportedOperationException",e})(Ht),Pr=(function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Dt?e:Dt.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var o="",i=0,l=e.length;i<l;i++){var u=e[i].toString(16);u.length<2&&(u="0"+u),o+="%"+u}return decodeURIComponent(o)}if(n.equals(Dt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Zs("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Dt.UTF8)||e.equals(Dt.ISO8859_1)||e.equals(Dt.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))).split(""),n=[],o=0;o<t.length;o++)n.push(t[o].charCodeAt(0));return new Uint8Array(n)},r})(),Ve=(function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return Pr.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(Ze.CHARACTER_SET)!==void 0)return t.get(Ze.CHARACTER_SET).toString();for(var n=e.length,o=!0,i=!0,l=!0,u=0,c=0,d=0,h=0,g=0,y=0,w=0,_=0,E=0,S=0,T=0,N=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,b=0;b<n&&(o||i||l);b++){var R=255&e[b];l&&(u>0?(128&R)==0?l=!1:u--:(128&R)!=0&&((64&R)==0?l=!1:(u++,(32&R)==0?c++:(u++,(16&R)==0?d++:(u++,(8&R)==0?h++:l=!1))))),o&&(R>127&&R<160?o=!1:R>159&&(R<192||R===215||R===247)&&T++),i&&(g>0?R<64||R===127||R>252?i=!1:g--:R===128||R===160||R>239?i=!1:R>160&&R<224?(y++,_=0,++w>E&&(E=w)):R>127?(g++,w=0,++_>S&&(S=_)):(w=0,_=0))}return l&&u>0&&(l=!1),i&&g>0&&(i=!1),l&&(N||c+d+h>0)?r.UTF8:i&&(r.ASSUME_SHIFT_JIS||E>=3||S>=3)?r.SHIFT_JIS:o&&i?E===2&&y===2||10*T>=n?r.SHIFT_JIS:r.ISO88591:o?r.ISO88591:i?r.SHIFT_JIS:l?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=-1;function i(u,c,d,h,g,y){if(u==="%%")return"%";if(t[++o]!==void 0){u=h?parseInt(h.substr(1)):void 0;var w,_=g?parseInt(g.substr(1)):void 0;switch(y){case"s":w=t[o];break;case"c":w=t[o][0];break;case"f":w=parseFloat(t[o]).toFixed(u);break;case"p":w=parseFloat(t[o]).toPrecision(u);break;case"e":w=parseFloat(t[o]).toExponential(u);break;case"x":w=parseInt(t[o]).toString(_||16);break;case"d":w=parseFloat(parseInt(t[o],_||10).toPrecision(u)).toFixed(0)}w=typeof w=="object"?JSON.stringify(w):(+w).toString(_);for(var E=parseInt(d),S=d&&d[0]+""=="0"?"0":" ";w.length<E;)w=c!==void 0?w+S:S+w;return w}}var l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,i)},r.getBytes=function(e,t){return Pr.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=Dt.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Dt.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Dt.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),me=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ve.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var o=t;t<t+n;o++)this.append(e[o]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r})(),Dr=(function(){function r(e,t,n,o){if(this.width=e,this.height=t,this.rowSize=n,this.bits=o,t==null&&(t=e),this.height=t,e<1||t<1)throw new fe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,o=new r(n,t),i=0;i<t;i++)for(var l=e[i],u=0;u<n;u++)l[u]&&o.set(u,i);return o},r.parseFromString=function(e,t,n){if(e===null)throw new fe("stringRepresentation cannot be null");for(var o=new Array(e.length),i=0,l=0,u=-1,c=0,d=0;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(i>l){if(u===-1)u=i-l;else if(i-l!==u)throw new fe("row lengths do not match");l=i,c++}d++}else if(e.substring(d,d+t.length)===t)d+=t.length,o[i]=!0,i++;else{if(e.substring(d,d+n.length)!==n)throw new fe("illegal character encountered: "+e.substring(d));d+=n.length,o[i]=!1,i++}if(i>l){if(u===-1)u=i-l;else if(i-l!==u)throw new fe("row lengths do not match");c++}for(var h=new r(u,c),g=0;g<i;g++)o[g]&&h.set(Math.floor(g%u),Math.floor(g/u));return h},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(31&e)&1)!=0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new fe("input matrix dimensions do not match");for(var t=new Er(Math.floor(this.width/32)+1),n=this.rowSize,o=this.bits,i=0,l=this.height;i<l;i++)for(var u=i*n,c=e.getRow(i,t).getBitArray(),d=0;d<n;d++)o[u+d]^=c[d]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,o){if(t<0||e<0)throw new fe("Left and top must be nonnegative");if(o<1||n<1)throw new fe("Height and width must be at least 1");var i=e+n,l=t+o;if(l>this.height||i>this.width)throw new fe("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,d=t;d<l;d++)for(var h=d*u,g=e;g<i;g++)c[h+Math.floor(g/32)]|=1<<(31&g)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Er(this.width):t.clear();for(var n=this.rowSize,o=this.bits,i=e*n,l=0;l<n;l++)t.setBulk(32*l,o[i+l]);return t},r.prototype.setRow=function(e,t){qe.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new Er(e),o=new Er(e),i=0,l=Math.floor((t+1)/2);i<l;i++)n=this.getRow(i,n),o=this.getRow(t-1-i,o),n.reverse(),o.reverse(),this.setRow(i,o),this.setRow(t-1-i,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,o=this.bits,i=e,l=t,u=-1,c=-1,d=0;d<t;d++)for(var h=0;h<n;h++){var g=o[d*n+h];if(g!==0){if(d<l&&(l=d),d>c&&(c=d),32*h<i){for(var y=0;(g<<31-y&4294967295)==0;)y++;32*h+y<i&&(i=32*h+y)}if(32*h+31>u){for(y=31;!(g>>>y);)y--;32*h+y>u&&(u=32*h+y)}}}return u<i||c<l?null:Int32Array.from([i,l,u-i+1,c-l+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var o=n/e,i=n%e*32,l=t[n],u=0;(l<<31-u&4294967295)==0;)u++;return i+=u,Int32Array.from([i,o])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var o=Math.floor(n/e),i=32*Math.floor(n%e),l=t[n],u=31;!(l>>>u);)u--;return i+=u,Int32Array.from([i,o])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&wt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+wt.hashCode(this.bits)},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var o=new me,i=0,l=this.height;i<l;i++){for(var u=0,c=this.width;u<c;u++)o.append(this.get(u,i)?e:t);o.append(n)}return o.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),Lm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),U=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Lm(e,r),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Ht),Bm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),jm=(function(r){function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return Bm(e,r),e.prototype.getBlackRow=function(t,n){var o=this.getLuminanceSource(),i=o.getWidth();n==null||n.getSize()<i?n=new Er(i):n.clear(),this.initArrays(i);for(var l=o.getRow(t,this.luminances),u=this.buckets,c=0;c<i;c++)u[(255&l[c])>>e.LUMINANCE_SHIFT]++;var d=e.estimateBlackPoint(u);if(i<3)for(c=0;c<i;c++)(255&l[c])<d&&n.set(c);else{var h=255&l[0],g=255&l[1];for(c=1;c<i-1;c++){var y=255&l[c+1];(4*g-h-y)/2<d&&n.set(c),h=g,g=y}}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),o=t.getHeight(),i=new Dr(n,o);this.initArrays(n);for(var l=this.buckets,u=1;u<5;u++)for(var c=Math.floor(o*u/5),d=t.getRow(c,this.luminances),h=Math.floor(4*n/5),g=Math.floor(n/5);g<h;g++)l[(255&d[g])>>e.LUMINANCE_SHIFT]++;var y=e.estimateBlackPoint(l),w=t.getMatrix();for(u=0;u<o;u++){var _=u*n;for(g=0;g<n;g++)(255&w[_+g])<y&&i.set(g,u)}return i},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,o=0;o<e.LUMINANCE_BUCKETS;o++)n[o]=0},e.estimateBlackPoint=function(t){for(var n=t.length,o=0,i=0,l=0,u=0;u<n;u++)t[u]>l&&(i=u,l=t[u]),t[u]>o&&(o=t[u]);var c=0,d=0;for(u=0;u<n;u++){var h=u-i;(_=t[u]*h*h)>d&&(c=u,d=_)}if(i>c){var g=i;i=c,c=g}if(c-i<=n/16)throw new U;var y=c-1,w=-1;for(u=c-1;u>i;u--){var _,E=u-i;(_=E*E*(c-u)*(o-t[u]))>w&&(y=u,w=_)}return y<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(Nm),Fm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Um=(function(r){function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return Fm(e,r),e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),o=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&o>=e.MINIMUM_DIMENSION){var i=t.getMatrix(),l=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!=0&&l++;var u=o>>e.BLOCK_SIZE_POWER;(o&e.BLOCK_SIZE_MASK)!=0&&u++;var c=e.calculateBlackPoints(i,l,u,n,o),d=new Dr(n,o);e.calculateThresholdForBlock(i,l,u,n,o,c,d),this.matrix=d}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,o,i,l,u,c){for(var d=l-e.BLOCK_SIZE,h=i-e.BLOCK_SIZE,g=0;g<o;g++){var y=g<<e.BLOCK_SIZE_POWER;y>d&&(y=d);for(var w=e.cap(g,2,o-3),_=0;_<n;_++){var E=_<<e.BLOCK_SIZE_POWER;E>h&&(E=h);for(var S=e.cap(_,2,n-3),T=0,N=-2;N<=2;N++){var b=u[w+N];T+=b[S-2]+b[S-1]+b[S]+b[S+1]+b[S+2]}var R=T/25;e.thresholdBlock(t,E,y,R,i,c)}}},e.cap=function(t,n,o){return t<n?n:t>o?o:t},e.thresholdBlock=function(t,n,o,i,l,u){for(var c=0,d=o*l+n;c<e.BLOCK_SIZE;c++,d+=l)for(var h=0;h<e.BLOCK_SIZE;h++)(255&t[d+h])<=i&&u.set(n+h,o+c)},e.calculateBlackPoints=function(t,n,o,i,l){for(var u=l-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,d=new Array(o),h=0;h<o;h++){d[h]=new Int32Array(n);var g=h<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var y=0;y<n;y++){var w=y<<e.BLOCK_SIZE_POWER;w>c&&(w=c);for(var _=0,E=255,S=0,T=0,N=g*i+w;T<e.BLOCK_SIZE;T++,N+=i){for(var b=0;b<e.BLOCK_SIZE;b++){var R=255&t[N+b];_+=R,R<E&&(E=R),R>S&&(S=R)}if(S-E>e.MIN_DYNAMIC_RANGE)for(T++,N+=i;T<e.BLOCK_SIZE;T++,N+=i)for(b=0;b<e.BLOCK_SIZE;b++)_+=255&t[N+b]}var B=_>>2*e.BLOCK_SIZE_POWER;if(S-E<=e.MIN_DYNAMIC_RANGE&&(B=E/2,h>0&&y>0)){var F=(d[h-1][y]+2*d[h][y-1]+d[h-1][y-1])/4;E<F&&(B=F)}d[h][y]=B}}return d},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e})(jm),la=(function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,o){throw new Zs("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new Zs("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new Zs("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new me,n=0;n<this.height;n++){for(var o=this.getRow(n,e),i=0;i<this.width;i++){var l=255&o[i],u=void 0;u=l<64?"#":l<128?"+":l<192?".":" ",t.append(u)}t.append(`
`)}return t.toString()},r})(),zm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),nc=(function(r){function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return zm(e,r),e.prototype.getRow=function(t,n){for(var o=this.delegate.getRow(t,n),i=this.getWidth(),l=0;l<i;l++)o[l]=255-(255&o[l]);return o},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(n),i=0;i<n;i++)o[i]=255-(255&t[i]);return o},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,o,i){return new e(this.delegate.crop(t,n,o,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(la),Hm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Vm=(function(r){function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return Hm(e,r),e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,o){var i=new Uint8ClampedArray(n*o);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var l=0,u=0,c=t.length;l<c;l+=4,u++){var d=void 0;t[l+3]===0?d=255:d=306*t[l]+601*t[l+1]+117*t[l+2]+512>>10,i[u]=d}else{l=0,u=0;for(var h=t.length;l<h;l+=4,u++)d=void 0,t[l+3]===0?d=255:d=306*t[l]+601*t[l+1]+117*t[l+2]+512>>10,i[u]=255-d}return i},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new fe("Requested row is outside the image: "+t);var o=this.getWidth(),i=t*o;return n===null?n=this.buffer.slice(i,i+o):(n.length<o&&(n=new Uint8ClampedArray(o)),n.set(this.buffer.slice(i,i+o))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,o,i){return r.prototype.crop.call(this,t,n,o,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),o=n.getContext("2d"),i=t*e.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*l+Math.abs(Math.sin(i))*u),d=Math.ceil(Math.abs(Math.sin(i))*l+Math.abs(Math.cos(i))*u);return n.width=c,n.height=d,o.translate(c/2,d/2),o.rotate(i),o.drawImage(this.canvas,l/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new nc(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(la),Wm=(function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),kt=function(r,e,t,n){return new(t||(t=Promise))((function(o,i){function l(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){var h;d.done?o(d.value):(h=d.value,h instanceof t?h:new t((function(g){g(h)}))).then(l,u)}c((n=n.apply(r,[])).next())}))},Pt=function(r,e){var t,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(c){return function(d){return(function(h){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,n&&(o=2&h[0]?n.return:h[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,h[1])).done)return o;switch(n=0,o&&(h=[2&h[0],o.value]),h[0]){case 0:case 1:o=h;break;case 4:return l.label++,{value:h[1],done:!1};case 5:l.label++,n=h[1],h=[0];continue;case 7:h=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!((o=o.length>0&&o[o.length-1])||h[0]!==6&&h[0]!==2)){l=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){l.label=h[1];break}if(h[0]===6&&l.label<o[1]){l.label=o[1],o=h;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(h);break}o[2]&&l.ops.pop(),l.trys.pop();continue}h=e.call(r,l)}catch(g){h=[6,g],n=0}finally{t=o=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}})([c,d])}}},$m=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bo=(function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return kt(this,void 0,void 0,(function(){var e,t,n,o,i,l,u,c,d,h,g,y;return Pt(this,(function(w){switch(w.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=w.sent(),t=[];try{for(n=$m(e),o=n.next();!o.done;o=n.next())i=o.value,(l=i.kind==="video"?"videoinput":i.kind)==="videoinput"&&(u=i.deviceId||i.id,c=i.label||"Video device "+(t.length+1),d=i.groupId,h={deviceId:u,label:c,kind:l,groupId:d},t.push(h))}catch(_){g={error:_}}finally{try{o&&!o.done&&(y=n.return)&&y.call(n)}finally{if(g)throw g.error}}return[2,t]}}))}))},r.prototype.getVideoInputDevices=function(){return kt(this,void 0,void 0,(function(){return Pt(this,(function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map((function(t){return new Wm(t.deviceId,t.label)}))]}}))}))},r.prototype.findDeviceById=function(e){return kt(this,void 0,void 0,(function(){var t;return Pt(this,(function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(t=n.sent())?[2,t.find((function(o){return o.deviceId===e}))]:[2,null]}}))}))},r.prototype.decodeFromInputVideoDevice=function(e,t){return kt(this,void 0,void 0,(function(){return Pt(this,(function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}}))}))},r.prototype.decodeOnceFromVideoDevice=function(e,t){return kt(this,void 0,void 0,(function(){var n;return Pt(this,(function(o){switch(o.label){case 0:return this.reset(),n={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,t)];case 1:return[2,o.sent()]}}))}))},r.prototype.decodeOnceFromConstraints=function(e,t){return kt(this,void 0,void 0,(function(){var n;return Pt(this,(function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=o.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,o.sent()]}}))}))},r.prototype.decodeOnceFromStream=function(e,t){return kt(this,void 0,void 0,(function(){var n;return Pt(this,(function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return[2,o.sent()]}}))}))},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return kt(this,void 0,void 0,(function(){return Pt(this,(function(o){switch(o.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,o.sent()]}}))}))},r.prototype.decodeFromVideoDevice=function(e,t,n){return kt(this,void 0,void 0,(function(){var o;return Pt(this,(function(i){switch(i.label){case 0:return o={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,i.sent()]}}))}))},r.prototype.decodeFromConstraints=function(e,t,n){return kt(this,void 0,void 0,(function(){var o;return Pt(this,(function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return o=i.sent(),[4,this.decodeFromStream(o,t,n)];case 2:return[2,i.sent()]}}))}))},r.prototype.decodeFromStream=function(e,t,n){return kt(this,void 0,void 0,(function(){var o;return Pt(this,(function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return o=i.sent(),[4,this.decodeContinuously(o,n)];case 2:return[2,i.sent()]}}))}))},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return kt(this,void 0,void 0,(function(){var n;return Pt(this,(function(o){switch(o.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return o.sent(),[2,n]}}))}))},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise((function(n,o){return t.playVideoOnLoad(e,(function(){return n()}))}))},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return kt(this,void 0,void 0,(function(){return Pt(this,(function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}}))}))},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new dr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new dr("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new dr("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new dr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new dr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new dr("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);return this.imageElement=t,this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t)},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new dr("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new dr("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new dr("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new dr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(n,t);return n.src=e,o},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise((function(n,o){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,o)},e.addEventListener("load",t.imageLoadedListener)}))},r.prototype._decodeOnLoadVideo=function(e){return kt(this,void 0,void 0,(function(){return Pt(this,(function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}}))}))},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return kt(this,void 0,void 0,(function(){return Pt(this,(function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}}))}))},r.prototype.isImageLoaded=function(e){return!!e.complete&&e.naturalWidth!==0},r.prototype.prepareImageElement=function(e){var t;return e===void 0&&((t=document.createElement("img")).width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return e||typeof document>"u"||((t=document.createElement("video")).width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var o=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(l,u){if(o._stopAsyncDecode)return u(new U("Video stream has ended before any code could be detected.")),void(o._stopAsyncDecode=void 0);try{l(o.decode(e))}catch(c){if(t&&c instanceof U||(c instanceof vt||c instanceof Y)&&n)return setTimeout(i,o._timeBetweenDecodingAttempts,l,u);u(c)}};return new Promise((function(l,u){return i(l,u)}))},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var o=function(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var i=n.decode(e);t(i,null),setTimeout(o,n.timeBetweenScansMillis)}catch(l){t(null,l),(l instanceof vt||l instanceof Y||l instanceof U)&&setTimeout(o,n._timeBetweenDecodingAttempts)}};o()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var t=this.getCaptureCanvas(e),n=new Vm(t),o=new Um(n);return new Tm(o)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t,n,o=document.createElement("canvas");return e!==void 0&&(e instanceof HTMLVideoElement?(t=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(t=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),o.style.width=t+"px",o.style.height=n+"px",o.width=t,o.height=n,o},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach((function(e){return e.stop()})),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(this.videoEndedListener!==void 0&&this.videoElement.removeEventListener("ended",this.videoEndedListener),this.videoPlayingEventListener!==void 0&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),this.videoCanPlayListener!==void 0&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),Ot=(function(){function r(e,t,n,o,i,l){n===void 0&&(n=t==null?0:8*t.length),l===void 0&&(l=qe.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=o,this.format=i,this.timestamp=l,this.text=e,this.rawBytes=t,this.numBits=n??(t==null?0:8*t.length),this.resultPoints=o,this.format=i,this.resultMetadata=null,this.timestamp=l??qe.currentTimeMillis()}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);qe.arraycopy(t,0,n,0,t.length),qe.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})();(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Bu||(Bu={}));var ju,oe=Bu;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ju||(ju={}));var Et,St=ju,ua=(function(){function r(e,t,n,o,i,l){i===void 0&&(i=-1),l===void 0&&(l=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=o,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),yi=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new fe;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r})(),Si=(function(){function r(e,t){if(t.length===0)throw new fe;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var o=1;o<n&&t[o]===0;)o++;o===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-o),qe.arraycopy(t,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t,n=this.coefficients;if(e===1){t=0;for(var o=0,i=n.length;o!==i;o++){var l=n[o];t=yi.addOrSubtract(t,l)}return t}t=n[0];var u=n.length,c=this.field;for(o=1;o<u;o++)t=yi.addOrSubtract(c.multiply(e,t),n[o]);return t},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new fe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var o=t;t=n,n=o}var i=new Int32Array(n.length),l=n.length-t.length;qe.arraycopy(n,0,i,0,l);for(var u=l;u<n.length;u++)i[u]=yi.addOrSubtract(t[u-l],n[u]);return new r(this.field,i)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new fe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,o=e.coefficients,i=o.length,l=new Int32Array(n+i-1),u=this.field,c=0;c<n;c++)for(var d=t[c],h=0;h<i;h++)l[c+h]=yi.addOrSubtract(l[c+h],u.multiply(d,o[h]));return new r(u,l)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,o=new Int32Array(t),i=this.coefficients,l=0;l<t;l++)o[l]=n.multiply(i[l],e);return new r(n,o)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new fe;if(t===0)return this.field.getZero();for(var n=this.coefficients,o=n.length,i=new Int32Array(o+e),l=this.field,u=0;u<o;u++)i[u]=l.multiply(n[u],t);return new r(l,i)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new fe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new fe("Divide by 0");for(var t=this.field,n=t.getZero(),o=this,i=e.getCoefficient(e.getDegree()),l=t.inverse(i);o.getDegree()>=e.getDegree()&&!o.isZero();){var u=o.getDegree()-e.getDegree(),c=t.multiply(o.getCoefficient(o.getDegree()),l),d=e.multiplyByMonomial(u,c),h=t.buildMonomial(u,c);n=n.addOrSubtract(h),o=o.addOrSubtract(d)}return[n,o]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var o=this.field.log(n);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r})(),Gm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),s0=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Gm(e,r),e.kind="ArithmeticException",e})(Ht),Xm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),an=(function(r){function e(t,n,o){var i=r.call(this)||this;i.primitive=t,i.size=n,i.generatorBase=o;for(var l=new Int32Array(n),u=1,c=0;c<n;c++)l[c]=u,(u*=2)>=n&&(u^=t,u&=n-1);i.expTable=l;var d=new Int32Array(n);for(c=0;c<n-1;c++)d[l[c]]=c;return i.logTable=d,i.zero=new Si(i,Int32Array.from([0])),i.one=new Si(i,Int32Array.from([1])),i}return Xm(e,r),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new fe;if(n===0)return this.zero;var o=new Int32Array(t+1);return o[0]=n,new Si(this,o)},e.prototype.inverse=function(t){if(t===0)throw new s0;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+ot.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(yi),qm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),qs=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return qm(e,r),e.kind="ReedSolomonException",e})(Ht),Ym=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Oi=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Ym(e,r),e.kind="IllegalStateException",e})(Ht),ca=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,o=new Si(n,e),i=new Int32Array(t),l=!0,u=0;u<t;u++){var c=o.evaluateAt(n.exp(u+n.getGeneratorBase()));i[i.length-1-u]=c,c!==0&&(l=!1)}if(!l){var d=new Si(n,i),h=this.runEuclideanAlgorithm(n.buildMonomial(t,1),d,t),g=h[0],y=h[1],w=this.findErrorLocations(g),_=this.findErrorMagnitudes(y,w);for(u=0;u<w.length;u++){var E=e.length-1-n.log(w[u]);if(E<0)throw new qs("Bad error location");e[E]=an.addOrSubtract(e[E],_[u])}}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var o=e;e=t,t=o}for(var i=this.field,l=e,u=t,c=i.getZero(),d=i.getOne();u.getDegree()>=(n/2|0);){var h=l,g=c;if(c=d,(l=u).isZero())throw new qs("r_{i-1} was zero");u=h;for(var y=i.getZero(),w=l.getCoefficient(l.getDegree()),_=i.inverse(w);u.getDegree()>=l.getDegree()&&!u.isZero();){var E=u.getDegree()-l.getDegree(),S=i.multiply(u.getCoefficient(u.getDegree()),_);y=y.addOrSubtract(i.buildMonomial(E,S)),u=u.addOrSubtract(l.multiplyByMonomial(E,S))}if(d=y.multiply(c).addOrSubtract(g),u.getDegree()>=l.getDegree())throw new Oi("Division algorithm failed to reduce polynomial?")}var T=d.getCoefficient(0);if(T===0)throw new qs("sigmaTilde(0) was zero");var N=i.inverse(T);return[d.multiplyScalar(N),u.multiplyScalar(N)]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),o=0,i=this.field,l=1;l<i.getSize()&&o<t;l++)e.evaluateAt(l)===0&&(n[o]=i.inverse(l),o++);if(o!==t)throw new qs("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,o=new Int32Array(n),i=this.field,l=0;l<n;l++){for(var u=i.inverse(t[l]),c=1,d=0;d<n;d++)if(l!==d){var h=i.multiply(t[d],u),g=(1&h)==0?1|h:-2&h;c=i.multiply(c,g)}o[l]=i.multiply(e.evaluateAt(u),i.inverse(c)),i.getGeneratorBase()!==0&&(o[l]=i.multiply(o[l],u))}return o},r})();(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Et||(Et={}));var Wh=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),o=this.correctBits(n),i=r.convertBoolArrayToByteArray(o),l=r.getEncodedData(o),u=new ua(i,l,null,null);return u.setNumBits(o.length),u},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=Et.UPPER,o=Et.UPPER,i="",l=0;l<t;)if(o===Et.BINARY){if(t-l<5)break;var u=r.readCode(e,l,5);if(l+=5,u===0){if(t-l<11)break;u=r.readCode(e,l,11)+31,l+=11}for(var c=0;c<u;c++){if(t-l<8){l=t;break}var d=r.readCode(e,l,8);i+=Ve.castAsNonUtf8Char(d),l+=8}o=n}else{var h=o===Et.DIGIT?4:5;if(t-l<h)break;d=r.readCode(e,l,h),l+=h;var g=r.getCharacter(o,d);g.startsWith("CTRL_")?(n=o,o=r.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=o)):(i+=g,o=n)}return i},r.getTable=function(e){switch(e){case"L":return Et.LOWER;case"P":return Et.PUNCT;case"M":return Et.MIXED;case"D":return Et.DIGIT;case"B":return Et.BINARY;default:return Et.UPPER}},r.getCharacter=function(e,t){switch(e){case Et.UPPER:return r.UPPER_TABLE[t];case Et.LOWER:return r.LOWER_TABLE[t];case Et.MIXED:return r.MIXED_TABLE[t];case Et.PUNCT:return r.PUNCT_TABLE[t];case Et.DIGIT:return r.DIGIT_TABLE[t];default:throw new Oi("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=an.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=an.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=an.AZTEC_DATA_10):(n=12,t=an.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),i=e.length/n;if(i<o)throw new Y;for(var l=e.length%n,u=new Int32Array(i),c=0;c<i;c++,l+=n)u[c]=r.readCode(e,l,n);try{new ca(t).decode(u,i-o)}catch(E){throw new Y(E)}var d=(1<<n)-1,h=0;for(c=0;c<o;c++){if((w=u[c])===0||w===d)throw new Y;w!==1&&w!==d-1||h++}var g=new Array(o*n-h),y=0;for(c=0;c<o;c++){var w;if((w=u[c])===1||w===d-1)g.fill(w>1,y,y+n-1),y+=n-1;else for(var _=n-1;_>=0;--_)g[y++]=(w&1<<_)!=0}return g},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),o=(t?11:14)+4*n,i=new Int32Array(o),l=new Array(this.totalBitsInLayer(n,t));if(t)for(var u=0;u<i.length;u++)i[u]=u;else{var c=o+1+2*ot.truncDivision(ot.truncDivision(o,2)-1,15),d=o/2,h=ot.truncDivision(c,2);for(u=0;u<d;u++){var g=u+ot.truncDivision(u,15);i[d-u-1]=h-g-1,i[d+u]=h+g+1}}u=0;for(var y=0;u<n;u++){for(var w=4*(n-u)+(t?9:12),_=2*u,E=o-1-_,S=0;S<w;S++)for(var T=2*S,N=0;N<2;N++)l[y+T+N]=e.get(i[_+N],i[_+S]),l[y+2*w+T+N]=e.get(i[_+S],i[E-N]),l[y+4*w+T+N]=e.get(i[E-N],i[E-S]),l[y+6*w+T+N]=e.get(i[E-S],i[_+N]);y+=8*w}return l},r.readCode=function(e,t,n){for(var o=0,i=t;i<t+n;i++)o<<=1,e[i]&&(o|=1);return o},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),be=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,o){var i=e-n,l=t-o;return Math.sqrt(i*i+l*l)},r.sum=function(e){for(var t=0,n=0,o=e.length;n!==o;n++)t+=e[n];return t},r})(),Fu=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),re=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Fu.floatToIntBits(this.x)+Fu.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t,n,o,i=this.distance(e[0],e[1]),l=this.distance(e[1],e[2]),u=this.distance(e[0],e[2]);if(l>=i&&l>=u?(n=e[0],t=e[1],o=e[2]):u>=l&&u>=i?(n=e[1],t=e[0],o=e[2]):(n=e[2],t=e[0],o=e[1]),this.crossProductZ(t,n,o)<0){var c=t;t=o,o=c}e[0]=t,e[1]=n,e[2]=o},r.distance=function(e,t){return be.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var o=t.x,i=t.y;return(n.x-o)*(e.y-i)-(n.y-i)*(e.x-o)},r})(),oc=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Km=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Qm=(function(r){function e(t,n,o,i,l){var u=r.call(this,t,n)||this;return u.compact=o,u.nbDatablocks=i,u.nbLayers=l,u}return Km(e,r),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(oc),Uu=(function(){function r(e,t,n,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);var i=t/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=o-i,this.downInit=o+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,o=this.downInit,i=!1,l=!0,u=!1,c=!1,d=!1,h=!1,g=!1,y=this.width,w=this.height;l;){l=!1;for(var _=!0;(_||!c)&&t<y;)(_=this.containsBlackPoint(n,o,t,!1))?(t++,l=!0,c=!0):c||t++;if(t>=y){i=!0;break}for(var E=!0;(E||!d)&&o<w;)(E=this.containsBlackPoint(e,t,o,!0))?(o++,l=!0,d=!0):d||o++;if(o>=w){i=!0;break}for(var S=!0;(S||!h)&&e>=0;)(S=this.containsBlackPoint(n,o,e,!1))?(e--,l=!0,h=!0):h||e--;if(e<0){i=!0;break}for(var T=!0;(T||!g)&&n>=0;)(T=this.containsBlackPoint(e,t,n,!0))?(n--,l=!0,g=!0):g||n--;if(n<0){i=!0;break}l&&(u=!0)}if(!i&&u){for(var N=t-e,b=null,R=1;b===null&&R<N;R++)b=this.getBlackPointOnSegment(e,o-R,e+R,o);if(b==null)throw new U;var B=null;for(R=1;B===null&&R<N;R++)B=this.getBlackPointOnSegment(e,n+R,e+R,n);if(B==null)throw new U;var F=null;for(R=1;F===null&&R<N;R++)F=this.getBlackPointOnSegment(t,n+R,t-R,n);if(F==null)throw new U;var z=null;for(R=1;z===null&&R<N;R++)z=this.getBlackPointOnSegment(t,o-R,t-R,o);if(z==null)throw new U;return this.centerEdges(z,b,F,B)}throw new U},r.prototype.getBlackPointOnSegment=function(e,t,n,o){for(var i=be.round(be.distance(e,t,n,o)),l=(n-e)/i,u=(o-t)/i,c=this.image,d=0;d<i;d++){var h=be.round(e+d*l),g=be.round(t+d*u);if(c.get(h,g))return new re(h,g)}return null},r.prototype.centerEdges=function(e,t,n,o){var i=e.getX(),l=e.getY(),u=t.getX(),c=t.getY(),d=n.getX(),h=n.getY(),g=o.getX(),y=o.getY(),w=r.CORR;return i<this.width/2?[new re(g-w,y+w),new re(u+w,c+w),new re(d-w,h-w),new re(i+w,l-w)]:[new re(g+w,y+w),new re(u+w,c-w),new re(d-w,h+w),new re(i-w,l-w)]},r.prototype.containsBlackPoint=function(e,t,n,o){var i=this.image;if(o){for(var l=e;l<=t;l++)if(i.get(l,n))return!0}else for(var u=e;u<=t;u++)if(i.get(n,u))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),$h=(function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),o=e.getHeight(),i=!0,l=0;l<t.length&&i;l+=2){var u=Math.floor(t[l]),c=Math.floor(t[l+1]);if(u<-1||u>n||c<-1||c>o)throw new U;i=!1,u===-1?(t[l]=0,i=!0):u===n&&(t[l]=n-1,i=!0),c===-1?(t[l+1]=0,i=!0):c===o&&(t[l+1]=o-1,i=!0)}for(i=!0,l=t.length-2;l>=0&&i;l-=2){if(u=Math.floor(t[l]),c=Math.floor(t[l+1]),u<-1||u>n||c<-1||c>o)throw new U;i=!1,u===-1?(t[l]=0,i=!0):u===n&&(t[l]=n-1,i=!0),c===-1?(t[l+1]=0,i=!0):c===o&&(t[l+1]=o-1,i=!0)}},r})(),a0=(function(){function r(e,t,n,o,i,l,u,c,d){this.a11=e,this.a21=t,this.a31=n,this.a12=o,this.a22=i,this.a32=l,this.a13=u,this.a23=c,this.a33=d}return r.quadrilateralToQuadrilateral=function(e,t,n,o,i,l,u,c,d,h,g,y,w,_,E,S){var T=r.quadrilateralToSquare(e,t,n,o,i,l,u,c);return r.squareToQuadrilateral(d,h,g,y,w,_,E,S).times(T)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,o=this.a12,i=this.a13,l=this.a21,u=this.a22,c=this.a23,d=this.a31,h=this.a32,g=this.a33,y=0;y<t;y+=2){var w=e[y],_=e[y+1],E=i*w+c*_+g;e[y]=(n*w+l*_+d)/E,e[y+1]=(o*w+u*_+h)/E}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,o=this.a12,i=this.a13,l=this.a21,u=this.a22,c=this.a23,d=this.a31,h=this.a32,g=this.a33,y=e.length,w=0;w<y;w++){var _=e[w],E=t[w],S=i*_+c*E+g;e[w]=(n*_+l*E+d)/S,t[w]=(o*_+u*E+h)/S}},r.squareToQuadrilateral=function(e,t,n,o,i,l,u,c){var d=e-n+i-u,h=t-o+l-c;if(d===0&&h===0)return new r(n-e,i-n,e,o-t,l-o,t,0,0,1);var g=n-i,y=u-i,w=o-l,_=c-l,E=g*_-y*w,S=(d*_-y*h)/E,T=(g*h-d*w)/E;return new r(n-e+S*n,u-e+T*u,e,o-t+S*o,c-t+T*c,t,S,T,1)},r.quadrilateralToSquare=function(e,t,n,o,i,l,u,c){return r.squareToQuadrilateral(e,t,n,o,i,l,u,c).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),Zm=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Jm=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Zm(e,r),e.prototype.sampleGrid=function(t,n,o,i,l,u,c,d,h,g,y,w,_,E,S,T,N,b,R){var B=a0.quadrilateralToQuadrilateral(i,l,u,c,d,h,g,y,w,_,E,S,T,N,b,R);return this.sampleGridWithTransform(t,n,o,B)},e.prototype.sampleGridWithTransform=function(t,n,o,i){if(n<=0||o<=0)throw new U;for(var l=new Dr(n,o),u=new Float32Array(2*n),c=0;c<o;c++){for(var d=u.length,h=c+.5,g=0;g<d;g+=2)u[g]=g/2+.5,u[g+1]=h;i.transformPoints(u),$h.checkAndNudgePoints(t,u);try{for(g=0;g<d;g+=2)t.get(Math.floor(u[g]),Math.floor(u[g+1]))&&l.set(g/2,c)}catch{throw new U}}return l},e})($h),ic=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new Jm,r})(),zt=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new re(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),ev=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var o=n[0];n[0]=n[2],n[2]=o}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),l=this.getMatrixCornerPoints(n);return new Qm(i,l,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new U;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var o=0,i=0;i<4;i++){var l=n[(this.shift+i)%4];this.compact?(o<<=7,o+=l>>1&127):(o<<=10,o+=(l>>2&992)+(l>>1&31))}var u=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=1+(u>>6),this.nbDataBlocks=1+(63&u)):(this.nbLayers=1+(u>>11),this.nbDataBlocks=1+(2047&u))},r.prototype.getRotation=function(e,t){var n=0;e.forEach((function(i,l,u){n=(n<<3)+((i>>t-2<<1)+(1&i))})),n=((1&n)<<11)+(n>>1);for(var o=0;o<4;o++)if(ot.bitCount(n^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new U},r.prototype.getCorrectedParameterData=function(e,t){var n,o;t?(n=7,o=2):(n=10,o=4);for(var i=n-o,l=new Int32Array(n),u=n-1;u>=0;--u)l[u]=15&e,e>>=4;try{new ca(an.AZTEC_PARAM).decode(l,i)}catch{throw new U}var c=0;for(u=0;u<o;u++)c=(c<<4)+l[u];return c},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,o=e,i=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,l,1,-1),c=this.getFirstDifferent(n,l,1,1),d=this.getFirstDifferent(o,l,-1,1),h=this.getFirstDifferent(i,l,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(h,u)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(u,c,d,h))break}t=u,n=c,o=d,i=h,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;var y=new re(t.getX()+.5,t.getY()-.5),w=new re(n.getX()+.5,n.getY()+.5),_=new re(o.getX()-.5,o.getY()+.5),E=new re(i.getX()-.5,i.getY()-.5);return this.expandSquare([y,w,_,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,o;try{e=(d=new Uu(this.image).detect())[0],t=d[1],n=d[2],o=d[3]}catch{var i=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new zt(i+7,l-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new zt(i+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new zt(i-7,l+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new zt(i-7,l-7),!1,-1,-1).toResultPoint()}var u=be.round((e.getX()+o.getX()+t.getX()+n.getX())/4),c=be.round((e.getY()+o.getY()+t.getY()+n.getY())/4);try{var d;e=(d=new Uu(this.image,15,u,c).detect())[0],t=d[1],n=d[2],o=d[3]}catch{e=this.getFirstDifferent(new zt(u+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new zt(u+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new zt(u-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new zt(u-7,c-7),!1,-1,-1).toResultPoint()}return u=be.round((e.getX()+o.getX()+t.getX()+n.getX())/4),c=be.round((e.getY()+o.getY()+t.getY()+n.getY())/4),new zt(u,c)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,o,i){var l=ic.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,c,c,d,c,d,d,c,d,t.getX(),t.getY(),n.getX(),n.getY(),o.getX(),o.getY(),i.getX(),i.getY())},r.prototype.sampleLine=function(e,t,n){for(var o=0,i=this.distanceResultPoint(e,t),l=i/n,u=e.getX(),c=e.getY(),d=l*(t.getX()-e.getX())/i,h=l*(t.getY()-e.getY())/i,g=0;g<n;g++)this.image.get(be.round(u+g*d),be.round(c+g*h))&&(o|=1<<n-g-1);return o},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,o){e=new zt(e.getX()-3,e.getY()+3),t=new zt(t.getX()-3,t.getY()-3),n=new zt(n.getX()+3,n.getY()-3),o=new zt(o.getX()+3,o.getY()+3);var i=this.getColor(o,e);if(i===0)return!1;var l=this.getColor(e,t);return l===i&&(l=this.getColor(t,n))===i&&(l=this.getColor(n,o))===i},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),o=(t.getX()-e.getX())/n,i=(t.getY()-e.getY())/n,l=0,u=e.getX(),c=e.getY(),d=this.image.get(e.getX(),e.getY()),h=Math.ceil(n),g=0;g<h;g++)u+=o,c+=i,this.image.get(be.round(u),be.round(c))!==d&&l++;var y=l/n;return y>.1&&y<.9?0:y<=.1===d?1:-1},r.prototype.getFirstDifferent=function(e,t,n,o){for(var i=e.getX()+n,l=e.getY()+o;this.isValid(i,l)&&this.image.get(i,l)===t;)i+=n,l+=o;for(i-=n,l-=o;this.isValid(i,l)&&this.image.get(i,l)===t;)i+=n;for(i-=n;this.isValid(i,l)&&this.image.get(i,l)===t;)l+=o;return new zt(i,l-=o)},r.prototype.expandSquare=function(e,t,n){var o=n/(2*t),i=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,d=new re(u+o*i,c+o*l),h=new re(u-o*i,c-o*l);return i=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2,[d,new re(u+o*i,c+o*l),h,new re(u-o*i,c-o*l)]},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=be.round(e.getX()),n=be.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return be.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return be.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ot.truncDivision(this.nbLayers-4,8)+1)+15},r})(),zu=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,o=new ev(e.getBlackMatrix()),i=null,l=null;try{i=(u=o.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(t,i),l=new Wh().decode(u)}catch(g){n=g}if(l==null)try{var u;i=(u=o.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(t,i),l=new Wh().decode(u)}catch(g){throw n??g}var c=new Ot(l.getText(),l.getRawBytes(),l.getNumBits(),i,oe.AZTEC,qe.currentTimeMillis()),d=l.getByteSegments();d!=null&&c.putMetadata(St.BYTE_SEGMENTS,d);var h=l.getECLevel();return h!=null&&c.putMetadata(St.ERROR_CORRECTION_LEVEL,h),c},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(Ze.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((function(o,i,l){n.foundPossibleResultPoint(o)}))}},r.prototype.reset=function(){},r})(),tv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t){return t===void 0&&(t=500),r.call(this,new zu,t)||this}tv(e,r)})(bo);var dt=(function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(Ze.TRY_HARDER)===!0&&e.isRotateSupported()){var n=e.rotateCounterClockwise(),o=this.doDecode(n,t),i=o.getResultMetadata(),l=270;i!==null&&i.get(St.ORIENTATION)===!0&&(l+=i.get(St.ORIENTATION)%360),o.putMetadata(St.ORIENTATION,l);var u=o.getResultPoints();if(u!==null)for(var c=n.getHeight(),d=0;d<u.length;d++)u[d]=new re(c-u[d].getY()-1,u[d].getX());return o}throw new U}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n,o=e.getWidth(),i=e.getHeight(),l=new Er(o),u=t&&t.get(Ze.TRY_HARDER)===!0,c=Math.max(1,i>>(u?8:5));n=u?i:15;for(var d=Math.trunc(i/2),h=0;h<n;h++){var g=Math.trunc((h+1)/2),y=d+c*((1&h)==0?g:-g);if(y<0||y>=i)break;try{l=e.getBlackRow(y,l)}catch{continue}for(var w=function(T){if(T===1&&(l.reverse(),t&&t.get(Ze.NEED_RESULT_POINT_CALLBACK)===!0)){var N=new Map;t.forEach((function(B,F){return N.set(F,B)})),N.delete(Ze.NEED_RESULT_POINT_CALLBACK),t=N}try{var b=_.decodeRow(y,l,t);if(T===1){b.putMetadata(St.ORIENTATION,180);var R=b.getResultPoints();R!==null&&(R[0]=new re(o-R[0].getX()-1,R[0].getY()),R[1]=new re(o-R[1].getX()-1,R[1].getY()))}return{value:b}}catch{}},_=this,E=0;E<2;E++){var S=w(E);if(typeof S=="object")return S.value}}throw new U},r.recordPattern=function(e,t,n){for(var o=n.length,i=0;i<o;i++)n[i]=0;var l=e.getSize();if(t>=l)throw new U;for(var u=!e.get(t),c=0,d=t;d<l;){if(e.get(d)!==u)n[c]++;else{if(++c===o)break;n[c]=1,u=!u}d++}if(c!==o&&(c!==o-1||d!==l))throw new U},r.recordPatternInReverse=function(e,t,n){for(var o=n.length,i=e.get(t);t>0&&o>=0;)e.get(--t)!==i&&(o--,i=!i);if(o>=0)throw new U;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var o=e.length,i=0,l=0,u=0;u<o;u++)i+=e[u],l+=t[u];if(i<l)return Number.POSITIVE_INFINITY;var c=i/l;n*=c;for(var d=0,h=0;h<o;h++){var g=e[h],y=t[h]*c,w=g>y?g-y:y-g;if(w>n)return Number.POSITIVE_INFINITY;d+=w}return d/i},r})(),rv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Gh=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return rv(e,r),e.findStartPattern=function(t){for(var n=t.getSize(),o=t.getNextSet(0),i=0,l=Int32Array.from([0,0,0,0,0,0]),u=o,c=!1,d=o;d<n;d++)if(t.get(d)!==c)l[i]++;else{if(i===5){for(var h=e.MAX_AVG_VARIANCE,g=-1,y=e.CODE_START_A;y<=e.CODE_START_C;y++){var w=dt.patternMatchVariance(l,e.CODE_PATTERNS[y],e.MAX_INDIVIDUAL_VARIANCE);w<h&&(h=w,g=y)}if(g>=0&&t.isRange(Math.max(0,u-(d-u)/2),u,!1))return Int32Array.from([u,d,g]);u+=l[0]+l[1],(l=l.slice(2,l.length-1))[i-1]=0,l[i]=0,i--}else i++;l[i]=1,c=!c}throw new U},e.decodeCode=function(t,n,o){dt.recordPattern(t,o,n);for(var i=e.MAX_AVG_VARIANCE,l=-1,u=0;u<e.CODE_PATTERNS.length;u++){var c=e.CODE_PATTERNS[u],d=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);d<i&&(i=d,l=u)}if(l>=0)return l;throw new U},e.prototype.decodeRow=function(t,n,o){var i,l=o&&o.get(Ze.ASSUME_GS1)===!0,u=e.findStartPattern(n),c=u[2],d=0,h=new Uint8Array(20);switch(h[d++]=c,c){case e.CODE_START_A:i=e.CODE_CODE_A;break;case e.CODE_START_B:i=e.CODE_CODE_B;break;case e.CODE_START_C:i=e.CODE_CODE_C;break;default:throw new Y}for(var g=!1,y=!1,w="",_=u[0],E=u[1],S=Int32Array.from([0,0,0,0,0,0]),T=0,N=0,b=c,R=0,B=!0,F=!1,z=!1;!g;){var $=y;switch(y=!1,T=N,N=e.decodeCode(n,S,E),h[d++]=N,N!==e.CODE_STOP&&(B=!0),N!==e.CODE_STOP&&(b+=++R*N),_=E,E+=S.reduce((function(Re,K){return Re+K}),0),N){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Y}switch(i){case e.CODE_CODE_A:if(N<64)w+=z===F?String.fromCharCode(32+N):String.fromCharCode(32+N+128),z=!1;else if(N<96)w+=z===F?String.fromCharCode(N-64):String.fromCharCode(N+64),z=!1;else switch(N!==e.CODE_STOP&&(B=!1),N){case e.CODE_FNC_1:l&&(w.length===0?w+="]C1":w+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!F&&z?(F=!0,z=!1):F&&z?(F=!1,z=!1):z=!0;break;case e.CODE_SHIFT:y=!0,i=e.CODE_CODE_B;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0}break;case e.CODE_CODE_B:if(N<96)w+=z===F?String.fromCharCode(32+N):String.fromCharCode(32+N+128),z=!1;else switch(N!==e.CODE_STOP&&(B=!1),N){case e.CODE_FNC_1:l&&(w.length===0?w+="]C1":w+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!F&&z?(F=!0,z=!1):F&&z?(F=!1,z=!1):z=!0;break;case e.CODE_SHIFT:y=!0,i=e.CODE_CODE_A;break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0}break;case e.CODE_CODE_C:if(N<100)N<10&&(w+="0"),w+=N;else switch(N!==e.CODE_STOP&&(B=!1),N){case e.CODE_FNC_1:l&&(w.length===0?w+="]C1":w+="");break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0}}$&&(i=i===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var ue=E-_;if(E=n.getNextUnset(E),!n.isRange(E,Math.min(n.getSize(),E+(E-_)/2),!1))throw new U;if((b-=R*T)%103!==T)throw new vt;var de=w.length;if(de===0)throw new U;de>0&&B&&(w=i===e.CODE_CODE_C?w.substring(0,de-2):w.substring(0,de-1));for(var le=(u[1]+u[0])/2,Te=_+ue/2,ke=h.length,Pe=new Uint8Array(ke),De=0;De<ke;De++)Pe[De]=h[De];var tt=[new re(le,t),new re(Te,t)];return new Ot(w,Pe,0,tt,oe.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(dt),nv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),mu=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xh=(function(r){function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=r.call(this)||this;return o.usingCheckDigit=t,o.extendedMode=n,o.decodeRowResult="",o.counters=new Int32Array(9),o}return nv(e,r),e.prototype.decodeRow=function(t,n,o){var i,l,u,c,d=this.counters;d.fill(0),this.decodeRowResult="";var h,g,y=e.findAsteriskPattern(n,d),w=n.getNextSet(y[1]),_=n.getSize();do{e.recordPattern(n,w,d);var E=e.toNarrowWidePattern(d);if(E<0)throw new U;h=e.patternToChar(E),this.decodeRowResult+=h,g=w;try{for(var S=(i=void 0,mu(d)),T=S.next();!T.done;T=S.next())w+=T.value}catch(le){i={error:le}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(i)throw i.error}}w=n.getNextSet(w)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N,b=0;try{for(var R=mu(d),B=R.next();!B.done;B=R.next())b+=B.value}catch(le){u={error:le}}finally{try{B&&!B.done&&(c=R.return)&&c.call(R)}finally{if(u)throw u.error}}if(w!==_&&2*(w-g-b)<b)throw new U;if(this.usingCheckDigit){for(var F=this.decodeRowResult.length-1,z=0,$=0;$<F;$++)z+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(F)!==e.ALPHABET_STRING.charAt(z%43))throw new vt;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new U;N=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var ue=(y[1]+y[0])/2,de=g+b/2;return new Ot(N,null,0,[new re(ue,t),new re(de,t)],oe.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var o=t.getSize(),i=t.getNextSet(0),l=0,u=i,c=!1,d=n.length,h=i;h<o;h++)if(t.get(h)!==c)n[l]++;else{if(l===d-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((h-u)/2)),u,!1))return[u,h];u+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,c=!c}throw new U},e.toNarrowWidePattern=function(t){var n,o,i,l=t.length,u=0;do{var c=2147483647;try{for(var d=(n=void 0,mu(t)),h=d.next();!h.done;h=d.next())(_=h.value)<c&&_>u&&(c=_)}catch(E){n={error:E}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}u=c,i=0;for(var g=0,y=0,w=0;w<l;w++)(_=t[w])>u&&(y|=1<<l-1-w,i++,g+=_);if(i===3){for(w=0;w<l&&i>0;w++){var _;if((_=t[w])>u&&(i--,2*_>=g))return-1}return y}}while(i>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new U},e.decodeExtended=function(t){for(var n=t.length,o="",i=0;i<n;i++){var l=t.charAt(i);if(l==="+"||l==="$"||l==="%"||l==="/"){var u=t.charAt(i+1),c="\0";switch(l){case"+":if(!(u>="A"&&u<="Z"))throw new Y;c=String.fromCharCode(u.charCodeAt(0)+32);break;case"$":if(!(u>="A"&&u<="Z"))throw new Y;c=String.fromCharCode(u.charCodeAt(0)-64);break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else{if(u!=="X"&&u!=="Y"&&u!=="Z")throw new Y;c=""}break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else{if(u!=="Z")throw new Y;c=":"}}o+=c,i++}else o+=l}return o},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(dt),ov=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),vu=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qh=(function(r){function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return ov(e,r),e.prototype.decodeRow=function(t,n,o){var i,l,u,c,d,h,g=this.findAsteriskPattern(n),y=n.getNextSet(g[1]),w=n.getSize(),_=this.counters;_.fill(0),this.decodeRowResult="";do{e.recordPattern(n,y,_);var E=this.toPattern(_);if(E<0)throw new U;d=this.patternToChar(E),this.decodeRowResult+=d,h=y;try{for(var S=(i=void 0,vu(_)),T=S.next();!T.done;T=S.next())y+=T.value}catch($){i={error:$}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(i)throw i.error}}y=n.getNextSet(y)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var b=vu(_),R=b.next();!R.done;R=b.next())N+=R.value}catch($){u={error:$}}finally{try{R&&!R.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}if(y===w||!n.get(y))throw new U;if(this.decodeRowResult.length<2)throw new U;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var B=this.decodeExtended(this.decodeRowResult),F=(g[1]+g[0])/2,z=h+N/2;return new Ot(B,null,0,[new re(F,t),new re(z,t)],oe.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),o=t.getNextSet(0);this.counters.fill(0);for(var i=this.counters,l=o,u=!1,c=i.length,d=0,h=o;h<n;h++)if(t.get(h)!==u)i[d]++;else{if(d===c-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([l,h]);l+=i[0]+i[1],i.copyWithin(0,2,2+d-1),i[d-1]=0,i[d]=0,d--}else d++;i[d]=1,u=!u}throw new U},e.prototype.toPattern=function(t){var n,o,i=0;try{for(var l=vu(t),u=l.next();!u.done;u=l.next())i+=u.value}catch(w){n={error:w}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}for(var c=0,d=t.length,h=0;h<d;h++){var g=Math.round(9*t[h]/i);if(g<1||g>4)return-1;if((1&h)==0)for(var y=0;y<g;y++)c=c<<1|1;else c<<=g}return c},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new U},e.prototype.decodeExtended=function(t){for(var n=t.length,o="",i=0;i<n;i++){var l=t.charAt(i);if(l>="a"&&l<="d"){if(i>=n-1)throw new Y;var u=t.charAt(i+1),c="\0";switch(l){case"d":if(!(u>="A"&&u<="Z"))throw new Y;c=String.fromCharCode(u.charCodeAt(0)+32);break;case"a":if(!(u>="A"&&u<="Z"))throw new Y;c=String.fromCharCode(u.charCodeAt(0)-64);break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else{if(!(u>="X"&&u<="Z"))throw new Y;c=""}break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else{if(u!=="Z")throw new Y;c=":"}}o+=c,i++}else o+=l}return o},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,o){for(var i=1,l=0,u=n-1;u>=0;u--)l+=i*e.ALPHABET_STRING.indexOf(t.charAt(u)),++i>o&&(i=1);if(t.charAt(n)!==e.ALPHABET_STRING[l%47])throw new vt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(dt),iv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),sv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yh=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return iv(e,r),e.prototype.decodeRow=function(t,n,o){var i,l,u=this.decodeStart(n),c=this.decodeEnd(n),d=new me;e.decodeMiddle(n,u[1],c[0],d);var h=d.toString(),g=null;o!=null&&(g=o.get(Ze.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var y=h.length,w=!1,_=0;try{for(var E=sv(g),S=E.next();!S.done;S=E.next()){var T=S.value;if(y===T){w=!0;break}T>_&&(_=T)}}catch(b){i={error:b}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(i)throw i.error}}if(!w&&y>_&&(w=!0),!w)throw new Y;var N=[new re(u[1],t),new re(c[0],t)];return new Ot(h,null,0,N,oe.ITF,new Date().getTime())},e.decodeMiddle=function(t,n,o,i){var l=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(l.fill(0),u.fill(0),c.fill(0);n<o;){dt.recordPattern(t,n,l);for(var d=0;d<5;d++){var h=2*d;u[d]=l[h],c[d]=l[h+1]}var g=e.decodeDigit(u);i.append(g.toString()),g=this.decodeDigit(c),i.append(g.toString()),l.forEach((function(y){n+=y}))}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),o=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o},e.prototype.validateQuietZone=function(t,n){var o=10*this.narrowLineWidth;o=o<n?o:n;for(var i=n-1;o>0&&i>=0&&!t.get(i);i--)o--;if(o!==0)throw new U},e.skipWhiteSpace=function(t){var n=t.getSize(),o=t.getNextSet(0);if(o===n)throw new U;return o},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),o=void 0;try{o=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(l){l instanceof U&&(o=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);var i=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-i,o}finally{t.reverse()}},e.findGuardPattern=function(t,n,o){var i=o.length,l=new Int32Array(i),u=t.getSize(),c=!1,d=0,h=n;l.fill(0);for(var g=n;g<u;g++)if(t.get(g)!==c)l[d]++;else{if(d===i-1){if(dt.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,g];h+=l[0]+l[1],qe.arraycopy(l,2,l,0,d-1),l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,c=!c}throw new U},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,o=-1,i=e.PATTERNS.length,l=0;l<i;l++){var u=e.PATTERNS[l],c=dt.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,o=l):c===n&&(o=-1)}if(o>=0)return o%10;throw new U},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(dt),av=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ao=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return av(e,r),e.findStartGuardPattern=function(t){for(var n,o=!1,i=0,l=Int32Array.from([0,0,0]);!o;){l=Int32Array.from([0,0,0]);var u=(n=e.findGuardPattern(t,i,!1,this.START_END_PATTERN,l))[0],c=u-((i=n[1])-u);c>=0&&(o=t.isRange(c,u,!1))}return n},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var o=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===o},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,o=0,i=n-1;i>=0;i-=2){if((l=t.charAt(i).charCodeAt(0)-48)<0||l>9)throw new Y;o+=l}for(o*=3,i=n-2;i>=0;i-=2){var l;if((l=t.charAt(i).charCodeAt(0)-48)<0||l>9)throw new Y;o+=l}return(1e3-o)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,o,i){return this.findGuardPattern(t,n,o,i,new Int32Array(i.length))},e.findGuardPattern=function(t,n,o,i,l){for(var u=t.getSize(),c=0,d=n=o?t.getNextUnset(n):t.getNextSet(n),h=i.length,g=o,y=n;y<u;y++)if(t.get(y)!==g)l[c]++;else{if(c===h-1){if(dt.patternMatchVariance(l,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([d,y]);d+=l[0]+l[1];for(var w=l.slice(2,l.length),_=0;_<c-1;_++)l[_]=w[_];l[c-1]=0,l[c]=0,c--}else c++;l[c]=1,g=!g}throw new U},e.decodeDigit=function(t,n,o,i){this.recordPattern(t,o,n);for(var l=this.MAX_AVG_VARIANCE,u=-1,c=i.length,d=0;d<c;d++){var h=i[d],g=dt.patternMatchVariance(n,h,e.MAX_INDIVIDUAL_VARIANCE);g<l&&(l=g,u=d)}if(u>=0)return u;throw new U},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(dt),lv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uv=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,o),l=o.toString(),u=r.parseExtensionString(l),c=[new re((n[0]+n[1])/2,e),new re(i,e)],d=new Ot(l,null,0,c,oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d},r.prototype.decodeMiddle=function(e,t,n){var o,i,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),c=t[1],d=0,h=0;h<5&&c<u;h++){var g=Ao.decodeDigit(e,l,c,Ao.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);try{for(var y=(o=void 0,lv(l)),w=y.next();!w.done;w=y.next())c+=w.value}catch(E){o={error:E}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}g>=10&&(d|=1<<4-h),h!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new U;var _=this.determineCheckDigit(d);if(r.extensionChecksum(n.toString())!==_)throw new U;return c},r.extensionChecksum=function(e){for(var t=e.length,n=0,o=t-2;o>=0;o-=2)n+=e.charAt(o).charCodeAt(0)-48;for(n*=3,o=t-1;o>=0;o-=2)n+=e.charAt(o).charCodeAt(0)-48;return(n*=3)%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new U},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[St.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var n=parseInt(e.substring(1)),o=n%100;return t+(n/100).toString()+"."+(o<10?"0"+o:o.toString())},r})(),cv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fv=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,o),l=o.toString(),u=r.parseExtensionString(l),c=[new re((n[0]+n[1])/2,e),new re(i,e)],d=new Ot(l,null,0,c,oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d},r.prototype.decodeMiddle=function(e,t,n){var o,i,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=e.getSize(),c=t[1],d=0,h=0;h<2&&c<u;h++){var g=Ao.decodeDigit(e,l,c,Ao.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);try{for(var y=(o=void 0,cv(l)),w=y.next();!w.done;w=y.next())c+=w.value}catch(_){o={error:_}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}g>=10&&(d|=1<<1-h),h!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new U;if(parseInt(n.toString())%4!==d)throw new U;return c},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[St.ISSUE_NUMBER,parseInt(e)]])},r})(),dv=(function(){function r(){}return r.decodeRow=function(e,t,n){var o=Ao.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new uv().decodeRow(e,t,o)}catch{return new fv().decodeRow(e,t,o)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),hv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ft=(function(r){function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map((function(u){return Int32Array.from(u)}));for(var n=10;n<20;n++){for(var o=e.L_PATTERNS[n-10],i=new Int32Array(o.length),l=0;l<o.length;l++)i[l]=o[o.length-l-1];e.L_AND_G_PATTERNS[n]=i}return t}return hv(e,r),e.prototype.decodeRow=function(t,n,o){var i=e.findStartGuardPattern(n),l=o==null?null:o.get(Ze.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=new re((i[0]+i[1])/2,t);l.foundPossibleResultPoint(u)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(l!=null){var g=new re(d,t);l.foundPossibleResultPoint(g)}var y=e.decodeEnd(n,d);if(l!=null){var w=new re((y[0]+y[1])/2,t);l.foundPossibleResultPoint(w)}var _=y[1],E=_+(_-y[0]);if(E>=n.getSize()||!n.isRange(_,E,!1))throw new U;var S=h.toString();if(S.length<8)throw new Y;if(!e.checkChecksum(S))throw new vt;var T=(i[1]+i[0])/2,N=(y[1]+y[0])/2,b=this.getBarcodeFormat(),R=[new re(T,t),new re(N,t)],B=new Ot(S,null,0,R,b,new Date().getTime()),F=0;try{var z=dv.decodeRow(t,n,y[1]);B.putMetadata(St.UPC_EAN_EXTENSION,z.getText()),B.putAllMetadata(z.getResultMetadata()),B.addResultPoints(z.getResultPoints()),F=z.getText().length}catch{}var $=o==null?null:o.get(Ze.ALLOWED_EAN_EXTENSIONS);if($!=null){var ue=!1;for(var de in $)if(F.toString()===de){ue=!0;break}if(!ue)throw new U}return b===oe.EAN_13||oe.UPC_A,B},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var o=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===o},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,o=0,i=n-1;i>=0;i-=2){if((l=t.charAt(i).charCodeAt(0)-48)<0||l>9)throw new Y;o+=l}for(o*=3,i=n-2;i>=0;i-=2){var l;if((l=t.charAt(i).charCodeAt(0)-48)<0||l>9)throw new Y;o+=l}return(1e3-o)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Ao),pv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Kh=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hu=(function(r){function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return pv(e,r),e.prototype.decodeMiddle=function(t,n,o){var i,l,u,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var h=t.getSize(),g=n[1],y=0,w=0;w<6&&g<h;w++){var _=ft.decodeDigit(t,d,g,ft.L_AND_G_PATTERNS);o+=String.fromCharCode(48+_%10);try{for(var E=(i=void 0,Kh(d)),S=E.next();!S.done;S=E.next())g+=S.value}catch(b){i={error:b}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(i)throw i.error}}_>=10&&(y|=1<<5-w)}for(o=e.determineFirstDigit(o,y),g=ft.findGuardPattern(t,g,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1],w=0;w<6&&g<h;w++){_=ft.decodeDigit(t,d,g,ft.L_PATTERNS),o+=String.fromCharCode(48+_);try{for(var T=(u=void 0,Kh(d)),N=T.next();!N.done;N=T.next())g+=N.value}catch(b){u={error:b}}finally{try{N&&!N.done&&(c=T.return)&&c.call(T)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:o}},e.prototype.getBarcodeFormat=function(){return oe.EAN_13},e.determineFirstDigit=function(t,n){for(var o=0;o<10;o++)if(n===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t;throw new U},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(ft),gv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Qh=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zh=(function(r){function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return gv(e,r),e.prototype.decodeMiddle=function(t,n,o){var i,l,u,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var h=t.getSize(),g=n[1],y=0;y<4&&g<h;y++){var w=ft.decodeDigit(t,d,g,ft.L_PATTERNS);o+=String.fromCharCode(48+w);try{for(var _=(i=void 0,Qh(d)),E=_.next();!E.done;E=_.next())g+=E.value}catch(N){i={error:N}}finally{try{E&&!E.done&&(l=_.return)&&l.call(_)}finally{if(i)throw i.error}}}for(g=ft.findGuardPattern(t,g,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1],y=0;y<4&&g<h;y++){w=ft.decodeDigit(t,d,g,ft.L_PATTERNS),o+=String.fromCharCode(48+w);try{for(var S=(u=void 0,Qh(d)),T=S.next();!T.done;T=S.next())g+=T.value}catch(N){u={error:N}}finally{try{T&&!T.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:o}},e.prototype.getBarcodeFormat=function(){return oe.EAN_8},e})(ft),yv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Jh=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Hu,t}return yv(e,r),e.prototype.getBarcodeFormat=function(){return oe.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,o))},e.prototype.decodeMiddle=function(t,n,o){return this.ean13Reader.decodeMiddle(t,n,o)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var o=new Ot(n.substring(1),null,null,t.getResultPoints(),oe.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}throw new U},e.prototype.reset=function(){this.ean13Reader.reset()},e})(ft),mv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),vv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e1=(function(r){function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return mv(e,r),e.prototype.decodeMiddle=function(t,n,o){var i,l,u=this.decodeMiddleCounters.map((function(E){return E}));u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),d=n[1],h=0,g=0;g<6&&d<c;g++){var y=e.decodeDigit(t,u,d,e.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);try{for(var w=(i=void 0,vv(u)),_=w.next();!_.done;_=w.next())d+=_.value}catch(E){i={error:E}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(i)throw i.error}}y>=10&&(h|=1<<5-g)}return e.determineNumSysAndCheckDigit(new me(o),h),d},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return ft.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var o=0;o<=1;o++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][i])return t.insert(0,"0"+o),void t.append("0"+i);throw U.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return oe.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map((function(l){return l.charCodeAt(0)})),o=new me;o.append(t.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:o.appendChars(n,0,2),o.append(i),o.append("0000"),o.appendChars(n,2,3);break;case 3:o.appendChars(n,0,3),o.append("00000"),o.appendChars(n,3,2);break;case 4:o.appendChars(n,0,4),o.append("00000"),o.append(n[4]);break;default:o.appendChars(n,0,5),o.append("0000"),o.append(i)}return t.length>=8&&o.append(t.charAt(7)),o.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(ft),wv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),t1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wu=(function(r){function e(t){var n=r.call(this)||this,o=t==null?null:t.get(Ze.POSSIBLE_FORMATS),i=[];return o!=null&&(o.indexOf(oe.EAN_13)>-1&&i.push(new Hu),o.indexOf(oe.UPC_A)>-1&&i.push(new Jh),o.indexOf(oe.EAN_8)>-1&&i.push(new Zh),o.indexOf(oe.UPC_E)>-1&&i.push(new e1)),i.length===0&&(i.push(new Hu),i.push(new Jh),i.push(new Zh),i.push(new e1)),n.readers=i,n}return wv(e,r),e.prototype.decodeRow=function(t,n,o){var i,l;try{for(var u=t1(this.readers),c=u.next();!c.done;c=u.next()){var d=c.value;try{var h=d.decodeRow(t,n,o),g=h.getBarcodeFormat()===oe.EAN_13&&h.getText().charAt(0)==="0",y=o==null?null:o.get(Ze.POSSIBLE_FORMATS),w=y==null||y.includes(oe.UPC_A);if(g&&w){var _=h.getRawBytes(),E=new Ot(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),oe.UPC_A);return E.putAllMetadata(h.getResultMetadata()),E}return h}catch{}}}catch(S){i={error:S}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(i)throw i.error}}throw new U},e.prototype.reset=function(){var t,n;try{for(var o=t1(this.readers),i=o.next();!i.done;i=o.next())i.value.reset()}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e})(dt),_v=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Cv=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return _v(e,r),e.prototype.decodeRow=function(t,n,o){var i=this.getValidRowData(n);if(!i)throw new U;var l=this.codaBarDecodeRow(i.row);if(!l)throw new U;return new Ot(l,null,0,[new re(i.left,t),new re(i.right,t)],oe.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),o=n.indexOf(!0);if(o===-1)return null;var i=n.lastIndexOf(!0);if(i<=o)return null;for(var l=[],u=(n=n.slice(o,i+1))[0],c=1,d=1;d<n.length;d++)n[d]===u?c++:(u=n[d],l.push(c),c=1);return l.push(c),l.length<23&&(l.length+1)%8!=0?null:{row:l,left:o,right:i}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],o=Math.ceil(t.reduce((function(u,c){return(u+c)/2}),0));t.length>0;){var i=t.splice(0,8).splice(0,7).map((function(u){return u<o?"n":"w"})).join("");if(this.CODA_BAR_CHAR_SET[i]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[i])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(t){return/^[A-D].{1,}[A-D]$/.test(t)},e})(dt),Ev=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Sv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},On=(function(r){function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return Ev(e,r),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var o=0;o<n.length;o++)if(dt.patternMatchVariance(t,n[o],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return o;throw new U},e.count=function(t){return be.sum(new Int32Array(t))},e.increment=function(t,n){for(var o=0,i=n[0],l=1;l<t.length;l++)n[l]>i&&(i=n[l],o=l);t[o]++},e.decrement=function(t,n){for(var o=0,i=n[0],l=1;l<t.length;l++)n[l]<i&&(i=n[l],o=l);t[o]--},e.isFinderPattern=function(t){var n,o,i=t[0]+t[1],l=i/(i+t[2]+t[3]);if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var d=Sv(t),h=d.next();!h.done;h=d.next()){var g=h.value;g>c&&(c=g),g<u&&(u=g)}}catch(y){n={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return c<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(dt),sa=(function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),l0=(function(){function r(e,t,n,o,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new re(n,i)),this.resultPoints.push(new re(o,i))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r})(),Av=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_o=(function(){function r(){}return r.getRSSvalue=function(e,t,n){var o,i,l=0;try{for(var u=Av(e),c=u.next();!c.done;c=u.next())l+=c.value}catch(T){o={error:T}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}for(var d=0,h=0,g=e.length,y=0;y<g-1;y++){var w=void 0;for(w=1,h|=1<<y;w<e[y];w++,h&=~(1<<y)){var _=r.combins(l-w-1,g-y-2);if(n&&h===0&&l-w-(g-y-1)>=g-y-1&&(_-=r.combins(l-w-(g-y),g-y-2)),g-y-1>1){for(var E=0,S=l-w-(g-y-2);S>t;S--)E+=r.combins(l-w-S-1,g-y-3);_-=E*(g-1-y)}else l-w>t&&_--;d+=_}l-=w}return d},r.combins=function(e,t){var n,o;e-t>t?(o=t,n=e-t):(o=e-t,n=t);for(var i=1,l=1,u=e;u>n;u--)i*=u,l<=o&&(i/=l,l++);for(;l<=o;)i/=l,l++;return i},r})(),Iv=(function(){function r(){}return r.buildBitArray=function(e){var t=2*e.length-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=new Er(12*t),o=0,i=e[0].getRightChar().getValue(),l=11;l>=0;--l)(i&1<<l)!=0&&n.set(o),o++;for(l=1;l<e.length;++l){for(var u=e[l],c=u.getLeftChar().getValue(),d=11;d>=0;--d)(c&1<<d)!=0&&n.set(o),o++;if(u.getRightChar()!==null){var h=u.getRightChar().getValue();for(d=11;d>=0;--d)(h&1<<d)!=0&&n.set(o),o++}}return n},r})(),An=(function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),sc=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),bv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),cr=(function(r){function e(t,n){var o=r.call(this,t)||this;return o.value=n,o}return bv(e,r),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(sc),Tv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),In=(function(r){function e(t,n,o){var i=r.call(this,t)||this;return o?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return Tv(e,r),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(sc),Ov=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ys=(function(r){function e(t,n,o){var i=r.call(this,t)||this;if(n<0||n>10||o<0||o>10)throw new Y;return i.firstDigit=n,i.secondDigit=o,i}return Ov(e,r),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(sc),Ks=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nv=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,o,i,l,u,c,d;if(!e)return null;if(e.length<2)throw new U;var h=e.substring(0,2);try{for(var g=Ks(r.TWO_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next())if((B=y.value)[0]===h)return B[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,B[2],e):r.processFixedAI(2,B[1],e)}catch(F){t={error:F}}finally{try{y&&!y.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new U;var w=e.substring(0,3);try{for(var _=Ks(r.THREE_DIGIT_DATA_LENGTH),E=_.next();!E.done;E=_.next())if((B=E.value)[0]===w)return B[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,B[2],e):r.processFixedAI(3,B[1],e)}catch(F){o={error:F}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}try{for(var S=Ks(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),T=S.next();!T.done;T=S.next())if((B=T.value)[0]===w)return B[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,B[2],e):r.processFixedAI(4,B[1],e)}catch(F){l={error:F}}finally{try{T&&!T.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}if(e.length<4)throw new U;var N=e.substring(0,4);try{for(var b=Ks(r.FOUR_DIGIT_DATA_LENGTH),R=b.next();!R.done;R=b.next()){var B;if((B=R.value)[0]===N)return B[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,B[2],e):r.processFixedAI(4,B[1],e)}}catch(F){c={error:F}}finally{try{R&&!R.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}throw new U},r.processFixedAI=function(e,t,n){if(n.length<e)throw new U;var o=n.substring(0,e);if(n.length<e+t)throw new U;var i=n.substring(e,e+t),l=n.substring(e+t),u="("+o+")"+i,c=r.parseFieldsInGeneralPurpose(l);return c==null?u:u+c},r.processVariableAI=function(e,t,n){var o,i=n.substring(0,e);o=n.length<e+t?n.length:e+t;var l=n.substring(e,o),u=n.substring(o),c="("+i+")"+l,d=r.parseFieldsInGeneralPurpose(u);return d==null?c:c+d},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),Js=(function(){function r(e){this.buffer=new me,this.information=e}return r.prototype.decodeAllCodes=function(e,t){for(var n=t,o=null;;){var i=this.decodeGeneralPurposeField(n,o),l=Nv.parseFieldsInGeneralPurpose(i.getNewString());if(l!=null&&e.append(l),o=i.isRemaining()?""+i.getRemainingValue():null,n===i.getNewPosition())break;n=i.getNewPosition()}return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return new Ys(this.information.getSize(),t===0?Ys.FNC1:t-1,Ys.FNC1)}var n=this.extractNumericValueFromBitArray(e,7);return new Ys(e+7,(n-8)/11,(n-8)%11)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var o=0,i=0;i<n;++i)e.get(t+i)&&(o|=1<<n-i-1);return o},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new In(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new In(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();if(e=this.current.isAlpha()?(t=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(t=this.parseIsoIec646Block()).isFinished():(t=this.parseNumericBlock()).isFinished(),n===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return t=e.isSecondDigitFNC1()?new In(this.current.getPosition(),this.buffer.toString()):new In(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new An(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1())return t=new In(this.current.getPosition(),this.buffer.toString()),new An(!0,t);this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new An(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new In(this.current.getPosition(),this.buffer.toString());return new An(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new An(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new In(this.current.getPosition(),this.buffer.toString());return new An(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new An(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new cr(e+5,cr.FNC1);if(t>=5&&t<15)return new cr(e+5,"0"+(t-5));var n,o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<90)return new cr(e+7,""+(o+1));if(o>=90&&o<116)return new cr(e+7,""+(o+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new Y}return new cr(e+8,n)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new cr(e+5,cr.FNC1);if(t>=5&&t<15)return new cr(e+5,"0"+(t-5));var n,o=this.extractNumericValueFromBitArray(e,6);if(o>=32&&o<58)return new cr(e+6,""+(o+33));switch(o){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new Oi("Decoding invalid alphanumeric value: "+o)}return new cr(e+6,n)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r})(),u0=(function(){function r(e){this.information=e,this.generalDecoder=new Js(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),Rv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),pr=(function(r){function e(t){return r.call(this,t)||this}return Rv(e,r),e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,o)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,o){for(var i=0;i<4;++i){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);l/100==0&&t.append("0"),l/10==0&&t.append("0"),t.append(l)}e.appendCheckDigit(t,o)},e.appendCheckDigit=function(t,n){for(var o=0,i=0;i<13;i++){var l=t.charAt(i+n).charCodeAt(0)-48;o+=(1&i)==0?3*l:l}(o=10-o%10)===10&&(o=0),t.append(o)},e.GTIN_SIZE=40,e})(u0),xv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),kv=(function(r){function e(t){return r.call(this,t)||this}return xv(e,r),e.prototype.parseInformation=function(){var t=new me;t.append("(01)");var n=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(pr),Pv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Dv=(function(r){function e(t){return r.call(this,t)||this}return Pv(e,r),e.prototype.parseInformation=function(){var t=new me;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(u0),Mv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ea=(function(r){function e(t){return r.call(this,t)||this}return Mv(e,r),e.prototype.encodeCompressedWeight=function(t,n,o){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,o);this.addWeightCode(t,i);for(var l=this.checkWeight(i),u=1e5,c=0;c<5;++c)l/u==0&&t.append("0"),u/=10;t.append(l)},e})(pr),Lv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),c0=(function(r){function e(t){return r.call(this,t)||this}return Lv(e,r),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+ea.GTIN_SIZE+e.WEIGHT_SIZE)throw new U;var t=new me;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+ea.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(ea),Bv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),jv=(function(r){function e(t){return r.call(this,t)||this}return Bv(e,r),e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e})(c0),Fv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Uv=(function(r){function e(t){return r.call(this,t)||this}return Fv(e,r),e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e})(c0),zv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Hv=(function(r){function e(t){return r.call(this,t)||this}return zv(e,r),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+pr.GTIN_SIZE)throw new U;var t=new me;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+pr.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+pr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(pr),Vv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Wv=(function(r){function e(t){return r.call(this,t)||this}return Vv(e,r),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+pr.GTIN_SIZE)throw new U;var t=new me;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+pr.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var o=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+pr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+pr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(pr),$v=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),tn=(function(r){function e(t,n,o){var i=r.call(this,t)||this;return i.dateCode=o,i.firstAIdigits=n,i}return $v(e,r),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new U;var t=new me;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(o!==38400){t.append("("),t.append(this.dateCode),t.append(")");var i=o%32,l=(o/=32)%12+1,u=o/=12;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),i/10==0&&t.append("0"),t.append(i)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(ea),r1=(function(){function r(e,t,n,o){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=o}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r&&r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern)},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},r})(),Gv=(function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed},r.prototype.checkEqualitity=function(e,t){var n;if(e&&t)return e.forEach((function(o,i){t.forEach((function(l){o.getLeftChar().getValue()===l.getLeftChar().getValue()&&o.getRightChar().getValue()===l.getRightChar().getValue()&&o.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(n=!0)}))})),n},r})(),Xv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rn=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qv=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return Xv(e,r),e.prototype.decodeRow=function(t,n,o){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var o,i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(u){if(u instanceof U){if(!this.pairs.length)throw new U;i=!0}}if(this.checkChecksum())return this.pairs;if(o=!!this.rows.length,this.storeRow(t,!1),o){var l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0))!=null)return l}throw new U},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(o){console.log(o)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var o,i,l=n;l<this.rows.length;l++){var u=this.rows[l];this.pairs.length=0;try{for(var c=(o=void 0,rn(t)),d=c.next();!d.done;d=c.next()){var h=d.value;this.pairs.push(h.getPairs())}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}if(this.pairs.push(u.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(u);try{return this.checkRows(g,l+1)}catch(y){console.log(y)}}}throw new U},e.isValidSequence=function(t){var n,o;try{for(var i=rn(e.FINDER_PATTERN_SEQUENCES),l=i.next();!l.done;l=i.next()){var u=l.value;if(!(t.length>u.length)){for(var c=!0,d=0;d<t.length;d++)if(t[d].getFinderPattern().getValue()!==u[d]){c=!1;break}if(c)return!0}}}catch(h){n={error:h}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var o=0,i=!1,l=!1;o<this.rows.length;){var u=this.rows[o];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}i=u.isEquivalent(this.pairs),o++}l||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Gv(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var o,i,l,u,c,d;try{for(var h=rn(n),g=h.next();!g.done;g=h.next()){var y=g.value;if(y.getPairs().length!==t.length)try{for(var w=(l=void 0,rn(y.getPairs())),_=w.next();!_.done;_=w.next()){var E=_.value,S=!1;try{for(var T=(c=void 0,rn(t)),N=T.next();!N.done;N=T.next()){var b=N.value;if(r1.equals(E,b)){S=!0;break}}}catch(R){c={error:R}}finally{try{N&&!N.done&&(d=T.return)&&d.call(T)}finally{if(c)throw c.error}}}}catch(R){l={error:R}}finally{try{_&&!_.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}}catch(R){o={error:R}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}},e.isPartialRow=function(t,n){var o,i,l,u,c,d;try{for(var h=rn(n),g=h.next();!g.done;g=h.next()){var y=g.value,w=!0;try{for(var _=(l=void 0,rn(t)),E=_.next();!E.done;E=_.next()){var S=E.value,T=!1;try{for(var N=(c=void 0,rn(y.getPairs())),b=N.next();!b.done;b=N.next()){var R=b.value;if(S.equals(R)){T=!0;break}}}catch(B){c={error:B}}finally{try{b&&!b.done&&(d=N.return)&&d.call(N)}finally{if(c)throw c.error}}if(!T){w=!1;break}}}catch(B){l={error:B}}finally{try{E&&!E.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(w)return!0}}catch(B){o={error:B}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=(function(u){try{if(u.get(1))return new kv(u);if(!u.get(2))return new Dv(u);switch(Js.extractNumericValueFromBitArray(u,1,4)){case 4:return new jv(u);case 5:return new Uv(u)}switch(Js.extractNumericValueFromBitArray(u,1,5)){case 12:return new Hv(u);case 13:return new Wv(u)}switch(Js.extractNumericValueFromBitArray(u,1,7)){case 56:return new tn(u,"310","11");case 57:return new tn(u,"320","11");case 58:return new tn(u,"310","13");case 59:return new tn(u,"320","13");case 60:return new tn(u,"310","15");case 61:return new tn(u,"320","15");case 62:return new tn(u,"310","17");case 63:return new tn(u,"320","17")}}catch(c){throw console.log(c),new Oi("unknown decoder: "+u)}})(Iv.buildBitArray(t)).parseInformation(),o=t[0].getFinderPattern().getResultPoints(),i=t[t.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],i[0],i[1]];return new Ot(n,null,null,l,oe.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),o=t.getRightChar();if(o===null)return!1;for(var i=o.getChecksumPortion(),l=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);i+=c.getLeftChar().getChecksumPortion(),l++;var d=c.getRightChar();d!=null&&(i+=d.getChecksumPortion(),l++)}return 211*(l-4)+(i%=211)===n.getValue()},e.getNextSecondBar=function(t,n){var o;return t.get(n)?(o=t.getNextUnset(n),o=t.getNextSet(o)):(o=t.getNextSet(n),o=t.getNextUnset(o)),o},e.prototype.retrieveNextPair=function(t,n,o){var i,l=n.length%2==0;this.startFromEven&&(l=!l);var u=!0,c=-1;do this.findNextPair(t,n,c),(i=this.parseFoundFinderPattern(t,o,l))===null?c=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var d,h=this.decodeDataCharacter(t,i,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new U;try{d=this.decodeDataCharacter(t,i,l,!1)}catch(g){d=null,console.log(g)}return new r1(h,d,i,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,o){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var l,u=t.getSize();o>=0?l=o:this.isEmptyPair(n)?l=0:l=n[n.length-1].getFinderPattern().getStartEnd()[1];var c=n.length%2!=0;this.startFromEven&&(c=!c);for(var d=!1;l<u&&(d=!t.get(l));)l++;for(var h=0,g=l,y=l;y<u;y++)if(t.get(y)!==d)i[h]++;else{if(h===3){if(c&&e.reverseCounters(i),e.isFinderPattern(i))return this.startEnd[0]=g,void(this.startEnd[1]=y);c&&e.reverseCounters(i),g+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,d=!d}throw new U},e.reverseCounters=function(t){for(var n=t.length,o=0;o<n/2;++o){var i=t[o];t[o]=t[n-o-1],t[n-o-1]=i}},e.prototype.parseFoundFinderPattern=function(t,n,o){var i,l,u;if(o){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,i=this.startEnd[0]-c,l=c,u=this.startEnd[1]}else l=this.startEnd[0],i=(u=t.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var d,h=this.getDecodeFinderCounters();qe.arraycopy(h,0,h,1,h.length-1),h[0]=i;try{d=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new l0(d,[l,u],l,u,n)},e.prototype.decodeDataCharacter=function(t,n,o,i){for(var l=this.getDataCharacterCounters(),u=0;u<l.length;u++)l[u]=0;if(i)e.recordPatternInReverse(t,n.getStartEnd()[0],l);else{e.recordPattern(t,n.getStartEnd()[1],l);for(var c=0,d=l.length-1;c<d;c++,d--){var h=l[c];l[c]=l[d],l[d]=h}}var g=be.sum(new Int32Array(l))/17,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new U;var w=this.getOddCounts(),_=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(c=0;c<l.length;c++){var T=1*l[c]/g,N=T+.5;if(N<1){if(T<.3)throw new U;N=1}else if(N>8){if(T>8.7)throw new U;N=8}var b=c/2;(1&c)==0?(w[b]=N,E[b]=T-N):(_[b]=N,S[b]=T-N)}this.adjustOddEvenCounts(17);var R=4*n.getValue()+(o?0:2)+(i?0:1)-1,B=0,F=0;for(c=w.length-1;c>=0;c--){if(e.isNotA1left(n,o,i)){var z=e.WEIGHTS[R][2*c];F+=w[c]*z}B+=w[c]}var $=0;for(c=_.length-1;c>=0;c--)e.isNotA1left(n,o,i)&&(z=e.WEIGHTS[R][2*c+1],$+=_[c]*z);var ue=F+$;if((1&B)!=0||B>13||B<4)throw new U;var de=(13-B)/2,le=e.SYMBOL_WIDEST[de],Te=9-le,ke=_o.getRSSvalue(w,le,!0),Pe=_o.getRSSvalue(_,Te,!1),De=e.EVEN_TOTAL_SUBSET[de],tt=e.GSUM[de];return new sa(ke*De+Pe+tt,ue)},e.isNotA1left=function(t,n,o){return!(t.getValue()===0&&n&&o)},e.prototype.adjustOddEvenCounts=function(t){var n=be.sum(new Int32Array(this.getOddCounts())),o=be.sum(new Int32Array(this.getEvenCounts())),i=!1,l=!1;n>13?l=!0:n<4&&(i=!0);var u=!1,c=!1;o>13?c=!0:o<4&&(u=!0);var d=n+o-t,h=(1&n)==1,g=(1&o)==0;if(d===1)if(h){if(g)throw new U;l=!0}else{if(!g)throw new U;c=!0}else if(d===-1)if(h){if(g)throw new U;i=!0}else{if(!g)throw new U;u=!0}else{if(d!==0)throw new U;if(h){if(!g)throw new U;n<o?(i=!0,c=!0):(l=!0,u=!0)}else if(g)throw new U}if(i){if(l)throw new U;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new U;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(On),Yv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Kv=(function(r){function e(t,n,o){var i=r.call(this,t,n)||this;return i.count=0,i.finderPattern=o,i}return Yv(e,r),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(sa),Qv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_u=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n1=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return Qv(e,r),e.prototype.decodeRow=function(t,n,o){var i,l,u,c,d=this.decodePair(n,!1,t,o);e.addOrTally(this.possibleLeftPairs,d),n.reverse();var h=this.decodePair(n,!0,t,o);e.addOrTally(this.possibleRightPairs,h),n.reverse();try{for(var g=_u(this.possibleLeftPairs),y=g.next();!y.done;y=g.next()){var w=y.value;if(w.getCount()>1)try{for(var _=(u=void 0,_u(this.possibleRightPairs)),E=_.next();!E.done;E=_.next()){var S=E.value;if(S.getCount()>1&&e.checkChecksum(w,S))return e.constructResult(w,S)}}catch(T){u={error:T}}finally{try{E&&!E.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}}}catch(T){i={error:T}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(i)throw i.error}}throw new U},e.addOrTally=function(t,n){var o,i;if(n!=null){var l=!1;try{for(var u=_u(t),c=u.next();!c.done;c=u.next()){var d=c.value;if(d.getValue()===n.getValue()){d.incrementCount(),l=!0;break}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}l||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var o=4537077*t.getValue()+n.getValue(),i=new String(o).toString(),l=new me,u=13-i.length;u>0;u--)l.append("0");l.append(i);var c=0;for(u=0;u<13;u++){var d=l.charAt(u).charCodeAt(0)-48;c+=(1&u)==0?3*d:d}(c=10-c%10)===10&&(c=0),l.append(c.toString());var h=t.getFinderPattern().getResultPoints(),g=n.getFinderPattern().getResultPoints();return new Ot(l.toString(),null,0,[h[0],h[1],g[0],g[1]],oe.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var o=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,o===i},e.prototype.decodePair=function(t,n,o,i){try{var l=this.findFinderPattern(t,n),u=this.parseFoundFinderPattern(t,o,n,l),c=i==null?null:i.get(Ze.NEED_RESULT_POINT_CALLBACK);if(c!=null){var d=(l[0]+l[1])/2;n&&(d=t.getSize()-1-d),c.foundPossibleResultPoint(new re(d,o))}var h=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new Kv(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,o){for(var i=this.getDataCharacterCounters(),l=0;l<i.length;l++)i[l]=0;if(o)dt.recordPatternInReverse(t,n.getStartEnd()[0],i);else{dt.recordPattern(t,n.getStartEnd()[1]+1,i);for(var u=0,c=i.length-1;u<c;u++,c--){var d=i[u];i[u]=i[c],i[c]=d}}var h=o?16:15,g=be.sum(new Int32Array(i))/h,y=this.getOddCounts(),w=this.getEvenCounts(),_=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(u=0;u<i.length;u++){var S=i[u]/g,T=Math.floor(S+.5);T<1?T=1:T>8&&(T=8);var N=Math.floor(u/2);(1&u)==0?(y[N]=T,_[N]=S-T):(w[N]=T,E[N]=S-T)}this.adjustOddEvenCounts(o,h);var b=0,R=0;for(u=y.length-1;u>=0;u--)R*=9,R+=y[u],b+=y[u];var B=0,F=0;for(u=w.length-1;u>=0;u--)B*=9,B+=w[u],F+=w[u];var z=R+3*B;if(o){if((1&b)!=0||b>12||b<4)throw new U;var $=(12-b)/2,ue=9-(Pe=e.OUTSIDE_ODD_WIDEST[$]),de=_o.getRSSvalue(y,Pe,!1),le=_o.getRSSvalue(w,ue,!0),Te=e.OUTSIDE_EVEN_TOTAL_SUBSET[$],ke=e.OUTSIDE_GSUM[$];return new sa(de*Te+le+ke,z)}if((1&F)!=0||F>10||F<4)throw new U;$=(10-F)/2,ue=9-(Pe=e.INSIDE_ODD_WIDEST[$]),de=_o.getRSSvalue(y,Pe,!0),le=_o.getRSSvalue(w,ue,!1);var Pe,De=e.INSIDE_ODD_TOTAL_SUBSET[$];return ke=e.INSIDE_GSUM[$],new sa(le*De+de+ke,z)},e.prototype.findFinderPattern=function(t,n){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var i=t.getSize(),l=!1,u=0;u<i&&n!==(l=!t.get(u));)u++;for(var c=0,d=u,h=u;h<i;h++)if(t.get(h)!==l)o[c]++;else{if(c===3){if(On.isFinderPattern(o))return[d,h];d+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,c--}else c++;o[c]=1,l=!l}throw new U},e.prototype.parseFoundFinderPattern=function(t,n,o,i){for(var l=t.get(i[0]),u=i[0]-1;u>=0&&l!==t.get(u);)u--;u++;var c=i[0]-u,d=this.getDecodeFinderCounters(),h=new Int32Array(d.length);qe.arraycopy(d,0,h,1,d.length-1),h[0]=c;var g=this.parseFinderValue(h,e.FINDER_PATTERNS),y=u,w=i[1];return o&&(y=t.getSize()-1-y,w=t.getSize()-1-w),new l0(g,[u,i[1]],y,w,n)},e.prototype.adjustOddEvenCounts=function(t,n){var o=be.sum(new Int32Array(this.getOddCounts())),i=be.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,c=!1,d=!1;t?(o>12?u=!0:o<4&&(l=!0),i>12?d=!0:i<4&&(c=!0)):(o>11?u=!0:o<5&&(l=!0),i>10?d=!0:i<4&&(c=!0));var h=o+i-n,g=(1&o)==(t?1:0),y=(1&i)==1;if(h===1)if(g){if(y)throw new U;u=!0}else{if(!y)throw new U;d=!0}else if(h===-1)if(g){if(y)throw new U;l=!0}else{if(!y)throw new U;c=!0}else{if(h!==0)throw new U;if(g){if(!y)throw new U;o<i?(l=!0,d=!0):(u=!0,c=!0)}else if(y)throw new U}if(l){if(u)throw new U;On.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&On.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new U;On.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&On.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(On),Zv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),mi=(function(r){function e(t){var n=r.call(this)||this;n.readers=[];var o=t?t.get(Ze.POSSIBLE_FORMATS):null,i=t&&t.get(Ze.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return o&&((o.includes(oe.EAN_13)||o.includes(oe.UPC_A)||o.includes(oe.EAN_8)||o.includes(oe.UPC_E))&&n.readers.push(new wu(t)),o.includes(oe.CODE_39)&&n.readers.push(new Xh(i)),o.includes(oe.CODE_93)&&n.readers.push(new qh),o.includes(oe.CODE_128)&&n.readers.push(new Gh),o.includes(oe.ITF)&&n.readers.push(new Yh),o.includes(oe.CODABAR)&&n.readers.push(new Cv),o.includes(oe.RSS_14)&&n.readers.push(new n1),o.includes(oe.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new qv))),n.readers.length===0&&(n.readers.push(new wu(t)),n.readers.push(new Xh),n.readers.push(new qh),n.readers.push(new wu(t)),n.readers.push(new Gh),n.readers.push(new Yh),n.readers.push(new n1)),n}return Zv(e,r),e.prototype.decodeRow=function(t,n,o){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(t,n,o)}catch{}throw new U},e.prototype.reset=function(){this.readers.forEach((function(t){return t.reset()}))},e})(dt),Jv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t,n){return t===void 0&&(t=500),r.call(this,new mi(n),t,n)||this}Jv(e,r)})(bo);var ut,o1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xe=(function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),Oe=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),ew=(function(){function r(e,t,n,o,i,l){var u,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=i,this.ecBlocks=l;var d=0,h=l.getECCodewords(),g=l.getECBlocks();try{for(var y=o1(g),w=y.next();!w.done;w=y.next()){var _=w.value;d+=_.getCount()*(_.getDataCodewords()+h)}}catch(E){u={error:E}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}this.totalCodewords=d}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,o;if((1&e)!=0||(1&t)!=0)throw new Y;try{for(var i=o1(r.VERSIONS),l=i.next();!l.done;l=i.next()){var u=l.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(c){n={error:c}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}throw new Y},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new xe(5,new Oe(1,3))),new r(2,12,12,10,10,new xe(7,new Oe(1,5))),new r(3,14,14,12,12,new xe(10,new Oe(1,8))),new r(4,16,16,14,14,new xe(12,new Oe(1,12))),new r(5,18,18,16,16,new xe(14,new Oe(1,18))),new r(6,20,20,18,18,new xe(18,new Oe(1,22))),new r(7,22,22,20,20,new xe(20,new Oe(1,30))),new r(8,24,24,22,22,new xe(24,new Oe(1,36))),new r(9,26,26,24,24,new xe(28,new Oe(1,44))),new r(10,32,32,14,14,new xe(36,new Oe(1,62))),new r(11,36,36,16,16,new xe(42,new Oe(1,86))),new r(12,40,40,18,18,new xe(48,new Oe(1,114))),new r(13,44,44,20,20,new xe(56,new Oe(1,144))),new r(14,48,48,22,22,new xe(68,new Oe(1,174))),new r(15,52,52,24,24,new xe(42,new Oe(2,102))),new r(16,64,64,14,14,new xe(56,new Oe(2,140))),new r(17,72,72,16,16,new xe(36,new Oe(4,92))),new r(18,80,80,18,18,new xe(48,new Oe(4,114))),new r(19,88,88,20,20,new xe(56,new Oe(4,144))),new r(20,96,96,22,22,new xe(68,new Oe(4,174))),new r(21,104,104,24,24,new xe(56,new Oe(6,136))),new r(22,120,120,18,18,new xe(68,new Oe(6,175))),new r(23,132,132,20,20,new xe(62,new Oe(8,163))),new r(24,144,144,22,22,new xe(62,new Oe(8,156),new Oe(2,155))),new r(25,8,18,6,16,new xe(7,new Oe(1,5))),new r(26,8,32,6,14,new xe(11,new Oe(1,10))),new r(27,12,26,10,24,new xe(14,new Oe(1,16))),new r(28,12,36,10,16,new xe(18,new Oe(1,22))),new r(29,16,36,14,16,new xe(24,new Oe(1,32))),new r(30,16,48,14,22,new xe(28,new Oe(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),tw=(function(){function r(e){var t=e.getHeight();if(t<8||t>144||(1&t)!=0)throw new Y;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Dr(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return ew.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,o=0,i=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth(),u=!1,c=!1,d=!1,h=!1;do if(n!==i||o!==0||u)if(n!==i-2||o!==0||(3&l)==0||c)if(n!==i+4||o!==2||(7&l)!=0||d)if(n!==i-2||o!==0||(7&l)!=4||h){do n<i&&o>=0&&!this.readMappingMatrix.get(o,n)&&(e[t++]=255&this.readUtah(n,o,i,l)),n-=2,o+=2;while(n>=0&&o<l);n+=1,o+=3;do n>=0&&o<l&&!this.readMappingMatrix.get(o,n)&&(e[t++]=255&this.readUtah(n,o,i,l)),n+=2,o-=2;while(n<i&&o>=0);n+=3,o+=1}else e[t++]=255&this.readCorner4(i,l),n-=2,o+=2,h=!0;else e[t++]=255&this.readCorner3(i,l),n-=2,o+=2,d=!0;else e[t++]=255&this.readCorner2(i,l),n-=2,o+=2,c=!0;else e[t++]=255&this.readCorner1(i,l),n-=2,o+=2,u=!0;while(n<i||o<l);if(t!==this.version.getTotalCodewords())throw new Y;return e},r.prototype.readModule=function(e,t,n,o){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,o){var i=0;return this.readModule(e-2,t-2,n,o)&&(i|=1),i<<=1,this.readModule(e-2,t-1,n,o)&&(i|=1),i<<=1,this.readModule(e-1,t-2,n,o)&&(i|=1),i<<=1,this.readModule(e-1,t-1,n,o)&&(i|=1),i<<=1,this.readModule(e-1,t,n,o)&&(i|=1),i<<=1,this.readModule(e,t-2,n,o)&&(i|=1),i<<=1,this.readModule(e,t-1,n,o)&&(i|=1),i<<=1,this.readModule(e,t,n,o)&&(i|=1),i},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new fe("Dimension of bitMatrix must match the version size");for(var o=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),l=t/o|0,u=n/i|0,c=new Dr(u*i,l*o),d=0;d<l;++d)for(var h=d*o,g=0;g<u;++g)for(var y=g*i,w=0;w<o;++w)for(var _=d*(o+2)+1+w,E=h+w,S=0;S<i;++S){var T=g*(i+2)+1+S;if(e.get(T,_)){var N=y+S;c.set(N,E)}}return c},r})(),i1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rw=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,o,i,l,u=t.getECBlocks(),c=0,d=u.getECBlocks();try{for(var h=i1(d),g=h.next();!g.done;g=h.next())c+=(S=g.value).getCount()}catch(ke){n={error:ke}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}var y=new Array(c),w=0;try{for(var _=i1(d),E=_.next();!E.done;E=_.next())for(var S=E.value,T=0;T<S.getCount();T++){var N=S.getDataCodewords(),b=u.getECCodewords()+N;y[w++]=new r(N,new Uint8Array(b))}}catch(ke){i={error:ke}}finally{try{E&&!E.done&&(l=_.return)&&l.call(_)}finally{if(i)throw i.error}}var R=y[0].codewords.length-u.getECCodewords(),B=R-1,F=0;for(T=0;T<B;T++)for(var z=0;z<w;z++)y[z].codewords[T]=e[F++];var $=t.getVersionNumber()===24,ue=$?8:w;for(z=0;z<ue;z++)y[z].codewords[R-1]=e[F++];var de=y[0].codewords.length;for(T=R;T<de;T++)for(z=0;z<w;z++){var le=$?(z+8)%w:z,Te=$&&le>7?T-1:T;y[le].codewords[Te]=e[F++]}if(F!==e.length)throw new fe;return y},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),f0=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new fe(""+e);var t=0,n=this.bitOffset,o=this.byteOffset,i=this.bytes;if(n>0){var l=8-n,u=e<l?e:l,c=255>>8-u<<(d=l-u);t=(i[o]&c)>>d,e-=u,(n+=u)===8&&(n=0,o++)}if(e>0){for(;e>=8;)t=t<<8|255&i[o],o++,e-=8;if(e>0){var d;c=255>>(d=8-e)<<d,t=t<<e|(i[o]&c)>>d,n+=e}}return this.bitOffset=n,this.byteOffset=o,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})();(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(ut||(ut={}));var Co,nw=(function(){function r(){}return r.decode=function(e){var t=new f0(e),n=new me,o=new me,i=new Array,l=ut.ASCII_ENCODE;do if(l===ut.ASCII_ENCODE)l=this.decodeAsciiSegment(t,n,o);else{switch(l){case ut.C40_ENCODE:this.decodeC40Segment(t,n);break;case ut.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case ut.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case ut.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case ut.BASE256_ENCODE:this.decodeBase256Segment(t,n,i);break;default:throw new Y}l=ut.ASCII_ENCODE}while(l!==ut.PAD_ENCODE&&t.available()>0);return o.length()>0&&n.append(o.toString()),new ua(e,n.toString(),i.length===0?null:i,null)},r.decodeAsciiSegment=function(e,t,n){var o=!1;do{var i=e.readBits(8);if(i===0)throw new Y;if(i<=128)return o&&(i+=128),t.append(String.fromCharCode(i-1)),ut.ASCII_ENCODE;if(i===129)return ut.PAD_ENCODE;if(i<=229){var l=i-130;l<10&&t.append("0"),t.append(""+l)}else switch(i){case 230:return ut.C40_ENCODE;case 231:return ut.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:case 241:break;case 235:o=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return ut.ANSIX12_ENCODE;case 239:return ut.TEXT_ENCODE;case 240:return ut.EDIFACT_ENCODE;default:if(i!==254||e.available()!==0)throw new Y}}while(e.available()>0);return ut.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,o=[],i=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(var u=0;u<3;u++){var c=o[u];switch(i){case 0:if(c<3)i=c+1;else{if(!(c<this.C40_BASIC_SET_CHARS.length))throw new Y;var d=this.C40_BASIC_SET_CHARS[c];n?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):t.append(d)}break;case 1:n?(t.append(String.fromCharCode(c+128)),n=!1):t.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length)d=this.C40_SHIFT2_SET_CHARS[c],n?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):t.append(d);else switch(c){case 27:t.append("");break;case 30:n=!0;break;default:throw new Y}i=0;break;case 3:n?(t.append(String.fromCharCode(c+224)),n=!1):t.append(String.fromCharCode(c+96)),i=0;break;default:throw new Y}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,o=[],i=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(var u=0;u<3;u++){var c=o[u];switch(i){case 0:if(c<3)i=c+1;else{if(!(c<this.TEXT_BASIC_SET_CHARS.length))throw new Y;var d=this.TEXT_BASIC_SET_CHARS[c];n?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):t.append(d)}break;case 1:n?(t.append(String.fromCharCode(c+128)),n=!1):t.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length)d=this.TEXT_SHIFT2_SET_CHARS[c],n?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):t.append(d);else switch(c){case 27:t.append("");break;case 30:n=!0;break;default:throw new Y}i=0;break;case 3:if(!(c<this.TEXT_SHIFT3_SET_CHARS.length))throw new Y;d=this.TEXT_SHIFT3_SET_CHARS[c],n?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),n=!1):t.append(d),i=0;break;default:throw new Y}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),n);for(var i=0;i<3;i++){var l=n[i];switch(l){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(l<14)t.append(String.fromCharCode(l+44));else{if(!(l<40))throw new Y;t.append(String.fromCharCode(l+51))}}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var o=(e<<8)+t-1,i=Math.floor(o/1600);n[0]=i,o-=1600*i,i=Math.floor(o/40),n[1]=i,n[2]=o-40*i},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var o=e.readBits(6);if(o===31){var i=8-e.getBitOffset();return void(i!==8&&e.readBits(i))}(32&o)==0&&(o|=64),t.append(String.fromCharCode(o))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var o,i=1+e.getByteOffset(),l=this.unrandomize255State(e.readBits(8),i++);if((o=l===0?e.available()/8|0:l<250?l:250*(l-249)+this.unrandomize255State(e.readBits(8),i++))<0)throw new Y;for(var u=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new Y;u[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(u);try{t.append(Pr.decode(u,Ve.ISO88591))}catch(d){throw new Oi("Platform does not support required encoding: "+d.message)}},r.unrandomize255State=function(e,t){var n=e-(149*t%255+1);return n>=0?n:n+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),ow=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iw=(function(){function r(){this.rsDecoder=new ca(an.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,o=new tw(e),i=o.getVersion(),l=o.readCodewords(),u=rw.getDataBlocks(l,i),c=0;try{for(var d=ow(u),h=d.next();!h.done;h=d.next())c+=h.value.getNumDataCodewords()}catch(N){t={error:N}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}for(var g=new Uint8Array(c),y=u.length,w=0;w<y;w++){var _=u[w],E=_.getCodewords(),S=_.getNumDataCodewords();this.correctErrors(E,S);for(var T=0;T<S;T++)g[T*y+w]=E[T]}return nw.decode(g)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new vt}for(var o=0;o<t;o++)e[o]=n[o]},r})(),sw=(function(){function r(e){this.image=e,this.rectangleDetector=new Uu(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if((t=this.detectSolid2(t))[3]=this.correctTopRight(t),!t[3])throw new U;var n=(t=this.shiftToModuleCenter(t))[0],o=t[1],i=t[2],l=t[3],u=this.transitionsBetween(n,l)+1,c=this.transitionsBetween(i,l)+1;(1&u)==1&&(u+=1),(1&c)==1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var d=r.sampleGrid(this.image,n,o,i,l,u,c);return new oc(d,[n,o,i,l])},r.shiftPoint=function(e,t,n){var o=(t.getX()-e.getX())/(n+1),i=(t.getY()-e.getY())/(n+1);return new re(e.getX()+o,e.getY()+i)},r.moveAway=function(e,t,n){var o=e.getX(),i=e.getY();return o<t?o-=1:o+=1,i<n?i-=1:i+=1,new re(o,i)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],o=e[3],i=e[2],l=this.transitionsBetween(t,n),u=this.transitionsBetween(n,o),c=this.transitionsBetween(o,i),d=this.transitionsBetween(i,t),h=l,g=[i,t,n,o];return h>u&&(h=u,g[0]=t,g[1]=n,g[2]=o,g[3]=i),h>c&&(h=c,g[0]=n,g[1]=o,g[2]=i,g[3]=t),h>d&&(g[0]=o,g[1]=i,g[2]=t,g[3]=n),g},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],o=e[2],i=e[3],l=this.transitionsBetween(t,i),u=r.shiftPoint(n,o,4*(l+1)),c=r.shiftPoint(o,n,4*(l+1));return this.transitionsBetween(u,t)<this.transitionsBetween(c,i)?(e[0]=t,e[1]=n,e[2]=o,e[3]=i):(e[0]=n,e[1]=o,e[2]=i,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],o=e[2],i=e[3],l=this.transitionsBetween(t,i),u=this.transitionsBetween(n,i),c=r.shiftPoint(t,n,4*(u+1)),d=r.shiftPoint(o,n,4*(l+1));l=this.transitionsBetween(c,i),u=this.transitionsBetween(d,i);var h=new re(i.getX()+(o.getX()-n.getX())/(l+1),i.getY()+(o.getY()-n.getY())/(l+1)),g=new re(i.getX()+(t.getX()-n.getX())/(u+1),i.getY()+(t.getY()-n.getY())/(u+1));return this.isValid(h)?this.isValid(g)?this.transitionsBetween(c,h)+this.transitionsBetween(d,h)>this.transitionsBetween(c,g)+this.transitionsBetween(d,g)?h:g:h:this.isValid(g)?g:null},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],o=e[2],i=e[3],l=this.transitionsBetween(t,i)+1,u=this.transitionsBetween(o,i)+1,c=r.shiftPoint(t,n,4*u),d=r.shiftPoint(o,n,4*l);(1&(l=this.transitionsBetween(c,i)+1))==1&&(l+=1),(1&(u=this.transitionsBetween(d,i)+1))==1&&(u+=1);var h,g,y=(t.getX()+n.getX()+o.getX()+i.getX())/4,w=(t.getY()+n.getY()+o.getY()+i.getY())/4;return t=r.moveAway(t,y,w),n=r.moveAway(n,y,w),o=r.moveAway(o,y,w),i=r.moveAway(i,y,w),c=r.shiftPoint(t,n,4*u),c=r.shiftPoint(c,i,4*l),h=r.shiftPoint(n,t,4*u),h=r.shiftPoint(h,o,4*l),d=r.shiftPoint(o,i,4*u),d=r.shiftPoint(d,n,4*l),g=r.shiftPoint(i,o,4*u),[c,h,d,g=r.shiftPoint(g,t,4*l)]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,o,i,l,u){return ic.getInstance().sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,t.getX(),t.getY(),i.getX(),i.getY(),o.getX(),o.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),o=Math.trunc(e.getY()),i=Math.trunc(t.getX()),l=Math.trunc(t.getY()),u=Math.abs(l-o)>Math.abs(i-n);if(u){var c=n;n=o,o=c,c=i,i=l,l=c}for(var d=Math.abs(i-n),h=Math.abs(l-o),g=-d/2,y=o<l?1:-1,w=n<i?1:-1,_=0,E=this.image.get(u?o:n,u?n:o),S=n,T=o;S!==i;S+=w){var N=this.image.get(u?T:S,u?S:T);if(N!==E&&(_++,E=N),(g+=h)>0){if(T===l)break;T+=y,g-=d}}return _},r})(),Vu=(function(){function r(){this.decoder=new iw}return r.prototype.decode=function(e,t){var n,o;if(t===void 0&&(t=null),t!=null&&t.has(Ze.PURE_BARCODE)){var i=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(i),o=r.NO_POINTS}else{var l=new sw(e.getBlackMatrix()).detect();n=this.decoder.decode(l.getBits()),o=l.getPoints()}var u=n.getRawBytes(),c=new Ot(n.getText(),u,8*u.length,o,oe.DATA_MATRIX,qe.currentTimeMillis()),d=n.getByteSegments();d!=null&&c.putMetadata(St.BYTE_SEGMENTS,d);var h=n.getECLevel();return h!=null&&c.putMetadata(St.ERROR_CORRECTION_LEVEL,h),c},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new U;var o=this.moduleSize(t,e),i=t[1],l=n[1],u=t[0],c=(n[0]-u+1)/o,d=(l-i+1)/o;if(c<=0||d<=0)throw new U;var h=o/2;i+=h,u+=h;for(var g=new Dr(c,d),y=0;y<d;y++)for(var w=i+y*o,_=0;_<c;_++)e.get(u+_*o,w)&&g.set(_,y);return g},r.moduleSize=function(e,t){for(var n=t.getWidth(),o=e[0],i=e[1];o<n&&t.get(o,i);)o++;if(o===n)throw new U;var l=o-e[0];if(l===0)throw new U;return l},r.NO_POINTS=[],r})(),aw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t){return t===void 0&&(t=500),r.call(this,new Vu,t)||this}aw(e,r)})(bo),(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Co||(Co={}));var mt,lw=(function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new dr(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new fe;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Co.L,"L",1),r.M=new r(Co.M,"M",0),r.Q=new r(Co.Q,"Q",3),r.H=new r(Co.H,"H",2),r})(),uw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d0=(function(){function r(e){this.errorCorrectionLevel=lw.forBits(e>>3&3),this.dataMask=7&e}return r.numBitsDiffering=function(e,t){return ot.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,o,i=Number.MAX_SAFE_INTEGER,l=0;try{for(var u=uw(r.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var d=c.value,h=d[0];if(h===e||h===t)return new r(d[1]);var g=r.numBitsDiffering(e,h);g<i&&(l=d[1],i=g),e!==t&&(g=r.numBitsDiffering(t,h))<i&&(l=d[1],i=g)}}catch(y){n={error:y}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return i<=3?new r(l):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),cw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M=(function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,o=this.ecBlocks;try{for(var i=cw(o),l=i.next();!l.done;l=i.next())n+=l.value.getCount()}catch(u){e={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),I=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),fw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ta=(function(){function r(e,t){for(var n,o,i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=i;var u=0,c=i[0].getECCodewordsPerBlock(),d=i[0].getECBlocks();try{for(var h=fw(d),g=h.next();!g.done;g=h.next()){var y=g.value;u+=y.getCount()*(y.getDataCodewords()+c)}}catch(w){n={error:w}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}this.totalCodewords=u}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw new Y;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Y}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new fe;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,o=0;o<r.VERSION_DECODE_INFO.length;o++){var i=r.VERSION_DECODE_INFO[o];if(i===e)return r.getVersionForNumber(o+7);var l=d0.numBitsDiffering(e,i);l<t&&(n=o+7,t=l)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Dr(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,o=0;o<n;o++)for(var i=this.alignmentPatternCenters[o]-2,l=0;l<n;l++)o===0&&(l===0||l===n-1)||o===n-1&&l===0||t.setRegion(this.alignmentPatternCenters[l]-2,i,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new M(7,new I(1,19)),new M(10,new I(1,16)),new M(13,new I(1,13)),new M(17,new I(1,9))),new r(2,Int32Array.from([6,18]),new M(10,new I(1,34)),new M(16,new I(1,28)),new M(22,new I(1,22)),new M(28,new I(1,16))),new r(3,Int32Array.from([6,22]),new M(15,new I(1,55)),new M(26,new I(1,44)),new M(18,new I(2,17)),new M(22,new I(2,13))),new r(4,Int32Array.from([6,26]),new M(20,new I(1,80)),new M(18,new I(2,32)),new M(26,new I(2,24)),new M(16,new I(4,9))),new r(5,Int32Array.from([6,30]),new M(26,new I(1,108)),new M(24,new I(2,43)),new M(18,new I(2,15),new I(2,16)),new M(22,new I(2,11),new I(2,12))),new r(6,Int32Array.from([6,34]),new M(18,new I(2,68)),new M(16,new I(4,27)),new M(24,new I(4,19)),new M(28,new I(4,15))),new r(7,Int32Array.from([6,22,38]),new M(20,new I(2,78)),new M(18,new I(4,31)),new M(18,new I(2,14),new I(4,15)),new M(26,new I(4,13),new I(1,14))),new r(8,Int32Array.from([6,24,42]),new M(24,new I(2,97)),new M(22,new I(2,38),new I(2,39)),new M(22,new I(4,18),new I(2,19)),new M(26,new I(4,14),new I(2,15))),new r(9,Int32Array.from([6,26,46]),new M(30,new I(2,116)),new M(22,new I(3,36),new I(2,37)),new M(20,new I(4,16),new I(4,17)),new M(24,new I(4,12),new I(4,13))),new r(10,Int32Array.from([6,28,50]),new M(18,new I(2,68),new I(2,69)),new M(26,new I(4,43),new I(1,44)),new M(24,new I(6,19),new I(2,20)),new M(28,new I(6,15),new I(2,16))),new r(11,Int32Array.from([6,30,54]),new M(20,new I(4,81)),new M(30,new I(1,50),new I(4,51)),new M(28,new I(4,22),new I(4,23)),new M(24,new I(3,12),new I(8,13))),new r(12,Int32Array.from([6,32,58]),new M(24,new I(2,92),new I(2,93)),new M(22,new I(6,36),new I(2,37)),new M(26,new I(4,20),new I(6,21)),new M(28,new I(7,14),new I(4,15))),new r(13,Int32Array.from([6,34,62]),new M(26,new I(4,107)),new M(22,new I(8,37),new I(1,38)),new M(24,new I(8,20),new I(4,21)),new M(22,new I(12,11),new I(4,12))),new r(14,Int32Array.from([6,26,46,66]),new M(30,new I(3,115),new I(1,116)),new M(24,new I(4,40),new I(5,41)),new M(20,new I(11,16),new I(5,17)),new M(24,new I(11,12),new I(5,13))),new r(15,Int32Array.from([6,26,48,70]),new M(22,new I(5,87),new I(1,88)),new M(24,new I(5,41),new I(5,42)),new M(30,new I(5,24),new I(7,25)),new M(24,new I(11,12),new I(7,13))),new r(16,Int32Array.from([6,26,50,74]),new M(24,new I(5,98),new I(1,99)),new M(28,new I(7,45),new I(3,46)),new M(24,new I(15,19),new I(2,20)),new M(30,new I(3,15),new I(13,16))),new r(17,Int32Array.from([6,30,54,78]),new M(28,new I(1,107),new I(5,108)),new M(28,new I(10,46),new I(1,47)),new M(28,new I(1,22),new I(15,23)),new M(28,new I(2,14),new I(17,15))),new r(18,Int32Array.from([6,30,56,82]),new M(30,new I(5,120),new I(1,121)),new M(26,new I(9,43),new I(4,44)),new M(28,new I(17,22),new I(1,23)),new M(28,new I(2,14),new I(19,15))),new r(19,Int32Array.from([6,30,58,86]),new M(28,new I(3,113),new I(4,114)),new M(26,new I(3,44),new I(11,45)),new M(26,new I(17,21),new I(4,22)),new M(26,new I(9,13),new I(16,14))),new r(20,Int32Array.from([6,34,62,90]),new M(28,new I(3,107),new I(5,108)),new M(26,new I(3,41),new I(13,42)),new M(30,new I(15,24),new I(5,25)),new M(28,new I(15,15),new I(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new M(28,new I(4,116),new I(4,117)),new M(26,new I(17,42)),new M(28,new I(17,22),new I(6,23)),new M(30,new I(19,16),new I(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new M(28,new I(2,111),new I(7,112)),new M(28,new I(17,46)),new M(30,new I(7,24),new I(16,25)),new M(24,new I(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new M(30,new I(4,121),new I(5,122)),new M(28,new I(4,47),new I(14,48)),new M(30,new I(11,24),new I(14,25)),new M(30,new I(16,15),new I(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new M(30,new I(6,117),new I(4,118)),new M(28,new I(6,45),new I(14,46)),new M(30,new I(11,24),new I(16,25)),new M(30,new I(30,16),new I(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new M(26,new I(8,106),new I(4,107)),new M(28,new I(8,47),new I(13,48)),new M(30,new I(7,24),new I(22,25)),new M(30,new I(22,15),new I(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new M(28,new I(10,114),new I(2,115)),new M(28,new I(19,46),new I(4,47)),new M(28,new I(28,22),new I(6,23)),new M(30,new I(33,16),new I(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new M(30,new I(8,122),new I(4,123)),new M(28,new I(22,45),new I(3,46)),new M(30,new I(8,23),new I(26,24)),new M(30,new I(12,15),new I(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new M(30,new I(3,117),new I(10,118)),new M(28,new I(3,45),new I(23,46)),new M(30,new I(4,24),new I(31,25)),new M(30,new I(11,15),new I(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new M(30,new I(7,116),new I(7,117)),new M(28,new I(21,45),new I(7,46)),new M(30,new I(1,23),new I(37,24)),new M(30,new I(19,15),new I(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new M(30,new I(5,115),new I(10,116)),new M(28,new I(19,47),new I(10,48)),new M(30,new I(15,24),new I(25,25)),new M(30,new I(23,15),new I(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new M(30,new I(13,115),new I(3,116)),new M(28,new I(2,46),new I(29,47)),new M(30,new I(42,24),new I(1,25)),new M(30,new I(23,15),new I(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new M(30,new I(17,115)),new M(28,new I(10,46),new I(23,47)),new M(30,new I(10,24),new I(35,25)),new M(30,new I(19,15),new I(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new M(30,new I(17,115),new I(1,116)),new M(28,new I(14,46),new I(21,47)),new M(30,new I(29,24),new I(19,25)),new M(30,new I(11,15),new I(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new M(30,new I(13,115),new I(6,116)),new M(28,new I(14,46),new I(23,47)),new M(30,new I(44,24),new I(7,25)),new M(30,new I(59,16),new I(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new M(30,new I(12,121),new I(7,122)),new M(28,new I(12,47),new I(26,48)),new M(30,new I(39,24),new I(14,25)),new M(30,new I(22,15),new I(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new M(30,new I(6,121),new I(14,122)),new M(28,new I(6,47),new I(34,48)),new M(30,new I(46,24),new I(10,25)),new M(30,new I(2,15),new I(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new M(30,new I(17,122),new I(4,123)),new M(28,new I(29,46),new I(14,47)),new M(30,new I(49,24),new I(10,25)),new M(30,new I(24,15),new I(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new M(30,new I(4,122),new I(18,123)),new M(28,new I(13,46),new I(32,47)),new M(30,new I(48,24),new I(14,25)),new M(30,new I(42,15),new I(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new M(30,new I(20,117),new I(4,118)),new M(28,new I(40,47),new I(7,48)),new M(30,new I(43,24),new I(22,25)),new M(30,new I(10,15),new I(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new M(30,new I(19,118),new I(6,119)),new M(28,new I(18,47),new I(31,48)),new M(30,new I(34,24),new I(34,25)),new M(30,new I(20,15),new I(61,16)))],r})();(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(mt||(mt={}));var rr,s1=(function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var o=0;o<t;o++)this.isMasked(n,o)&&e.flip(o,n)},r.values=new Map([[mt.DATA_MASK_000,new r(mt.DATA_MASK_000,(function(e,t){return(e+t&1)==0}))],[mt.DATA_MASK_001,new r(mt.DATA_MASK_001,(function(e,t){return(1&e)==0}))],[mt.DATA_MASK_010,new r(mt.DATA_MASK_010,(function(e,t){return t%3==0}))],[mt.DATA_MASK_011,new r(mt.DATA_MASK_011,(function(e,t){return(e+t)%3==0}))],[mt.DATA_MASK_100,new r(mt.DATA_MASK_100,(function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)==0}))],[mt.DATA_MASK_101,new r(mt.DATA_MASK_101,(function(e,t){return e*t%6==0}))],[mt.DATA_MASK_110,new r(mt.DATA_MASK_110,(function(e,t){return e*t%6<3}))],[mt.DATA_MASK_111,new r(mt.DATA_MASK_111,(function(e,t){return(e+t+e*t%3&1)==0}))]]),r})(),dw=(function(){function r(e){var t=e.getHeight();if(t<21||(3&t)!=1)throw new Y;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);var o=this.bitMatrix.getHeight(),i=0,l=o-7;for(n=o-1;n>=l;n--)i=this.copyBit(8,n,i);for(t=o-8;t<o;t++)i=this.copyBit(t,8,i);if(this.parsedFormatInfo=d0.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return ta.getVersionForNumber(t);for(var n=0,o=e-11,i=5;i>=0;i--)for(var l=e-9;l>=o;l--)n=this.copyBit(l,i,n);var u=ta.decodeVersionInformation(n);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;for(n=0,l=5;l>=0;l--)for(i=e-9;i>=o;i--)n=this.copyBit(l,i,n);if((u=ta.decodeVersionInformation(n))!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new Y},r.prototype.copyBit=function(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=s1.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,o);for(var i=t.buildFunctionPattern(),l=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,d=0,h=0,g=o-1;g>0;g-=2){g===6&&g--;for(var y=0;y<o;y++)for(var w=l?o-1-y:y,_=0;_<2;_++)i.get(g-_,w)||(h++,d<<=1,this.bitMatrix.get(g-_,w)&&(d|=1),h===8&&(u[c++]=d,h=0,d=0));l=!l}if(c!==t.getTotalCodewords())throw new Y;return u},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=s1.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var o=t+1,i=e.getHeight();o<i;o++)e.get(t,o)!==e.get(o,t)&&(e.flip(o,t),e.flip(t,o))},r})(),a1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hw=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var o,i,l,u;if(e.length!==t.getTotalCodewords())throw new fe;var c=t.getECBlocksForLevel(n),d=0,h=c.getECBlocks();try{for(var g=a1(h),y=g.next();!y.done;y=g.next())d+=(T=y.value).getCount()}catch(Te){o={error:Te}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}var w=new Array(d),_=0;try{for(var E=a1(h),S=E.next();!S.done;S=E.next())for(var T=S.value,N=0;N<T.getCount();N++){var b=T.getDataCodewords(),R=c.getECCodewordsPerBlock()+b;w[_++]=new r(b,new Uint8Array(R))}}catch(Te){l={error:Te}}finally{try{S&&!S.done&&(u=E.return)&&u.call(E)}finally{if(l)throw l.error}}for(var B=w[0].codewords.length,F=w.length-1;F>=0&&w[F].codewords.length!==B;)F--;F++;var z=B-c.getECCodewordsPerBlock(),$=0;for(N=0;N<z;N++)for(var ue=0;ue<_;ue++)w[ue].codewords[N]=e[$++];for(ue=F;ue<_;ue++)w[ue].codewords[z]=e[$++];var de=w[0].codewords.length;for(N=z;N<de;N++)for(ue=0;ue<_;ue++){var le=ue<F?N:N+1;w[ue].codewords[le]=e[$++]}return w},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})();(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(rr||(rr={}));var Fe,Qs,qt=(function(){function r(e,t,n,o){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=o,r.FOR_BITS.set(o,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new fe;return t},r.prototype.getCharacterCountBits=function(e){var t,n=e.getVersionNumber();return t=n<=9?0:n<=26?1:2,this.characterCountBitsForVersions[t]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(rr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(rr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(rr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(rr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(rr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(rr.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(rr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(rr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(rr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(rr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),pw=(function(){function r(){}return r.decode=function(e,t,n,o){var i=new f0(e),l=new me,u=new Array,c=-1,d=-1;try{var h=null,g=!1,y=void 0;do{if(i.available()<4)y=qt.TERMINATOR;else{var w=i.readBits(4);y=qt.forBits(w)}switch(y){case qt.TERMINATOR:break;case qt.FNC1_FIRST_POSITION:case qt.FNC1_SECOND_POSITION:g=!0;break;case qt.STRUCTURED_APPEND:if(i.available()<16)throw new Y;c=i.readBits(8),d=i.readBits(8);break;case qt.ECI:var _=r.parseECIValue(i);if((h=Dt.getCharacterSetECIByValue(_))===null)throw new Y;break;case qt.HANZI:var E=i.readBits(4),S=i.readBits(y.getCharacterCountBits(t));E===r.GB2312_SUBSET&&r.decodeHanziSegment(i,l,S);break;default:var T=i.readBits(y.getCharacterCountBits(t));switch(y){case qt.NUMERIC:r.decodeNumericSegment(i,l,T);break;case qt.ALPHANUMERIC:r.decodeAlphanumericSegment(i,l,T,g);break;case qt.BYTE:r.decodeByteSegment(i,l,T,h,u,o);break;case qt.KANJI:r.decodeKanjiSegment(i,l,T);break;default:throw new Y}}}while(y!==qt.TERMINATOR)}catch{throw new Y}return new ua(e,l.toString(),u.length===0?null:u,n===null?null:n.toString(),c,d)},r.decodeHanziSegment=function(e,t,n){if(13*n>e.available())throw new Y;for(var o=new Uint8Array(2*n),i=0;n>0;){var l=e.readBits(13),u=l/96<<8&4294967295|l%96;u+=u<959?41377:42657,o[i]=u>>8&255,o[i+1]=255&u,i+=2,n--}try{t.append(Pr.decode(o,Ve.GB2312))}catch(c){throw new Y(c)}},r.decodeKanjiSegment=function(e,t,n){if(13*n>e.available())throw new Y;for(var o=new Uint8Array(2*n),i=0;n>0;){var l=e.readBits(13),u=l/192<<8&4294967295|l%192;u+=u<7936?33088:49472,o[i]=u>>8,o[i+1]=u,i+=2,n--}try{t.append(Pr.decode(o,Ve.SHIFT_JIS))}catch(c){throw new Y(c)}},r.decodeByteSegment=function(e,t,n,o,i,l){if(8*n>e.available())throw new Y;for(var u,c=new Uint8Array(n),d=0;d<n;d++)c[d]=e.readBits(8);u=o===null?Ve.guessEncoding(c,l):o.getName();try{t.append(Pr.decode(c,u))}catch(h){throw new Y(h)}i.push(c)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new Y;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,o){for(var i=t.length();n>1;){if(e.available()<11)throw new Y;var l=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(l/45))),t.append(r.toAlphaNumericChar(l%45)),n-=2}if(n===1){if(e.available()<6)throw new Y;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(o)for(var u=i;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new Y;var o=e.readBits(10);if(o>=1e3)throw new Y;t.append(r.toAlphaNumericChar(Math.floor(o/100))),t.append(r.toAlphaNumericChar(Math.floor(o/10)%10)),t.append(r.toAlphaNumericChar(o%10)),n-=3}if(n===2){if(e.available()<7)throw new Y;var i=e.readBits(7);if(i>=100)throw new Y;t.append(r.toAlphaNumericChar(Math.floor(i/10))),t.append(r.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new Y;var l=e.readBits(4);if(l>=10)throw new Y;t.append(r.toAlphaNumericChar(l))}},r.parseECIValue=function(e){var t=e.readBits(8);if((128&t)==0)return 127&t;if((192&t)==128)return(63&t)<<8&4294967295|e.readBits(8);if((224&t)==192)return(31&t)<<16&4294967295|e.readBits(16);throw new Y},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),h0=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&e!==null&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r})(),l1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gw=(function(){function r(){this.rsDecoder=new ca(an.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Dr.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new dw(e),o=null;try{return this.decodeBitMatrixParser(n,t)}catch(l){o=l}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,t);return i.setOther(new h0(!0)),i}catch(l){throw o!==null?o:l}},r.prototype.decodeBitMatrixParser=function(e,t){var n,o,i,l,u=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),d=e.readCodewords(),h=hw.getDataBlocks(d,u,c),g=0;try{for(var y=l1(h),w=y.next();!w.done;w=y.next())g+=(N=w.value).getNumDataCodewords()}catch(F){n={error:F}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(n)throw n.error}}var _=new Uint8Array(g),E=0;try{for(var S=l1(h),T=S.next();!T.done;T=S.next()){var N,b=(N=T.value).getCodewords(),R=N.getNumDataCodewords();this.correctErrors(b,R);for(var B=0;B<R;B++)_[E++]=b[B]}}catch(F){i={error:F}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(i)throw i.error}}return pw.decode(_,u,c,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new vt}for(var o=0;o<t;o++)e[o]=n[o]},r})(),yw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),mw=(function(r){function e(t,n,o){var i=r.call(this,t,n)||this;return i.estimatedModuleSize=o,i}return yw(e,r),e.prototype.aboutEquals=function(t,n,o){if(Math.abs(n-this.getY())<=t&&Math.abs(o-this.getX())<=t){var i=Math.abs(t-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,o){return new e((this.getX()+n)/2,(this.getY()+t)/2,(this.estimatedModuleSize+o)/2)},e})(re),vw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ww=(function(){function r(e,t,n,o,i,l,u){this.image=e,this.startX=t,this.startY=n,this.width=o,this.height=i,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=e+this.width,o=this.startY+t/2,i=new Int32Array(3),l=this.image,u=0;u<t;u++){var c=o+((1&u)==0?Math.floor((u+1)/2):-Math.floor((u+1)/2));i[0]=0,i[1]=0,i[2]=0;for(var d=e;d<n&&!l.get(d,c);)d++;for(var h=0;d<n;){if(l.get(d,c))if(h===1)i[1]++;else if(h===2){var g;if(this.foundPatternCross(i)&&(g=this.handlePossibleCenter(i,c,d))!==null)return g;i[0]=i[2],i[1]=1,i[2]=0,h=1}else i[++h]++;else h===1&&h++,i[h]++;d++}if(this.foundPatternCross(i)&&(g=this.handlePossibleCenter(i,c,n))!==null)return g}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,o=0;o<3;o++)if(Math.abs(t-e[o])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,o){var i=this.image,l=i.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=e;c>=0&&i.get(t,c)&&u[1]<=n;)u[1]++,c--;if(c<0||u[1]>n)return NaN;for(;c>=0&&!i.get(t,c)&&u[0]<=n;)u[0]++,c--;if(u[0]>n)return NaN;for(c=e+1;c<l&&i.get(t,c)&&u[1]<=n;)u[1]++,c++;if(c===l||u[1]>n)return NaN;for(;c<l&&!i.get(t,c)&&u[2]<=n;)u[2]++,c++;if(u[2]>n)return NaN;var d=u[0]+u[1]+u[2];return 5*Math.abs(d-o)>=2*o?NaN:this.foundPatternCross(u)?r.centerFromEnd(u,c):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var o,i,l=e[0]+e[1]+e[2],u=r.centerFromEnd(e,n),c=this.crossCheckVertical(t,u,2*e[1],l);if(!isNaN(c)){var d=(e[0]+e[1]+e[2])/3;try{for(var h=vw(this.possibleCenters),g=h.next();!g.done;g=h.next()){var y=g.value;if(y.aboutEquals(d,c,u))return y.combineEstimate(c,u,d)}}catch(_){o={error:_}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}var w=new mw(u,c,d);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null},r})(),_w=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Cw=(function(r){function e(t,n,o,i){var l=r.call(this,t,n)||this;return l.estimatedModuleSize=o,l.count=i,i===void 0&&(l.count=1),l}return _w(e,r),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,o){if(Math.abs(n-this.getY())<=t&&Math.abs(o-this.getX())<=t){var i=Math.abs(t-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,o){var i=this.count+1;return new e((this.count*this.getX()+n)/i,(this.count*this.getY()+t)/i,(this.count*this.estimatedModuleSize+o)/i,i)},e})(re),Ew=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),hi=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sw=(function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(Ze.TRY_HARDER)!==void 0,n=e!=null&&e.get(Ze.PURE_BARCODE)!==void 0,o=this.image,i=o.getHeight(),l=o.getWidth(),u=Math.floor(3*i/(4*r.MAX_MODULES));(u<r.MIN_SKIP||t)&&(u=r.MIN_SKIP);for(var c=!1,d=new Int32Array(5),h=u-1;h<i&&!c;h+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var g=0,y=0;y<l;y++)if(o.get(y,h))(1&g)==1&&g++,d[g]++;else if((1&g)==0)if(g===4)if(r.foundPatternCross(d)){if(this.handlePossibleCenter(d,h,y,n)!==!0){d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,g=3;continue}if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var w=this.findRowSkip();w>d[2]&&(h+=w-d[2]-u,y=l-1)}g=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,g=3;else d[++g]++;else d[g]++;r.foundPatternCross(d)&&this.handlePossibleCenter(d,h,l,n)===!0&&(u=d[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}var _=this.selectBestPatterns();return re.orderBestPatterns(_),new Ew(_)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var o=e[n];if(o===0)return!1;t+=o}if(t<7)return!1;var i=t/7,l=i/2;return Math.abs(i-e[0])<l&&Math.abs(i-e[1])<l&&Math.abs(3*i-e[2])<3*l&&Math.abs(i-e[3])<l&&Math.abs(i-e[4])<l},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,o){for(var i=this.getCrossCheckStateCount(),l=0,u=this.image;e>=l&&t>=l&&u.get(t-l,e-l);)i[2]++,l++;if(e<l||t<l)return!1;for(;e>=l&&t>=l&&!u.get(t-l,e-l)&&i[1]<=n;)i[1]++,l++;if(e<l||t<l||i[1]>n)return!1;for(;e>=l&&t>=l&&u.get(t-l,e-l)&&i[0]<=n;)i[0]++,l++;if(i[0]>n)return!1;var c=u.getHeight(),d=u.getWidth();for(l=1;e+l<c&&t+l<d&&u.get(t+l,e+l);)i[2]++,l++;if(e+l>=c||t+l>=d)return!1;for(;e+l<c&&t+l<d&&!u.get(t+l,e+l)&&i[3]<n;)i[3]++,l++;if(e+l>=c||t+l>=d||i[3]>=n)return!1;for(;e+l<c&&t+l<d&&u.get(t+l,e+l)&&i[4]<n;)i[4]++,l++;if(i[4]>=n)return!1;var h=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(h-o)<2*o&&r.foundPatternCross(i)},r.prototype.crossCheckVertical=function(e,t,n,o){for(var i=this.image,l=i.getHeight(),u=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(t,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(t,c)&&u[1]<=n;)u[1]++,c--;if(c<0||u[1]>n)return NaN;for(;c>=0&&i.get(t,c)&&u[0]<=n;)u[0]++,c--;if(u[0]>n)return NaN;for(c=e+1;c<l&&i.get(t,c);)u[2]++,c++;if(c===l)return NaN;for(;c<l&&!i.get(t,c)&&u[3]<n;)u[3]++,c++;if(c===l||u[3]>=n)return NaN;for(;c<l&&i.get(t,c)&&u[4]<n;)u[4]++,c++;if(u[4]>=n)return NaN;var d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-o)>=2*o?NaN:r.foundPatternCross(u)?r.centerFromEnd(u,c):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,o){for(var i=this.image,l=i.getWidth(),u=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(c,t);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,t)&&u[1]<=n;)u[1]++,c--;if(c<0||u[1]>n)return NaN;for(;c>=0&&i.get(c,t)&&u[0]<=n;)u[0]++,c--;if(u[0]>n)return NaN;for(c=e+1;c<l&&i.get(c,t);)u[2]++,c++;if(c===l)return NaN;for(;c<l&&!i.get(c,t)&&u[3]<n;)u[3]++,c++;if(c===l||u[3]>=n)return NaN;for(;c<l&&i.get(c,t)&&u[4]<n;)u[4]++,c++;if(u[4]>=n)return NaN;var d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-o)>=o?NaN:r.foundPatternCross(u)?r.centerFromEnd(u,c):NaN},r.prototype.handlePossibleCenter=function(e,t,n,o){var i=e[0]+e[1]+e[2]+e[3]+e[4],l=r.centerFromEnd(e,n),u=this.crossCheckVertical(t,Math.floor(l),e[2],i);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],i),!isNaN(l)&&(!o||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],i)))){for(var c=i/7,d=!1,h=this.possibleCenters,g=0,y=h.length;g<y;g++){var w=h[g];if(w.aboutEquals(c,u,l)){h[g]=w.combineEstimate(u,l,c),d=!0;break}}if(!d){var _=new Cw(l,u,c);h.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t;if(this.possibleCenters.length<=1)return 0;var n=null;try{for(var o=hi(this.possibleCenters),i=o.next();!i.done;i=o.next()){var l=i.value;if(l.getCount()>=r.CENTER_QUORUM){if(n!=null)return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-l.getX())-Math.abs(n.getY()-l.getY()))/2);n=l}}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,o,i=0,l=0,u=this.possibleCenters.length;try{for(var c=hi(this.possibleCenters),d=c.next();!d.done;d=c.next())(_=d.value).getCount()>=r.CENTER_QUORUM&&(i++,l+=_.getEstimatedModuleSize())}catch(E){e={error:E}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(i<3)return!1;var h=l/u,g=0;try{for(var y=hi(this.possibleCenters),w=y.next();!w.done;w=y.next()){var _=w.value;g+=Math.abs(_.getEstimatedModuleSize()-h)}}catch(E){n={error:E}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(n)throw n.error}}return g<=.05*l},r.prototype.selectBestPatterns=function(){var e,t,n,o,i=this.possibleCenters.length;if(i<3)throw new U;var l,u=this.possibleCenters;if(i>3){var c=0,d=0;try{for(var h=hi(this.possibleCenters),g=h.next();!g.done;g=h.next()){var y=g.value.getEstimatedModuleSize();c+=y,d+=y*y}}catch(b){e={error:b}}finally{try{g&&!g.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}l=c/i;var w=Math.sqrt(d/i-l*l);u.sort((function(b,R){var B=Math.abs(R.getEstimatedModuleSize()-l),F=Math.abs(b.getEstimatedModuleSize()-l);return B<F?-1:B>F?1:0}));for(var _=Math.max(.2*l,w),E=0;E<u.length&&u.length>3;E++){var S=u[E];Math.abs(S.getEstimatedModuleSize()-l)>_&&(u.splice(E,1),E--)}}if(u.length>3){c=0;try{for(var T=hi(u),N=T.next();!N.done;N=T.next())c+=N.value.getEstimatedModuleSize()}catch(b){n={error:b}}finally{try{N&&!N.done&&(o=T.return)&&o.call(T)}finally{if(n)throw n.error}}l=c/u.length,u.sort((function(b,R){if(R.getCount()===b.getCount()){var B=Math.abs(R.getEstimatedModuleSize()-l),F=Math.abs(b.getEstimatedModuleSize()-l);return B<F?1:B>F?-1:0}return R.getCount()-b.getCount()})),u.splice(3)}return[u[0],u[1],u[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),Aw=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ze.NEED_RESULT_POINT_CALLBACK);var t=new Sw(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),o=e.getBottomLeft(),i=this.calculateModuleSize(t,n,o);if(i<1)throw new U("No pattern found in proccess finder.");var l=r.computeDimension(t,n,o,i),u=ta.getProvisionalVersionForDimension(l),c=u.getDimensionForVersion()-7,d=null;if(u.getAlignmentPatternCenters().length>0)for(var h=n.getX()-t.getX()+o.getX(),g=n.getY()-t.getY()+o.getY(),y=1-3/c,w=Math.floor(t.getX()+y*(h-t.getX())),_=Math.floor(t.getY()+y*(g-t.getY())),E=4;E<=16;E<<=1)try{d=this.findAlignmentInRegion(i,w,_,E);break}catch(N){if(!(N instanceof U))throw N}var S=r.createTransform(t,n,o,d,l),T=r.sampleGrid(this.image,S,l);return new oc(T,d===null?[o,t,n]:[o,t,n,d])},r.createTransform=function(e,t,n,o,i){var l,u,c,d,h=i-3.5;return o!==null?(l=o.getX(),u=o.getY(),d=c=h-3):(l=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),c=h,d=h),a0.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,c,d,3.5,h,e.getX(),e.getY(),t.getX(),t.getY(),l,u,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){return ic.getInstance().sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,o){var i=be.round(re.distance(e,t)/o),l=be.round(re.distance(e,n)/o),u=Math.floor((i+l)/2)+7;switch(3&u){case 0:u++;break;case 2:u--;break;case 3:throw new U("Dimensions could be not found.")}return u},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?o/7:isNaN(o)?n/7:(n+o)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,o){var i=this.sizeOfBlackWhiteBlackRun(e,t,n,o),l=1,u=e-(n-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var c=Math.floor(t-(o-t)*l);return l=1,c<0?(l=t/(t-c),c=0):c>=this.image.getHeight()&&(l=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),(i+=this.sizeOfBlackWhiteBlackRun(e,t,u,c))-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,o){var i=Math.abs(o-t)>Math.abs(n-e);if(i){var l=e;e=t,t=l,l=n,n=o,o=l}for(var u=Math.abs(n-e),c=Math.abs(o-t),d=-u/2,h=e<n?1:-1,g=t<o?1:-1,y=0,w=n+h,_=e,E=t;_!==w;_+=h){var S=i?E:_,T=i?_:E;if(y===1===this.image.get(S,T)){if(y===2)return be.distance(_,E,e,t);y++}if((d+=c)>0){if(E===o)break;E+=g,d-=u}}return y===2?be.distance(n+h,o,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,o){var i=Math.floor(o*e),l=Math.max(0,t-i),u=Math.min(this.image.getWidth()-1,t+i);if(u-l<3*e)throw new U("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),d=Math.min(this.image.getHeight()-1,n+i);if(d-c<3*e)throw new U("Alignment bottom exceeds estimated module size.");return new ww(this.image,l,c,u-l,d-c,e,this.resultPointCallback).find()},r})(),Wu=(function(){function r(){this.decoder=new gw}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,o;if(t!=null&&t.get(Ze.PURE_BARCODE)!==void 0){var i=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,t),o=r.NO_POINTS}else{var l=new Aw(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(l.getBits(),t),o=l.getPoints()}n.getOther()instanceof h0&&n.getOther().applyMirroredCorrection(o);var u=new Ot(n.getText(),n.getRawBytes(),void 0,o,oe.QR_CODE,void 0),c=n.getByteSegments();c!==null&&u.putMetadata(St.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!==null&&u.putMetadata(St.ERROR_CORRECTION_LEVEL,d),n.hasStructuredAppend()&&(u.putMetadata(St.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),u.putMetadata(St.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new U;var o=this.moduleSize(t,e),i=t[1],l=n[1],u=t[0],c=n[0];if(u>=c||i>=l)throw new U;if(l-i!=c-u&&(c=u+(l-i))>=e.getWidth())throw new U;var d=Math.round((c-u+1)/o),h=Math.round((l-i+1)/o);if(d<=0||h<=0)throw new U;if(h!==d)throw new U;var g=Math.floor(o/2);i+=g;var y=(u+=g)+Math.floor((d-1)*o)-c;if(y>0){if(y>g)throw new U;u-=y}var w=i+Math.floor((h-1)*o)-l;if(w>0){if(w>g)throw new U;i-=w}for(var _=new Dr(d,h),E=0;E<h;E++)for(var S=i+Math.floor(E*o),T=0;T<d;T++)e.get(u+Math.floor(T*o),S)&&_.set(T,E);return _},r.moduleSize=function(e,t){for(var n=t.getHeight(),o=t.getWidth(),i=e[0],l=e[1],u=!0,c=0;i<o&&l<n;){if(u!==t.get(i,l)){if(++c==5)break;u=!u}i++,l++}if(i===o||l===n)throw new U;return(i-e[0])/7},r.NO_POINTS=new Array,r})(),Iw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return be.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var o=new Int32Array(e.length),i=0;try{for(var l=Iw(e),u=l.next();!u.done;u=l.next()){var c=u.value;o[i++]=c}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return o},r.getCodeword=function(e){var t=wt.binarySearch(r.SYMBOL_TABLE,262143&e);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),bw=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),Tw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ow=(function(){function r(){}return r.detectMultiple=function(e,t,n){var o=e.getBlackMatrix(),i=r.detect(n,o);return i.length||((o=o.clone()).rotate180(),i=r.detect(n,o)),new bw(o,i)},r.detect=function(e,t){for(var n,o,i=new Array,l=0,u=0,c=!1;l<t.getHeight();){var d=r.findVertices(t,l,u);if(d[0]!=null||d[3]!=null){if(c=!0,i.push(d),!e)break;d[2]!=null?(u=Math.trunc(d[2].getX()),l=Math.trunc(d[2].getY())):(u=Math.trunc(d[4].getX()),l=Math.trunc(d[4].getY()))}else{if(!c)break;c=!1,u=0;try{for(var h=(n=void 0,Tw(i)),g=h.next();!g.done;g=h.next()){var y=g.value;y[1]!=null&&(l=Math.trunc(Math.max(l,y[1].getY()))),y[3]!=null&&(l=Math.max(l,Math.trunc(y[3].getY())))}}catch(w){n={error:w}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}l+=r.ROW_STEP}}return i},r.findVertices=function(e,t,n){var o=e.getHeight(),i=e.getWidth(),l=new Array(8);return r.copyToResult(l,r.findRowsWithPattern(e,o,i,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),l[4]!=null&&(n=Math.trunc(l[4].getX()),t=Math.trunc(l[4].getY())),r.copyToResult(l,r.findRowsWithPattern(e,o,i,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),l},r.copyToResult=function(e,t,n){for(var o=0;o<n.length;o++)e[n[o]]=t[o]},r.findRowsWithPattern=function(e,t,n,o,i,l){for(var u=new Array(4),c=!1,d=new Int32Array(l.length);o<t;o+=r.ROW_STEP)if((w=r.findGuardPattern(e,i,o,n,!1,l,d))!=null){for(;o>0;){if((y=r.findGuardPattern(e,i,--o,n,!1,l,d))==null){o++;break}w=y}u[0]=new re(w[0],o),u[1]=new re(w[1],o),c=!0;break}var h=o+1;if(c){for(var g=0,y=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);h<t;h++){var w;if((w=r.findGuardPattern(e,y[0],h,n,!1,l,d))!=null&&Math.abs(y[0]-w[0])<r.MAX_PATTERN_DRIFT&&Math.abs(y[1]-w[1])<r.MAX_PATTERN_DRIFT)y=w,g=0;else{if(g>r.SKIPPED_ROW_COUNT_MAX)break;g++}}h-=g+1,u[2]=new re(y[0],h),u[3]=new re(y[1],h)}return h-o<r.BARCODE_MIN_HEIGHT&&wt.fill(u,null),u},r.findGuardPattern=function(e,t,n,o,i,l,u){wt.fillWithin(u,0,u.length,0);for(var c=t,d=0;e.get(c,n)&&c>0&&d++<r.MAX_PIXEL_DRIFT;)c--;for(var h=c,g=0,y=l.length,w=i;h<o;h++)if(e.get(h,n)!==w)u[g]++;else{if(g===y-1){if(r.patternMatchVariance(u,l,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=u[0]+u[1],qe.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,w=!w}return g===y-1&&r.patternMatchVariance(u,l,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},r.patternMatchVariance=function(e,t,n){for(var o=e.length,i=0,l=0,u=0;u<o;u++)i+=e[u],l+=t[u];if(i<l)return 1/0;var c=i/l;n*=c;for(var d=0,h=0;h<o;h++){var g=e[h],y=t[h]*c,w=g>y?g-y:y-g;if(w>n)return 1/0;d+=w}return d/i},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),Nw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xn=(function(){function r(e,t){if(t.length===0)throw new fe;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var o=1;o<n&&t[o]===0;)o++;o===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-o),qe.arraycopy(t,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var o=0;try{for(var i=Nw(this.coefficients),l=i.next();!l.done;l=i.next()){var u=l.value;o=this.field.add(o,u)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}for(var c=this.coefficients[0],d=this.coefficients.length,h=1;h<d;h++)c=this.field.add(this.field.multiply(e,c),this.coefficients[h]);return c},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new fe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var o=t;t=n,n=o}var i=new Int32Array(n.length),l=n.length-t.length;qe.arraycopy(n,0,i,0,l);for(var u=l;u<n.length;u++)i[u]=this.field.add(t[u-l],n[u]);return new r(this.field,i)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new fe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new fe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,o=e.coefficients,i=o.length,l=new Int32Array(n+i-1),u=0;u<n;u++)for(var c=t[u],d=0;d<i;d++)l[u+d]=this.field.add(l[u+d],this.field.multiply(c,o[d]));return new r(this.field,l)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),o=0;o<t;o++)n[o]=this.field.multiply(this.coefficients[o],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new fe;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,o=new Int32Array(n+e),i=0;i<n;i++)o[i]=this.field.multiply(this.coefficients[i],t);return new r(this.field,o)},r.prototype.toString=function(){for(var e=new me,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),t!==0&&n===1||e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r})(),Rw=(function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new fe;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new s0;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),xw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),kw=(function(r){function e(t,n){var o=r.call(this)||this;o.modulus=t,o.expTable=new Int32Array(t),o.logTable=new Int32Array(t);for(var i=1,l=0;l<t;l++)o.expTable[l]=i,i=i*n%t;for(l=0;l<t-1;l++)o.logTable[o.expTable[l]]=l;return o.zero=new xn(o,new Int32Array([0])),o.one=new xn(o,new Int32Array([1])),o}return xw(e,r),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new fe;if(n===0)return this.zero;var o=new Int32Array(t+1);return o[0]=n,new xn(this,o)},e.PDF417_GF=new e(Ce.NUMBER_OF_CODEWORDS,3),e})(Rw),Pw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dw=(function(){function r(){this.field=kw.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var o,i,l=new xn(this.field,e),u=new Int32Array(t),c=!1,d=t;d>0;d--){var h=l.evaluateAt(this.field.exp(d));u[t-d]=h,h!==0&&(c=!0)}if(!c)return 0;var g=this.field.getOne();if(n!=null)try{for(var y=Pw(n),w=y.next();!w.done;w=y.next()){var _=w.value,E=this.field.exp(e.length-1-_),S=new xn(this.field,new Int32Array([this.field.subtract(0,E),1]));g=g.multiply(S)}}catch($){o={error:$}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}var T=new xn(this.field,u),N=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),T,t),b=N[0],R=N[1],B=this.findErrorLocations(b),F=this.findErrorMagnitudes(R,b,B);for(d=0;d<B.length;d++){var z=e.length-1-this.field.log(B[d]);if(z<0)throw vt.getChecksumInstance();e[z]=this.field.subtract(e[z],F[d])}return B.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var o=e;e=t,t=o}for(var i=e,l=t,u=this.field.getZero(),c=this.field.getOne();l.getDegree()>=Math.round(n/2);){var d=i,h=u;if(u=c,(i=l).isZero())throw vt.getChecksumInstance();l=d;for(var g=this.field.getZero(),y=i.getCoefficient(i.getDegree()),w=this.field.inverse(y);l.getDegree()>=i.getDegree()&&!l.isZero();){var _=l.getDegree()-i.getDegree(),E=this.field.multiply(l.getCoefficient(l.getDegree()),w);g=g.add(this.field.buildMonomial(_,E)),l=l.subtract(i.multiplyByMonomial(_,E))}c=g.multiply(u).subtract(h).negative()}var S=c.getCoefficient(0);if(S===0)throw vt.getChecksumInstance();var T=this.field.inverse(S);return[c.multiply(T),l.multiply(T)]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),o=0,i=1;i<this.field.getSize()&&o<t;i++)e.evaluateAt(i)===0&&(n[o]=this.field.inverse(i),o++);if(o!==t)throw vt.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var o=t.getDegree(),i=new Int32Array(o),l=1;l<=o;l++)i[o-l]=this.field.multiply(l,t.getCoefficient(l));var u=new xn(this.field,i),c=n.length,d=new Int32Array(c);for(l=0;l<c;l++){var h=this.field.inverse(n[l]),g=this.field.subtract(0,e.evaluateAt(h)),y=this.field.inverse(u.evaluateAt(h));d[l]=this.field.multiply(g,y)}return d},r})(),$u=(function(){function r(e,t,n,o,i){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,o,i)}return r.prototype.constructor_1=function(e,t,n,o,i){var l=t==null||n==null,u=o==null||i==null;if(l&&u)throw new U;l?(t=new re(0,o.getY()),n=new re(0,i.getY())):u&&(o=new re(e.getWidth()-1,t.getY()),i=new re(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=o,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(o.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),o.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var o=this.topLeft,i=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,d=Math.trunc(c.getY()-e);d<0&&(d=0);var h=new re(c.getX(),d);n?o=h:l=h}if(t>0){var g=n?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var w=new re(g.getX(),y);n?i=w:u=w}return new r(this.image,o,i,l,u)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),Mw=(function(){function r(e,t,n,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),ac=(function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(o,i,l,u,c,d){if(o==="%%")return"%";if(t[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h,g=c?parseInt(c.substr(1)):void 0;switch(d){case"s":h=t[n];break;case"c":h=t[n][0];break;case"f":h=parseFloat(t[n]).toFixed(o);break;case"p":h=parseFloat(t[n]).toPrecision(o);break;case"e":h=parseFloat(t[n]).toExponential(o);break;case"x":h=parseInt(t[n]).toString(g||16);break;case"d":h=parseFloat(parseInt(t[n],g||10).toPrecision(o)).toFixed(0)}h=typeof h=="object"?JSON.stringify(h):(+h).toString(g);for(var y=parseInt(l),w=l&&l[0]+""=="0"?"0":" ";h.length<y;)h=i!==void 0?h+w:w+h;return h}}))},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r})(),Lw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p0=(function(){function r(e){this.boundingBox=new $u(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var o=this.imageRowToCodewordIndex(e)-n;if(o>=0&&(t=this.codewords[o])!=null||(o=this.imageRowToCodewordIndex(e)+n)<this.codewords.length&&(t=this.codewords[o])!=null)return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new ac,o=0;try{for(var i=Lw(this.codewords),l=i.next();!l.done;l=i.next()){var u=l.value;u!=null?n.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue()):n.format("%3d:    |   %n",o++)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),Bw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jw=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,o,i=t.call(r),l=[];try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)l.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return l},vi=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,o=new Array,i=function(d,h){var g=function(){return d},y=function(){return h};y()>n?(n=y(),(o=[]).push(g())):y()===n&&o.push(g())};try{for(var l=Bw(this.values.entries()),u=l.next();!u.done;u=l.next()){var c=jw(u.value,2);i(c[0],c[1])}}catch(d){e={error:d}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return Ce.toIntArray(o)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),Fw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Cu=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u1=(function(r){function e(t,n){var o=r.call(this,t)||this;return o._isLeft=n,o}return Fw(e,r),e.prototype.setRowNumbers=function(){var t,n;try{for(var o=Cu(this.getCodewords()),i=o.next();!i.done;i=o.next()){var l=i.value;l?.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var o=this.getBoundingBox(),i=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=-1,h=1,g=0,y=u;y<c;y++)if(n[y]!=null){var w=n[y],_=w.getRowNumber()-d;if(_===0)g++;else if(_===1)h=Math.max(h,g),g=1,d=w.getRowNumber();else if(_<0||w.getRowNumber()>=t.getRowCount()||_>y)n[y]=null;else{for(var E=void 0,S=(E=h>2?(h-2)*_:_)>=y,T=1;T<=E&&!S;T++)S=n[y-T]!=null;S?n[y]=null:(d=w.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,n,o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);var i=new Int32Array(o.getRowCount());try{for(var l=Cu(this.getCodewords()),u=l.next();!u.done;u=l.next()){var c=u.value;if(c!=null){var d=c.getRowNumber();if(d>=i.length)continue;i[d]++}}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),o=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),d=-1,h=l;h<u;h++)if(c[h]!=null){var g=c[h];g.setRowNumberAsRowIndicatorColumn();var y=g.getRowNumber()-d;y===0||(y===1?d=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?c[h]=null:d=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,o=this.getCodewords(),i=new vi,l=new vi,u=new vi,c=new vi;try{for(var d=Cu(o),h=d.next();!h.done;h=d.next()){var g=h.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var y=g.getValue()%30,w=g.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:l.setValue(3*y+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:i.setValue(y+1)}}}}catch(E){t={error:E}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}if(i.getValue().length===0||l.getValue().length===0||u.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;var _=new Mw(i.getValue()[0],l.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(o,_),_},e.prototype.removeIncorrectCodewords=function(t,n){for(var o=0;o<t.length;o++){var i=t[o];if(t[o]!=null){var l=i.getValue()%30,u=i.getRowNumber();if(u>n.getRowCount())t[o]=null;else switch(this._isLeft||(u+=2),u%3){case 0:3*l+1!==n.getRowCountUpperPart()&&(t[o]=null);break;case 1:Math.trunc(l/3)===n.getErrorCorrectionLevel()&&l%3===n.getRowCountLowerPart()||(t[o]=null);break;case 2:l+1!==n.getColumnCount()&&(t[o]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(p0),Uw=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zw=(function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=Ce.MAX_CODEWORDS_IN_BARCODE;do e=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<e);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),o=0;o<n.length;o++)n[o]!=null&&(n[o].hasValidRowNumber()||this.adjustRowNumbers(t,o,n));return e},r.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(this.detectionResultColumns[0]!=null&&this.detectionResultColumns[this.barcodeColumnCount+1]!=null){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var o=1;o<=this.barcodeColumnCount;o++){var i=this.detectionResultColumns[o].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var o=t[n].getRowNumber(),i=0,l=this.barcodeColumnCount+1;l>0&&i<this.ADJUST_ROW_NUMBER_SKIP;l--){var u=this.detectionResultColumns[l].getCodewords()[n];u!=null&&(i=r.adjustRowNumberIfValid(o,i,u),u.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var o=t[n].getRowNumber(),i=0,l=1;l<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;l++){var u=this.detectionResultColumns[l].getCodewords()[n];u!=null&&(i=r.adjustRowNumberIfValid(o,i,u),u.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var o,i;if(this.detectionResultColumns[e-1]!=null){var l=n[t],u=this.detectionResultColumns[e-1].getCodewords(),c=u;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var d=new Array(14);d[2]=u[t],d[3]=c[t],t>0&&(d[0]=n[t-1],d[4]=u[t-1],d[5]=c[t-1]),t>1&&(d[8]=n[t-2],d[10]=u[t-2],d[11]=c[t-2]),t<n.length-1&&(d[1]=n[t+1],d[6]=u[t+1],d[7]=c[t+1]),t<n.length-2&&(d[9]=n[t+2],d[12]=u[t+2],d[13]=c[t+2]);try{for(var h=Uw(d),g=h.next();!g.done;g=h.next()){var y=g.value;if(r.adjustRowNumber(l,y))return}}catch(w){o={error:w}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}}},r.adjustRowNumber=function(e,t){return t!=null&&!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0)},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new ac,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var o=0;o<this.barcodeColumnCount+2;o++)if(this.detectionResultColumns[o]!=null){var i=this.detectionResultColumns[o].getCodewords()[n];i!=null?t.format(" %3d|%3d",i.getRowNumber(),i.getValue()):t.format("    |   ")}else t.format("    |   ");t.format("%n")}return t.toString()},r})(),Hw=(function(){function r(e,t,n,o){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(o)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),Vw=(function(){function r(){}return r.initialize=function(){for(var e=0;e<Ce.SYMBOL_TABLE.length;e++)for(var t=Ce.SYMBOL_TABLE[e],n=1&t,o=0;o<Ce.BARS_IN_MODULE;o++){for(var i=0;(1&t)===n;)i+=1,t>>=1;n=1&t,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Ce.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Ce.BARS_IN_MODULE-o-1]=Math.fround(i/Ce.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=be.sum(e),n=new Int32Array(Ce.BARS_IN_MODULE),o=0,i=0,l=0;l<Ce.MODULES_IN_CODEWORD;l++){var u=t/(2*Ce.MODULES_IN_CODEWORD)+l*t/Ce.MODULES_IN_CODEWORD;i+e[o]<=u&&(i+=e[o],o++),n[o]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Ce.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var o=0;o<e[n];o++)t=t<<1|(n%2==0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=be.sum(e),n=new Array(Ce.BARS_IN_MODULE);if(t>1)for(var o=0;o<n.length;o++)n[o]=Math.fround(e[o]/t);var i=Fu.MAX_VALUE,l=-1;this.bSymbolTableReady||r.initialize();for(var u=0;u<r.RATIOS_TABLE.length;u++){for(var c=0,d=r.RATIOS_TABLE[u],h=0;h<Ce.BARS_IN_MODULE;h++){var g=Math.fround(d[h]-n[h]);if((c+=Math.fround(g*g))>=i)break}c<i&&(i=c,l=Ce.SYMBOL_TABLE[u])}return l},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map((function(e){return new Array(Ce.BARS_IN_MODULE)})),r})(),Ww=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),c1=(function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r})(),$w=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Gw=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return $w(e,r),e.kind="NullPointerException",e})(Ht),Xw=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new Gw;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new rc;if(n!==0)for(var o=0;o<n;o++)this.write(e[t+o])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),qw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Yw=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return qw(e,r),e})(Ht),Kw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Qw=(function(r){function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new fe("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return Kw(e,r),e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length<<1;if(n-t<0&&(n=t),n<0){if(t<0)throw new Yw;n=ot.MAX_VALUE}this.buf=wt.copyOfUint8Array(this.buf,n)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,o){if(n<0||n>t.length||o<0||n+o-t.length>0)throw new rc;this.ensureCapacity(this.count+o),qe.arraycopy(t,n,this.buf,this.count,o),this.count+=o},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return wt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e})(Xw);function g0(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function nn(r){if(Qs===void 0&&(Qs=g0()),Qs===null)throw new Error("BigInt is not supported!");return Qs(r)}(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fe||(Fe={}));var Zw=(function(){function r(){}return r.decode=function(e,t){var n=new me(""),o=Dt.ISO8859_1;n.enableDecoding(o);for(var i=1,l=e[i++],u=new Ww;i<e[0];){switch(l){case r.TEXT_COMPACTION_MODE_LATCH:i=r.textCompaction(e,i,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:i=r.byteCompaction(l,e,o,i,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:i=r.numericCompaction(e,i,n);break;case r.ECI_CHARSET:Dt.getCharacterSetECIByValue(e[i++]);break;case r.ECI_GENERAL_PURPOSE:i+=2;break;case r.ECI_USER_DEFINED:i++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=r.decodeMacroBlock(e,i,u);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new Y;default:i--,i=r.textCompaction(e,i,n)}if(!(i<e.length))throw Y.getFormatInstance();l=e[i++]}if(n.length()===0)throw Y.getFormatInstance();var c=new ua(null,n.toString(),null,t);return c.setOther(u),c},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Y.getFormatInstance();for(var o=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<r.NUMBER_OF_SEQUENCE_CODEWORDS;i++,t++)o[i]=e[t];n.setSegmentIndex(ot.parseInt(r.decodeBase900toBase10(o,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var l=new me;t=r.textCompaction(e,t,l),n.setFileId(l.toString());var u=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new me;t=r.textCompaction(e,t+1,c),n.setFileName(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var d=new me;t=r.textCompaction(e,t+1,d),n.setSender(d.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new me;t=r.textCompaction(e,t+1,h),n.setAddressee(h.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new me;t=r.numericCompaction(e,t+1,g),n.setSegmentCount(ot.parseInt(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new me;t=r.numericCompaction(e,t+1,y),n.setTimestamp(c1.parseLong(y.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var w=new me;t=r.numericCompaction(e,t+1,w),n.setChecksum(ot.parseInt(w.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new me;t=r.numericCompaction(e,t+1,_),n.setFileSize(c1.parseLong(_.toString()));break;default:throw Y.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(u!==-1){var E=t-u;n.isLastSegment()&&E--,n.setOptionalData(wt.copyOfRange(e,u,u+E))}return t},r.textCompaction=function(e,t,n){for(var o=new Int32Array(2*(e[0]-t)),i=new Int32Array(2*(e[0]-t)),l=0,u=!1;t<e[0]&&!u;){var c=e[t++];if(c<r.TEXT_COMPACTION_MODE_LATCH)o[l]=c/30,o[l+1]=c%30,l+=2;else switch(c){case r.TEXT_COMPACTION_MODE_LATCH:o[l++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[l]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],i[l]=c,l++}}return r.decodeTextCompaction(o,i,l,n),t},r.decodeTextCompaction=function(e,t,n,o){for(var i=Fe.ALPHA,l=Fe.ALPHA,u=0;u<n;){var c=e[u],d="";switch(i){case Fe.ALPHA:if(c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case r.LL:i=Fe.LOWER;break;case r.ML:i=Fe.MIXED;break;case r.PS:l=i,i=Fe.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.LOWER:if(c<26)d=String.fromCharCode(97+c);else switch(c){case 26:d=" ";break;case r.AS:l=i,i=Fe.ALPHA_SHIFT;break;case r.ML:i=Fe.MIXED;break;case r.PS:l=i,i=Fe.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.MIXED:if(c<r.PL)d=r.MIXED_CHARS[c];else switch(c){case r.PL:i=Fe.PUNCT;break;case 26:d=" ";break;case r.LL:i=Fe.LOWER;break;case r.AL:i=Fe.ALPHA;break;case r.PS:l=i,i=Fe.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.PUNCT:if(c<r.PAL)d=r.PUNCT_CHARS[c];else switch(c){case r.PAL:i=Fe.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.ALPHA_SHIFT:if(i=l,c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}break;case Fe.PUNCT_SHIFT:if(i=l,c<r.PAL)d=r.PUNCT_CHARS[c];else switch(c){case r.PAL:i=Fe.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[u]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA}}d!==""&&o.append(d),u++}},r.byteCompaction=function(e,t,n,o,i){var l=new Qw,u=0,c=0,d=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),g=t[o++];o<t[0]&&!d;)switch(h[u++]=g,c=900*c+g,g=t[o++]){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:o--,d=!0;break;default:if(u%5==0&&u>0){for(var y=0;y<6;++y)l.write(Number(nn(c)>>nn(8*(5-y))));c=0,u=0}}o===t[0]&&g<r.TEXT_COMPACTION_MODE_LATCH&&(h[u++]=g);for(var w=0;w<u;w++)l.write(h[w]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;o<t[0]&&!d;){var _=t[o++];if(_<r.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+_;else switch(_){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:o--,d=!0}if(u%5==0&&u>0){for(y=0;y<6;++y)l.write(Number(nn(c)>>nn(8*(5-y))));c=0,u=0}}}return i.append(Pr.decode(l.toByteArray(),n)),o},r.numericCompaction=function(e,t,n){for(var o=0,i=!1,l=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!i;){var u=e[t++];if(t===e[0]&&(i=!0),u<r.TEXT_COMPACTION_MODE_LATCH)l[o]=u,o++;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,i=!0}(o%r.MAX_NUMERIC_CODEWORDS==0||u===r.NUMERIC_COMPACTION_MODE_LATCH||i)&&o>0&&(n.append(r.decodeBase900toBase10(l,o)),o=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=nn(0),o=0;o<t;o++)n+=r.EXP900[t-o-1]*nn(e[o]);var i=n.toString();if(i.charAt(0)!=="1")throw new Y;return i.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=g0()?(function(){var e=[];e[0]=nn(1);var t=nn(900);e[1]=t;for(var n=2;n<16;n++)e[n]=e[n-1]*t;return e})():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),pi=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jw=(function(){function r(){}return r.decode=function(e,t,n,o,i,l,u){for(var c,d=new $u(e,t,n,o,i),h=null,g=null,y=!0;;y=!1){if(t!=null&&(h=r.getRowIndicatorColumn(e,d,t,!0,l,u)),o!=null&&(g=r.getRowIndicatorColumn(e,d,o,!1,l,u)),(c=r.merge(h,g))==null)throw U.getNotFoundInstance();var w=c.getBoundingBox();if(!y||w==null||!(w.getMinY()<d.getMinY()||w.getMaxY()>d.getMaxY()))break;d=w}c.setBoundingBox(d);var _=c.getBarcodeColumnCount()+1;c.setDetectionResultColumn(0,h),c.setDetectionResultColumn(_,g);for(var E=h!=null,S=1;S<=_;S++){var T=E?S:_-S;if(c.getDetectionResultColumn(T)===void 0){var N=void 0;N=T===0||T===_?new u1(d,T===0):new p0(d),c.setDetectionResultColumn(T,N);for(var b=-1,R=b,B=d.getMinY();B<=d.getMaxY();B++){if((b=r.getStartColumn(c,T,B,E))<0||b>d.getMaxX()){if(R===-1)continue;b=R}var F=r.detectCodeword(e,d.getMinX(),d.getMaxX(),E,b,B,l,u);F!=null&&(N.setCodeword(B,F),R=b,l=Math.min(l,F.getWidth()),u=Math.max(u,F.getWidth()))}}}return r.createDecoderResult(c)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var o=$u.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new zw(n,o)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var o=e.getRowHeights();if(o==null)return null;var i=r.getMax(o),l=0;try{for(var u=pi(o),c=u.next();!c.done;c=u.next()){var d=c.value;if(l+=i-d,d>0)break}}catch(w){t={error:w}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}for(var h=e.getCodewords(),g=0;l>0&&h[g]==null;g++)l--;var y=0;for(g=o.length-1;g>=0&&(y+=i-o[g],!(o[g]>0));g--);for(g=h.length-1;y>0&&h[g]==null;g--)y--;return e.getBoundingBox().addMissingRows(l,y,e.isLeft())},r.getMax=function(e){var t,n,o=-1;try{for(var i=pi(e),l=i.next();!l.done;l=i.next()){var u=l.value;o=Math.max(o,u)}}catch(c){t={error:c}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},r.getBarcodeMetadata=function(e,t){var n,o;return e==null||(n=e.getBarcodeMetadata())==null?t==null?null:t.getBarcodeMetadata():t==null||(o=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==o.getColumnCount()&&n.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&n.getRowCount()!==o.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,o,i,l){for(var u=new u1(t,o),c=0;c<2;c++)for(var d=c===0?1:-1,h=Math.trunc(Math.trunc(n.getX())),g=Math.trunc(Math.trunc(n.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=d){var y=r.detectCodeword(e,0,e.getWidth(),o,h,g,i,l);y!=null&&(u.setCodeword(g,y),h=o?y.getStartX():y.getEndX())}return u},r.adjustCodewordCount=function(e,t){var n=t[0][1],o=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(i<1||i>Ce.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();n.setValue(i)}else o[0]!==i&&n.setValue(i)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],l=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var c=0;c<e.getBarcodeColumnCount();c++){var d=t[u][c+1].getValue(),h=u*e.getBarcodeColumnCount()+c;d.length===0?n.push(h):d.length===1?o[h]=d[0]:(l.push(h),i.push(d))}for(var g=new Array(i.length),y=0;y<g.length;y++)g[y]=i[y];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Ce.toIntArray(n),Ce.toIntArray(l),g)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,o,i){for(var l=new Int32Array(o.length),u=100;u-- >0;){for(var c=0;c<l.length;c++)t[o[c]]=i[c][l[c]];try{return r.decodeCodewords(t,e,n)}catch(d){if(!(d instanceof vt))throw d}if(l.length===0)throw vt.getChecksumInstance();for(c=0;c<l.length;c++){if(l[c]<i[c].length-1){l[c]++;break}if(l[c]=0,c===l.length-1)throw vt.getChecksumInstance()}}throw vt.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,o,i,l=Array.from({length:e.getBarcodeRowCount()},(function(){return new Array(e.getBarcodeColumnCount()+2)})),u=0;u<l.length;u++)for(var c=0;c<l[u].length;c++)l[u][c]=new vi;var d=0;try{for(var h=pi(e.getDetectionResultColumns()),g=h.next();!g.done;g=h.next()){var y=g.value;if(y!=null)try{for(var w=(o=void 0,pi(y.getCodewords())),_=w.next();!_.done;_=w.next()){var E=_.value;if(E!=null){var S=E.getRowNumber();if(S>=0){if(S>=l.length)continue;l[S][d].setValue(E.getValue())}}}}catch(T){o={error:T}}finally{try{_&&!_.done&&(i=w.return)&&i.call(w)}finally{if(o)throw o.error}}d++}}catch(T){t={error:T}}finally{try{g&&!g.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}return l},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,o){var i,l,u=o?1:-1,c=null;if(r.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodeword(n)),c!=null)return o?c.getEndX():c.getStartX();if((c=e.getDetectionResultColumn(t).getCodewordNearby(n))!=null)return o?c.getStartX():c.getEndX();if(r.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodewordNearby(n)),c!=null)return o?c.getEndX():c.getStartX();for(var d=0;r.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var h=(i=void 0,pi(e.getDetectionResultColumn(t).getCodewords())),g=h.next();!g.done;g=h.next()){var y=g.value;if(y!=null)return(o?y.getEndX():y.getStartX())+u*d*(y.getEndX()-y.getStartX())}}catch(w){i={error:w}}finally{try{g&&!g.done&&(l=h.return)&&l.call(h)}finally{if(i)throw i.error}}d++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,o,i,l,u,c){i=r.adjustCodewordStartColumn(e,t,n,o,i,l);var d,h=r.getModuleBitCount(e,t,n,o,i,l);if(h==null)return null;var g=be.sum(h);if(o)d=i+g;else{for(var y=0;y<h.length/2;y++){var w=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=w}i=(d=i)-g}if(!r.checkCodewordSkew(g,u,c))return null;var _=Vw.getDecodedValue(h),E=Ce.getCodeword(_);return E===-1?null:new Hw(i,d,r.getCodewordBucketNumber(_),E)},r.getModuleBitCount=function(e,t,n,o,i,l){for(var u=i,c=new Int32Array(8),d=0,h=o?1:-1,g=o;(o?u<n:u>=t)&&d<c.length;)e.get(u,l)===g?(c[d]++,u+=h):(d++,g=!g);return d===c.length||u===(o?n:t)&&d===c.length-1?c:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,o,i,l){for(var u=i,c=o?-1:1,d=0;d<2;d++){for(;(o?u>=t:u<n)&&o===e.get(u,l);){if(Math.abs(i-u)>r.CODEWORD_SKEW_SIZE)return i;u+=c}c=-c,o=!o}return u},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw Y.getFormatInstance();var o=1<<t+1,i=r.correctErrors(e,n,o);r.verifyCodewordCount(e,o);var l=Zw.decode(e,""+t);return l.setErrorsCorrected(i),l.setErasures(n.length),l},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw vt.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw Y.getFormatInstance();var n=e[0];if(n>e.length)throw Y.getFormatInstance();if(n===0){if(!(t<e.length))throw Y.getFormatInstance();e[0]=e.length-t}},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,o=t.length-1;!((1&e)!==n&&(n=1&e,--o<0));)t[o]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new ac,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var o=0;o<e[n].length;o++){var i=e[n][o];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Dw,r})(),e_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gu=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw U.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof Y||n instanceof vt?U.getNotFoundInstance():n}},r.decode=function(e,t,n){var o,i,l=new Array,u=Ow.detectMultiple(e,t,n);try{for(var c=e_(u.getPoints()),d=c.next();!d.done;d=c.next()){var h=d.value,g=Jw.decode(u.getBits(),h[4],h[5],h[6],h[7],r.getMinCodewordWidth(h),r.getMaxCodewordWidth(h)),y=new Ot(g.getText(),g.getRawBytes(),void 0,h,oe.PDF_417);y.putMetadata(St.ERROR_CORRECTION_LEVEL,g.getECLevel());var w=g.getOther();w!=null&&y.putMetadata(St.PDF417_EXTRA_METADATA,w),l.push(y)}}catch(_){o={error:_}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return l.map((function(_){return _}))},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?ot.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),t_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),f1=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return t_(e,r),e.kind="ReaderException",e})(Ht),d1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r_=(function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return this.readers!==null&&this.readers!==void 0||this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Ze.TRY_HARDER)!==void 0,n=e==null?null:e.get(Ze.POSSIBLE_FORMATS),o=new Array;if(n!=null){var i=n.some((function(l){return l===oe.UPC_A||l===oe.UPC_E||l===oe.EAN_13||l===oe.EAN_8||l===oe.CODABAR||l===oe.CODE_39||l===oe.CODE_93||l===oe.CODE_128||l===oe.ITF||l===oe.RSS_14||l===oe.RSS_EXPANDED}));i&&!t&&o.push(new mi(e)),n.includes(oe.QR_CODE)&&o.push(new Wu),n.includes(oe.DATA_MATRIX)&&o.push(new Vu),n.includes(oe.AZTEC)&&o.push(new zu),n.includes(oe.PDF_417)&&o.push(new Gu),i&&t&&o.push(new mi(e))}o.length===0&&(t||o.push(new mi(e)),o.push(new Wu),o.push(new Vu),o.push(new zu),o.push(new Gu),t&&o.push(new mi(e))),this.readers=o},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=d1(this.readers),o=n.next();!o.done;o=n.next())o.value.reset()}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new f1("No readers where selected, nothing can be read.");try{for(var o=d1(this.readers),i=o.next();!i.done;i=o.next()){var l=i.value;try{return l.decode(e,this.hints)}catch(u){if(u instanceof f1)continue}}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}throw new U("No MultiFormat Readers were able to detect the code.")},r})(),n_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),o_=(function(r){function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var o=new r_;return o.setHints(t),r.call(this,o,n)||this}return n_(e,r),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(bo),i_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t){return t===void 0&&(t=500),r.call(this,new Gu,t)||this}i_(e,r)})(bo);var h1,s_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t){return t===void 0&&(t=500),r.call(this,new Wu,t)||this}s_(e,r)})(bo),(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(h1||(h1={}));var a_=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),o=e.getWidth(),i=e.getHeight(),l=0;l<i-1;l++)for(var u=n[l],c=0;c<o-1;c++){var d=u[c];d===u[c+1]&&d===n[l+1][c]&&d===n[l+1][c+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),o=e.getWidth(),i=e.getHeight(),l=0;l<i;l++)for(var u=0;u<o;u++){var c=n[l];u+6<o&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(r.isWhiteHorizontal(c,u-4,u)||r.isWhiteHorizontal(c,u+7,u+11))&&t++,l+6<i&&n[l][u]===1&&n[l+1][u]===0&&n[l+2][u]===1&&n[l+3][u]===1&&n[l+4][u]===1&&n[l+5][u]===0&&n[l+6][u]===1&&(r.isWhiteVertical(n,u,l-4,l)||r.isWhiteVertical(n,u,l+7,l+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var o=t;o<n;o++)if(e[o]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,o){n=Math.max(n,0),o=Math.min(o,e.length);for(var i=n;i<o;i++)if(e[i][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),o=e.getWidth(),i=e.getHeight(),l=0;l<i;l++)for(var u=n[l],c=0;c<o;c++)u[c]===1&&t++;var d=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-d)/d)*r.N4},r.getDataMaskBit=function(e,t,n){var o,i;switch(e){case 0:o=n+t&1;break;case 1:o=1&n;break;case 2:o=t%3;break;case 3:o=(n+t)%3;break;case 4:o=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=(1&(i=n*t))+i%3;break;case 6:o=(1&(i=n*t))+i%3&1;break;case 7:o=(i=n*t)%3+(n+t&1)&1;break;default:throw new fe("Invalid mask pattern: "+e)}return o===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,o=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),l=e.getArray(),u=0;u<o;u++){for(var c=0,d=-1,h=0;h<i;h++){var g=t?l[u][h]:l[h][u];g===d?c++:(c>=5&&(n+=r.N1+(c-5)),c=1,d=g)}c>=5&&(n+=r.N1+(c-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),l_=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new me;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),u_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),bn=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return u_(e,r),e.kind="WriterException",e})(Ht);(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,o,i){r.clearMatrix(i),r.embedBasicPatterns(n,i),r.embedTypeInfo(t,o,i),r.maybeEmbedVersionInfo(n,i),r.embedDataBits(e,o,i)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var o=new Er;r.makeTypeInfoBits(e,t,o);for(var i=0,l=o.getSize();i<l;++i){var u=o.get(o.getSize()-1-i),c=r.TYPE_INFO_COORDINATES[i],d=c[0],h=c[1];if(n.setBoolean(d,h,u),i<8){var g=n.getWidth()-i-1,y=8;n.setBoolean(g,y,u)}else g=8,y=n.getHeight()-7+(i-8),n.setBoolean(g,y,u)}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new Er;r.makeVersionInfoBits(e,n);for(var o=17,i=0;i<6;++i)for(var l=0;l<3;++l){var u=n.get(o);o--,t.setBoolean(i,t.getHeight()-11+l,u),t.setBoolean(t.getHeight()-11+l,i,u)}}},r.embedDataBits=function(e,t,n){for(var o=0,i=-1,l=n.getWidth()-1,u=n.getHeight()-1;l>0;){for(l===6&&(l-=1);u>=0&&u<n.getHeight();){for(var c=0;c<2;++c){var d=l-c;if(r.isEmpty(n.get(d,u))){var h=void 0;o<e.getSize()?(h=e.get(o),++o):h=!1,t!==255&&a_.getDataMaskBit(t,d,u)&&(h=!h),n.setBoolean(d,u,h)}}u+=i}u+=i=-i,l-=2}if(o!==e.getSize())throw new bn("Not all bits consumed: "+o+"/"+e.getSize())},r.findMSBSet=function(e){return 32-ot.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new fe("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!l_.isValidMaskPattern(t))throw new bn("Invalid mask pattern");var o=e.getBits()<<3|t;n.appendBits(o,5);var i=r.calculateBCHCode(o,r.TYPE_INFO_POLY);n.appendBits(i,10);var l=new Er;if(l.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(l),n.getSize()!==15)throw new bn("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new bn("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new bn;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var o=0;o<8;++o){if(!r.isEmpty(n.get(e+o,t)))throw new bn;n.setNumber(e+o,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var o=0;o<7;++o){if(!r.isEmpty(n.get(e,t+o)))throw new bn;n.setNumber(e,t+o,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var o=0;o<5;++o)for(var i=r.POSITION_ADJUSTMENT_PATTERN[o],l=0;l<5;++l)n.setNumber(e+l,t+o,i[l])},r.embedPositionDetectionPattern=function(e,t,n){for(var o=0;o<7;++o)for(var i=r.POSITION_DETECTION_PATTERN[o],l=0;l<7;++l)n.setNumber(e+l,t+o,i[l])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e),r.embedHorizontalSeparationPattern(0,7,e),r.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),r.embedVerticalSeparationPattern(7,0,e),r.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),r.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,o=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,l=o.length;i!==l;i++){var u=o[i];if(u>=0)for(var c=0;c!==l;c++){var d=o[c];d>=0&&r.isEmpty(t.get(d,u))&&r.embedPositionAdjustmentPattern(d-2,u-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})();(function(){Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.UTF8.getName()})();var c_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t,n,o,i,l,u,c,d){var h=r.call(this,u,c)||this;if(h.yuvData=t,h.dataWidth=n,h.dataHeight=o,h.left=i,h.top=l,i+u>n||l+c>o)throw new fe("Crop rectangle does not fit within image data.");return d&&h.reverseHorizontal(u,c),h}c_(e,r),e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new fe("Requested row is outside the image: "+t);var o=this.getWidth();(n==null||n.length<o)&&(n=new Uint8ClampedArray(o));var i=(t+this.top)*this.dataWidth+this.left;return qe.arraycopy(this.yuvData,i,n,0,o),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var o=t*n,i=new Uint8ClampedArray(o),l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return qe.arraycopy(this.yuvData,l,i,0,o),i;for(var u=0;u<n;u++){var c=u*t;qe.arraycopy(this.yuvData,l,i,c,t),l+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,o,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,o,i,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*n),i=this.yuvData,l=this.top*this.dataWidth+this.left,u=0;u<n;u++){for(var c=u*t,d=0;d<t;d++){var h=255&i[l+d*e.THUMBNAIL_SCALE_FACTOR];o[c+d]=4278190080|65793*h}l+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return o},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var o=this.yuvData,i=0,l=this.top*this.dataWidth+this.left;i<n;i++,l+=this.dataWidth)for(var u=l+t/2,c=l,d=l+t-1;c<u;c++,d--){var h=o[c];o[c]=o[d],o[d]=h}},e.prototype.invert=function(){return new nc(this)},e.THUMBNAIL_SCALE_FACTOR=2})(la);var f_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t,n,o,i,l,u,c){var d=r.call(this,n,o)||this;if(d.dataWidth=i,d.dataHeight=l,d.left=u,d.top=c,t.BYTES_PER_ELEMENT===4){for(var h=n*o,g=new Uint8ClampedArray(h),y=0;y<h;y++){var w=t[y],_=w>>16&255,E=w>>7&510,S=255&w;g[y]=(_+E+S)/4&255}d.luminances=g}else d.luminances=t;if(i===void 0&&(d.dataWidth=n),l===void 0&&(d.dataHeight=o),u===void 0&&(d.left=0),c===void 0&&(d.top=0),d.left+n>d.dataWidth||d.top+o>d.dataHeight)throw new fe("Crop rectangle does not fit within image data.");return d}f_(e,r),e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new fe("Requested row is outside the image: "+t);var o=this.getWidth();(n==null||n.length<o)&&(n=new Uint8ClampedArray(o));var i=(t+this.top)*this.dataWidth+this.left;return qe.arraycopy(this.luminances,i,n,0,o),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var o=t*n,i=new Uint8ClampedArray(o),l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return qe.arraycopy(this.luminances,l,i,0,o),i;for(var u=0;u<n;u++){var c=u*t;qe.arraycopy(this.luminances,l,i,c,t),l+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,o,i){return new e(this.luminances,o,i,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new nc(this)}})(la);var p1,g1,d_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),h_=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return d_(e,r),e.forName=function(t){return this.getCharacterSetECIByName(t)},e})(Dt),p_=(function(){function r(){}return r.ISO_8859_1=Dt.ISO8859_1,r})();(p1=(function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,(t*=2)>=256&&(t^=301);return{LOG:r,ALOG:e}})([],[])).LOG,p1.ALOG,(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(g1||(g1={}));var y1,m1="[)>05",v1="[)>06",g_=(function(){function r(){}return r.prototype.getEncodingMode=function(){return 0},r.prototype.encode=function(e){if(gr.determineConsecutiveDigitCount(e.getMessage(),e.pos)>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var t=e.getCurrentChar(),n=gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(n!==this.getEncodingMode())switch(n){case 5:return e.writeCodeword(231),void e.signalEncoderChange(5);case 1:return e.writeCodeword(230),void e.signalEncoderChange(1);case 3:e.writeCodeword(238),e.signalEncoderChange(3);break;case 2:e.writeCodeword(239),e.signalEncoderChange(2);break;case 4:e.writeCodeword(240),e.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+n)}else gr.isExtendedASCII(t)?(e.writeCodeword(235),e.writeCodeword(t-128+1),e.pos++):(e.writeCodeword(t+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(gr.isDigit(e)&&gr.isDigit(t))return 10*(e-48)+(t-48)+130;throw new Error("not digits: "+e+t)},r})(),y_=(function(){function r(){}return r.prototype.getEncodingMode=function(){return 5},r.prototype.encode=function(e){var t=new me;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();if(t.append(n),e.pos++,gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}var o=t.length()-1,i=e.getCodewordCount()+o+1;e.updateSymbolInfo(i);var l=e.getSymbolInfo().getDataCapacity()-i>0;if(e.hasMoreCharacters()||l)if(o<=249)t.setCharAt(0,Ve.getCharAt(o));else{if(!(o<=1555))throw new Error("Message length not in valid ranges: "+o);t.setCharAt(0,Ve.getCharAt(Math.floor(o/250)+249)),t.insert(1,Ve.getCharAt(o%250))}var u=0;for(n=t.length();u<n;u++)e.writeCodeword(this.randomize255State(t.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=e+(149*t%255+1);return n<=255?n:n-256},r})(),lc=(function(){function r(){}return r.prototype.getEncodingMode=function(){return 1},r.prototype.encodeMaximal=function(e){for(var t=new me,n=0,o=e.pos,i=0;e.hasMoreCharacters();){var l=e.getCurrentChar();e.pos++,n=this.encodeChar(l,t),t.length()%3==0&&(o=e.pos,i=t.length())}if(i!==t.length()){var u=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(c);var d=e.getSymbolInfo().getDataCapacity()-c,h=Math.floor(t.length()%3);(h===2&&d!==2||h===1&&(n>3||d!==1))&&(e.pos=o)}t.length()>0&&e.writeCodeword(230),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new me;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var o=this.encodeChar(n,t),i=2*Math.floor(t.length()/3),l=e.getCodewordCount()+i;e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l;if(!e.hasMoreCharacters()){var c=new me;for(t.length()%3==2&&u!==2&&(o=this.backtrackOneCharacter(e,t,c,o));t.length()%3==1&&(o>3||u!==1);)o=this.backtrackOneCharacter(e,t,c,o);break}if(t.length()%3==0&&gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,o){var i=t.length(),l=t.toString().substring(0,i-o);t.setLengthToZero(),t.append(l),e.pos--;var u=e.getCurrentChar();return o=this.encodeChar(u,n),e.resetSymbolInfo(),o},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),o=t.length()%3,i=e.getCodewordCount()+n;e.updateSymbolInfo(i);var l=e.getSymbolInfo().getDataCapacity()-i;if(o===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254)}else if(l===1&&o===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(254),e.pos--}else{if(o!==0)throw new Error("Unexpected case. Please report!");for(;t.length()>=3;)this.writeNextTriplet(e,t);(l>0||e.hasMoreCharacters())&&e.writeCodeword(254)}e.signalEncoderChange(0)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t)},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,o=t%256,i=new me;return i.append(n),i.append(o),i.toString()},r})(),m_=(function(){function r(){}return r.prototype.getEncodingMode=function(){return 4},r.prototype.encode=function(e){for(var t=new me;e.hasMoreCharacters();){var n=e.getCurrentChar();if(this.encodeChar(n,t),e.pos++,t.length()>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var o=t.toString().substring(4);if(t.setLengthToZero(),t.append(o),gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode()){e.signalEncoderChange(0);break}}}t.append(Ve.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>o&&(e.updateSymbolInfo(e.getCodewordCount()+1),o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=o&&o<=2)return}if(n>4)throw new Error("Count must not exceed 4");var l=n-1,u=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters()&&l<=2;l<=2&&(e.updateSymbolInfo(e.getCodewordCount()+l),(o=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount())>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))),c?(e.resetSymbolInfo(),e.pos-=l):e.writeCodewords(u)}finally{e.signalEncoderChange(0)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Ve.getCharAt(e-64)):gr.illegalCharacter(Ve.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=(e.charAt(0).charCodeAt(0)<<18)+((t>=2?e.charAt(1).charCodeAt(0):0)<<12)+((t>=3?e.charAt(2).charCodeAt(0):0)<<6)+(t>=4?e.charAt(3).charCodeAt(0):0),o=n>>16&255,i=n>>8&255,l=255&n,u=new me;return u.append(o),t>=2&&u.append(i),t>=3&&u.append(l),u.toString()},r})(),v_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),w_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ne=(function(){function r(e,t,n,o,i,l,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=o,this.matrixHeight=i,this.dataRegions=l,this.rsBlockData=u,this.rsBlockError=c}return r.lookup=function(e,t,n,o,i){var l,u;t===void 0&&(t=0),n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=!0);try{for(var c=w_(C_),d=c.next();!d.done;d=c.next()){var h=d.value;if((t!==1||!h.rectangular)&&(t!==2||h.rectangular)&&(n==null||!(h.getSymbolWidth()<n.getWidth()||h.getSymbolHeight()<n.getHeight()))&&(o==null||!(h.getSymbolWidth()>o.getWidth()||h.getSymbolHeight()>o.getHeight()))&&e<=h.dataCapacity)return h}}catch(g){l={error:g}}finally{try{d&&!d.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),__=(function(r){function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return v_(e,r),e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e})(Ne),C_=[new Ne(!1,3,5,8,8,1),new Ne(!1,5,7,10,10,1),new Ne(!0,5,7,16,6,1),new Ne(!1,8,10,12,12,1),new Ne(!0,10,11,14,6,2),new Ne(!1,12,12,14,14,1),new Ne(!0,16,14,24,10,1),new Ne(!1,18,14,16,16,1),new Ne(!1,22,18,18,18,1),new Ne(!0,22,18,16,10,2),new Ne(!1,30,20,20,20,1),new Ne(!0,32,24,16,14,2),new Ne(!1,36,24,22,22,1),new Ne(!1,44,28,24,24,1),new Ne(!0,49,28,22,14,2),new Ne(!1,62,36,14,14,4),new Ne(!1,86,42,16,16,4),new Ne(!1,114,48,18,18,4),new Ne(!1,144,56,20,20,4),new Ne(!1,174,68,22,22,4),new Ne(!1,204,84,24,24,4,102,42),new Ne(!1,280,112,14,14,16,140,56),new Ne(!1,368,144,16,16,16,92,36),new Ne(!1,456,192,18,18,16,114,48),new Ne(!1,576,224,20,20,16,144,56),new Ne(!1,696,272,22,22,16,174,68),new Ne(!1,816,336,24,24,16,136,56),new Ne(!1,1050,408,18,18,36,175,68),new Ne(!1,1304,496,20,20,36,163,62),new __],E_=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map((function(u){return u.charCodeAt(0)})),n=new me,o=0,i=t.length;o<i;o++){var l=String.fromCharCode(255&t[o]);if(l==="?"&&e.charAt(o)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(l)}this.msg=n.toString(),this.shape=0,this.codewords=new me,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Ne.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),S_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),A_=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return S_(e,r),e.prototype.getEncodingMode=function(){return 3},e.prototype.encode=function(t){for(var n=new me;t.hasMoreCharacters();){var o=t.getCurrentChar();if(t.pos++,this.encodeChar(o,n),n.length()%3==0&&(this.writeNextTriplet(t,n),gr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode())){t.signalEncoderChange(0);break}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):gr.illegalCharacter(Ve.getCharAt(t))}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var o=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=n.length();t.pos-=i,(t.getRemainingCharacters()>1||o>1||t.getRemainingCharacters()!==o)&&t.writeCodeword(254),t.getNewEncoding()<0&&t.signalEncoderChange(0)},e})(lc),I_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),b_=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return I_(e,r),e.prototype.getEncodingMode=function(){return 2},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var o=2;return o+=this.encodeChar(t-128,n)},e})(lc),T_=(function(){function r(){}return r.randomize253State=function(e){var t=129+(149*e%253+1);return t<=254?t:t-254},r.encodeHighLevel=function(e,t,n,o,i){t===void 0&&(t=0),n===void 0&&(n=null),o===void 0&&(o=null),i===void 0&&(i=!1);var l=new lc,u=[new g_,l,new b_,new A_,new m_,new y_],c=new E_(e);c.setSymbolShape(t),c.setSizeConstraints(n,o),e.startsWith(m1)&&e.endsWith("")?(c.writeCodeword(236),c.setSkipAtEnd(2),c.pos+=m1.length):e.startsWith(v1)&&e.endsWith("")&&(c.writeCodeword(237),c.setSkipAtEnd(2),c.pos+=v1.length);var d=0;for(i&&(l.encodeMaximal(c),d=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[d].encode(c),c.getNewEncoding()>=0&&(d=c.getNewEncoding(),c.resetEncoderSignal());var h=c.getCodewordCount();c.updateSymbolInfo();var g=c.getSymbolInfo().getDataCapacity();h<g&&d!==0&&d!==5&&d!==4&&c.writeCodeword("");var y=c.getCodewords();for(y.length()<g&&y.append(129);y.length()<g;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var o=this.lookAheadTestIntern(e,t,n);if(n===3&&o===3){for(var i=Math.min(t+3,e.length),l=t;l<i;l++)if(!this.isNativeX12(e.charCodeAt(l)))return 0}else if(n===4&&o===4){for(i=Math.min(t+4,e.length),l=t;l<i;l++)if(!this.isNativeEDIFACT(e.charCodeAt(l)))return 0}return o},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var o;n===0?o=[0,1,1,1,1,1.25]:(o=[1,2,2,2,2,2.25])[n]=0;for(var i=0,l=new Uint8Array(6),u=[];;){if(t+i===e.length){wt.fill(l,0),wt.fill(u,0);var c=this.findMinimums(o,u,ot.MAX_VALUE,l),d=this.getMinimumCount(l);if(u[0]===c)return 0;if(d===1){if(l[5]>0)return 5;if(l[4]>0)return 4;if(l[2]>0)return 2;if(l[3]>0)return 3}return 1}var h=e.charCodeAt(t+i);if(i++,this.isDigit(h)?o[0]+=.5:this.isExtendedASCII(h)?(o[0]=Math.ceil(o[0]),o[0]+=2):(o[0]=Math.ceil(o[0]),o[0]++),this.isNativeC40(h)?o[1]+=2/3:this.isExtendedASCII(h)?o[1]+=8/3:o[1]+=4/3,this.isNativeText(h)?o[2]+=2/3:this.isExtendedASCII(h)?o[2]+=8/3:o[2]+=4/3,this.isNativeX12(h)?o[3]+=2/3:this.isExtendedASCII(h)?o[3]+=13/3:o[3]+=10/3,this.isNativeEDIFACT(h)?o[4]+=3/4:this.isExtendedASCII(h)?o[4]+=4.25:o[4]+=3.25,this.isSpecialB256(h)?o[5]+=4:o[5]++,i>=4){if(wt.fill(l,0),wt.fill(u,0),this.findMinimums(o,u,ot.MAX_VALUE,l),u[0]<this.min(u[5],u[1],u[2],u[3],u[4]))return 0;if(u[5]<u[0]||u[5]+1<this.min(u[1],u[2],u[3],u[4]))return 5;if(u[4]+1<this.min(u[5],u[1],u[2],u[3],u[0]))return 4;if(u[2]+1<this.min(u[5],u[1],u[4],u[3],u[0]))return 2;if(u[3]+1<this.min(u[5],u[1],u[4],u[2],u[0]))return 3;if(u[1]+1<this.min(u[0],u[5],u[4],u[2])){if(u[1]<u[3])return 1;if(u[1]===u[3]){for(var g=t+i+1;g<e.length;){var y=e.charCodeAt(g);if(this.isX12TermSep(y))return 3;if(!this.isNativeX12(y))break;g++}return 1}}}}},r.min=function(e,t,n,o,i){var l=Math.min(e,Math.min(t,Math.min(n,o)));return i===void 0?l:Math.min(l,i)},r.findMinimums=function(e,t,n,o){for(var i=0;i<6;i++){var l=t[i]=Math.ceil(e[i]);n>l&&(n=l,wt.fill(o,0)),n===l&&(o[i]=o[i]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,o=t;o<n&&this.isDigit(e.charCodeAt(o));)o++;return o-t},r.illegalCharacter=function(e){var t=ot.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r})(),gr=T_,Eu=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w1=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return Pr.encode(e,this.charset)!=null}catch{return!1}},r})(),O_=(function(){function r(e,t,n){var o,i,l,u,c,d;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map((function($){return new w1(h_.forName($))})),this.encoders=[];var h=[];h.push(new w1(p_.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var w=!1;try{for(var _=(o=void 0,Eu(h)),E=_.next();!E.done;E=_.next()){var S=E.value,T=e.charAt(y);if(T.charCodeAt(0)===n||S.canEncode(T)){w=!0;break}}}catch($){o={error:$}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}if(!w)try{for(var N=(l=void 0,Eu(this.ENCODERS)),b=N.next();!b.done;b=N.next())if((S=b.value).canEncode(e.charAt(y))){h.push(S),w=!0;break}}catch($){l={error:$}}finally{try{b&&!b.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}w||(g=!0)}if(h.length!==1||g){this.encoders=[];var R=0;try{for(var B=Eu(h),F=B.next();!F.done;F=B.next())S=F.value,this.encoders[R++]=S}catch($){c={error:$}}finally{try{F&&!F.done&&(d=B.return)&&d.call(B)}finally{if(c)throw c.error}}}else this.encoders=[h[0]];var z=-1;if(t!=null){for(y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){z=y;break}}this.priorityEncoderIndex=z}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Pr.encode(Ve.getCharAt(e),this.encoders[t].name)},r})(),N_=(function(){function r(e,t,n){this.fnc1=n;var o=new O_(e,t,n);if(o.length()===1)for(var i=0;i<this.bytes.length;i++){var l=e.charAt(i).charCodeAt(0);this.bytes[i]=l===n?1e3:l}else this.bytes=this.encodeMinimally(e,o,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new me,o=e;o<t;o++){if(this.isECI(o))throw new Error("value at "+o+" is not a character but an ECI");n.append(this.charAt(o))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,o,i,l){var u=e.charAt(o).charCodeAt(0),c=0,d=t.length();t.getPriorityEncoderIndex()>=0&&(u===l||t.canEncode(u,t.getPriorityEncoderIndex()))&&(d=(c=t.getPriorityEncoderIndex())+1);for(var h=c;h<d;h++)(u===l||t.canEncode(u,h))&&this.addEdge(n,o+1,new _1(u,t,h,i,l))},r.prototype.encodeMinimally=function(e,t,n){var o=e.length,i=new _1[o+1][t.length()];this.addEdges(e,t,i,0,null,n);for(var l=1;l<=o;l++){for(var u=0;u<t.length();u++)i[l][u]!=null&&l<o&&this.addEdges(e,t,i,l,i[l][u],n);for(u=0;u<t.length();u++)i[l-1][u]=null}var c=-1,d=ot.MAX_VALUE;for(u=0;u<t.length();u++)if(i[o][u]!=null){var h=i[o][u];h.cachedTotalSize<d&&(d=h.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],y=i[o][c];y!=null;){if(y.isFNC1())g.unshift(1e3);else{var w=t.encode(y.c,y.encoderIndex);for(l=w.length-1;l>=0;l--)g.unshift(255&w[l])}(y.previous===null?0:y.previous.encoderIndex)!==y.encoderIndex&&g.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}var _=[];for(l=0;l<_.length;l++)_[l]=g[l];return _},r})(),_1=(function(){function r(e,t,n,o,i){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=o,this.fnc1=i,this.c=e===i?1e3:e;var l=this.isFNC1()?1:t.encode(e,n).length;(o===null?0:o.encoderIndex)!==n&&(l+=3),o!=null&&(l+=o.cachedTotalSize),this.cachedTotalSize=l}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),R_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(y1||(y1={})),(function(r){function e(t,n,o,i,l){var u=r.call(this,t,n,o)||this;return u.shape=i,u.macroId=l,u}R_(e,r),e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape}})(N_);var x_=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),k_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),y0=(function(r){function e(t,n,o){var i=r.call(this,t)||this;return i.value=n,i.bitCount=o,i}return k_(e,r),e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+ot.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e})(x_),P_=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(e,t)};return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){function e(t,n,o){var i=r.call(this,t,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=o,i}return P_(e,r),e.prototype.appendTo=function(t,n){for(var o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+o],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(y0);new y0(null,0,0);Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0]);var D_=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(r){var e,t;try{for(var n=D_(r),o=n.next();!o.done;o=n.next()){var i=o.value;wt.fill(i,-1)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[0][4]=0,r[1][4]=0,r[1][0]=28,r[3][4]=0,r[2][4]=0,r[2][0]=15,r})(wt.createInt32Array(6,6));(function(r){var e=Ve.getCharCode(" "),t=Ve.getCharCode("."),n=Ve.getCharCode(",");r[0][e]=1;for(var o=Ve.getCharCode("Z"),i=Ve.getCharCode("A"),l=i;l<=o;l++)r[0][l]=l-i+2;r[1][e]=1;var u=Ve.getCharCode("z"),c=Ve.getCharCode("a");for(l=c;l<=u;l++)r[1][l]=l-c+2;r[2][e]=1;var d=Ve.getCharCode("9"),h=Ve.getCharCode("0");for(l=h;l<=d;l++)r[2][l]=l-h+2;r[2][n]=12,r[2][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<g.length;y++)r[3][Ve.getCharCode(g[y])]=y;var w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(y=0;y<w.length;y++)Ve.getCharCode(w[y])>0&&(r[4][Ve.getCharCode(w[y])]=y);return r})(wt.createInt32Array(5,256));(function(){Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12])})();var wi=function(r){return r instanceof Date},m0=function(r){return r==null},v0=function(r){return typeof r=="object"},C1=function(r){return!m0(r)&&!Array.isArray(r)&&v0(r)&&!wi(r)},E1=function(r){return m0(r)||!v0(r)};function w0(r,e){if(E1(r)||E1(e))return r===e;if(wi(r)&&wi(e))return r.getTime()===e.getTime();var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(var o=0,i=t;o<i.length;o++){var l=i[o],u=r[l];if(!n.includes(l))return!1;if(l!=="ref"){var c=e[l];if(wi(u)&&wi(c)||C1(u)&&C1(c)||Array.isArray(u)&&Array.isArray(c)?!w0(u,c):u!==c)return!1}}return!0}var M_=function(r){var e=r.onResult,t=r.onError,n=r.scanDelay,o=r.hints,i=r.deviceId,l=G.useRef(e),u=G.useRef(t),c=G.useRef(null),d=G.useState(r.constraints),h=d[0],g=d[1],y=G.useMemo((function(){return new o_(o,n)}),[]),w=G.useCallback((function(S,T){S&&l.current(S),!T||T instanceof U||u.current(T)}),[]),_=G.useCallback((function(){return zh(void 0,void 0,void 0,(function(){var S,T;return Hh(this,(function(N){switch(N.label){case 0:if(!c.current)return[2];N.label=1;case 1:return N.trys.push([1,6,,7]),i?[4,y.decodeFromVideoDevice(i,c.current,w)]:[3,3];case 2:return N.sent(),[3,5];case 3:return S={audio:!1,video:h},[4,y.decodeFromConstraints(S,c.current,w)];case 4:N.sent(),N.label=5;case 5:return[3,7];case 6:return T=N.sent(),u.current(T),[3,7];case 7:return[2]}}))}))}),[y,i,h,w]),E=G.useCallback((function(){y.reset()}),[y]);return G.useEffect((function(){w0(r.constraints,h)||g(r.constraints)}),[r.constraints]),G.useEffect((function(){l.current=e}),[e]),G.useEffect((function(){u.current=t}),[t]),G.useEffect((function(){return zh(void 0,void 0,void 0,(function(){return Hh(this,(function(S){switch(S.label){case 0:return[4,_()];case 1:return S.sent(),[2]}}))})),function(){E()}}),[_,E]),{ref:c,start:_,stop:E}},L_={width:"100%",paddingTop:"100%",overflow:"hidden",position:"relative"},B_={top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden",position:"absolute"},j_=function(r){var e=r.containerStyle,t=r.videoStyle,n=r.constraints,o=n===void 0?i0:n,i=r.onResult,l=r.onDecode,u=r.viewFinder,c=r.hideCount,d=c===void 0||c,h=r.tracker,g=h!==void 0&&h,y=r.viewFinderBorder,w=r.deviceId,_=r.scanDelay,E=_===void 0?100:_,S=(function($,ue){var de={};for(var le in $)Object.prototype.hasOwnProperty.call($,le)&&ue.indexOf(le)<0&&(de[le]=$[le]);if($!=null&&typeof Object.getOwnPropertySymbols=="function"){var Te=0;for(le=Object.getOwnPropertySymbols($);Te<le.length;Te++)ue.indexOf(le[Te])<0&&Object.prototype.propertyIsEnumerable.call($,le[Te])&&(de[le[Te]]=$[le[Te]])}return de})(r,["containerStyle","videoStyle","constraints","onResult","onDecode","viewFinder","hideCount","tracker","viewFinderBorder","deviceId","scanDelay"]),T=G.useState(0),N=T[0],b=T[1],R=G.useState(),B=R[0],F=R[1],z=M_(Rn({onResult:function($){F($),i&&i($),l&&l($.getText()),b((function(ue){return ue+1}))},constraints:o,deviceId:w,scanDelay:E},S)).ref;return Ee.createElement("div",{style:Rn(Rn({},L_),e)},u?Ee.createElement(u,null):Ee.createElement(Cm,{video:z.current,result:B,scanCount:N,hideCount:d,tracker:g,border:y,constraints:o,deviceId:w,scanDelay:E}),Ee.createElement("video",{ref:z,muted:!0,style:Rn(Rn({},B_),t)}))};function F_({onSuccess:r}){const{profile:e}=Dn(),[t,n]=G.useState(!1),[o,i]=G.useState(""),[l,u]=G.useState(null),[c,d]=G.useState(!1),h=async _=>{if(!(c||!e)){d(!0),u(null),n(!1);try{const E=oa.decodeSessionData(_);if(!E)throw new Error("QR Code invlido ou ilegvel.");const S=await oa.validateToken(E.sessionId,E.token);if(await Ii.checkAttendanceExists(S.id,e.id))throw new Error("Voc j registrou presena nesta sesso.");const N=S.classes?{latitude:S.classes.latitude,longitude:S.classes.longitude,radius:S.classes.geofence_radius}:void 0;(await Ii.markAttendance(S.id,e.id,"qr_scan",S.require_geolocation,N)).offline?u({type:"success",text:"Presena salva offline. Ser sincronizada quando voc estiver online."}):u({type:"success",text:"Presena registrada com sucesso!"}),r(),i("")}catch(E){u({type:"error",text:E instanceof Error?E.message:"Erro ao registrar presena"})}finally{d(!1)}}},g=_=>{_?.text&&h(_.text)},y=_=>{_.preventDefault(),o.trim()&&h(o.trim())},w=Eo.isOnline();return A.jsxs("div",{className:"max-w-2xl mx-auto",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx(Gy,{className:"w-16 h-16 mx-auto text-blue-600 mb-4"}),A.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registrar Presena"}),A.jsx("p",{className:"text-gray-600",children:"Escaneie o QR Code exibido pelo professor."})]}),!w&&A.jsxs("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[A.jsx(Bh,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-yellow-900 mb-1",children:"Modo Offline"}),A.jsx("p",{className:"text-sm text-yellow-700",children:"Voc est offline. As presenas sero salvas localmente e sincronizadas."})]})]}),l&&A.jsxs("div",{className:`mb-4 rounded-lg p-4 flex items-start gap-3 ${l.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,role:"alert",children:[l.type==="success"?A.jsx(By,{className:"text-green-600 flex-shrink-0 mt-0.5",size:20}):A.jsx(Bh,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),A.jsx("p",{className:`text-sm ${l.type==="success"?"text-green-900":"text-red-900"}`,children:l.text})]}),A.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-6 mb-4",children:[A.jsxs("button",{onClick:()=>n(!t),disabled:c,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors mb-4","aria-label":"Abrir cmera para escanear QR Code",children:[A.jsx(Ly,{size:20}),t?"Fechar Cmera":"Escanear QR Code"]}),t&&A.jsx("div",{className:"mb-4 bg-black rounded-lg overflow-hidden",children:A.jsx(j_,{onResult:g,onError:_=>console.error(_?.message),constraints:{facingMode:"environment"},containerStyle:{width:"100%",paddingTop:"100%"},videoStyle:{width:"100%",height:"100%",objectFit:"cover"}})}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("div",{className:"w-full border-t border-gray-300"})}),A.jsx("div",{className:"relative flex justify-center text-sm",children:A.jsx("span",{className:"px-2 bg-white text-gray-500",children:"ou"})})]})]}),A.jsxs("form",{onSubmit:y,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"manualCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Colar dados do QR Code"}),A.jsx("input",{id:"manualCode",type:"text",value:o,onChange:_=>i(_.target.value),placeholder:"Cole os dados do QR Code aqui",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:c})]}),A.jsx("button",{type:"submit",disabled:!o.trim()||c,className:"w-full bg-gray-800 text-white py-3 px-6 rounded-lg hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:c?A.jsx(Yt,{className:"animate-spin",size:20}):"Registrar Presena"})]})]})}function U_({studentId:r}){const[e,t]=G.useState([]),[n,o]=G.useState(!0);G.useEffect(()=>{r&&i()},[r]);const i=async()=>{o(!0);try{const c=await Ii.getStudentAttendance(r);t(c?.filter(l)||[])}catch(c){console.error("Error loading attendance history:",c)}finally{o(!1)}},l=c=>c&&c.attendance_sessions&&c.attendance_sessions.classes;if(n)return A.jsxs("div",{className:"flex items-center justify-center py-12 text-gray-600",children:[A.jsx(Yt,{className:"animate-spin mr-2",size:20}),"Carregando histrico..."]});if(e.length===0)return A.jsxs("div",{className:"text-center py-12",children:[A.jsx(Uy,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),A.jsx("p",{className:"text-lg font-medium text-gray-800",children:"Nenhum registro"}),A.jsx("p",{className:"text-gray-600",children:"Nenhuma presena registrada ainda."})]});const u=e.reduce((c,d)=>{const g=new Date(d.marked_at).toLocaleDateString("pt-BR",{year:"numeric",month:"long"});return c[g]||(c[g]=[]),c[g].push(d),c},{});return A.jsx("div",{className:"space-y-6",children:Object.entries(u).map(([c,d])=>A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 capitalize",children:c}),A.jsx("div",{className:"space-y-3",children:d.map(h=>A.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:[A.jsxs("div",{className:"flex items-start justify-between mb-2",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-900",children:h.attendance_sessions.classes.name}),A.jsx("p",{className:"text-sm text-gray-600",children:h.attendance_sessions.classes.code})]}),A.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h.method==="manual"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:h.method==="manual"?"Manual":"QR Code"})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(My,{size:16}),A.jsx("span",{children:new Date(h.marked_at).toLocaleDateString("pt-BR")})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(W1,{size:16}),A.jsx("span",{children:new Date(h.marked_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),h.attendance_sessions.classes.location&&A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(ec,{size:16}),A.jsx("span",{children:h.attendance_sessions.classes.location})]})]})]},h.id))})]},c))})}function z_(){const{profile:r}=Dn(),[e,t]=G.useState(navigator.onLine),[n,o]=G.useState("scanner"),[i,l]=G.useState(0),[u,c]=G.useState(!1);G.useEffect(()=>{const g=()=>t(!0),y=()=>t(!1);window.addEventListener("online",g),window.addEventListener("offline",y),Eo.setupAutoSync(),d();const w=setInterval(d,5e3);return()=>{window.removeEventListener("online",g),window.removeEventListener("offline",y),clearInterval(w)}},[]);const d=()=>{const g=Eo.getQueue();l(g.length)},h=async()=>{c(!0);try{await Eo.syncQueue(),d()}catch(g){console.error("Falha na sincronizao manual:",g)}finally{c(!1)}};return A.jsx("div",{className:"min-h-screen bg-gray-50",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:A.jsxs("div",{className:"mb-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Dashboard do Aluno"}),A.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",r?.full_name]})]}),A.jsxs("div",{className:"flex items-center gap-4 mt-4 sm:mt-0",children:[i>0&&A.jsxs("button",{onClick:h,disabled:u||!e,className:"flex items-center justify-center gap-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm disabled:opacity-50 disabled:cursor-wait","aria-label":"Sincronizar presenas pendentes",children:[u?A.jsx(Yt,{className:"animate-spin",size:18}):A.jsx(qy,{size:18}),u?"Sincronizando...":`Sincronizar (${i})`]}),A.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,role:"status","aria-live":"polite",children:[e?A.jsx(Qy,{size:18}):A.jsx(Ky,{size:18}),A.jsx("span",{className:"text-sm font-medium",children:e?"Online":"Offline"})]})]})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[A.jsx("div",{className:"border-b border-gray-200",children:A.jsxs("div",{className:"flex",children:[A.jsx("button",{onClick:()=>o("scanner"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${n==="scanner"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(tc,{size:20}),"Registrar Presena"]})}),A.jsx("button",{onClick:()=>o("history"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${n==="history"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(Ju,{size:20}),"Histrico"]})})]})}),A.jsx("div",{className:"p-6",children:n==="scanner"?A.jsx(F_,{onSuccess:d}):A.jsx(U_,{studentId:r?.id||""})})]})]})})})}function H_(){const{user:r,profile:e,loading:t,signOut:n}=Dn(),[o,i]=G.useState(!1);return t?A.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:A.jsx("div",{className:"text-gray-600",children:"Carregando..."})}):!r||!e?A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center px-4",children:A.jsxs("div",{className:"max-w-md w-full",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:A.jsx(jh,{className:"text-white",size:32})}),A.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"SPAI"}),A.jsx("p",{className:"text-gray-600",children:"Sistema de Presena Acadmica Inteligente"})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"flex border-b border-gray-200",children:[A.jsx("button",{onClick:()=>i(!1),className:`flex-1 pb-3 text-sm font-medium transition-colors ${o?"text-gray-600 hover:text-gray-900":"text-blue-600 border-b-2 border-blue-600"}`,children:"Entrar"}),A.jsx("button",{onClick:()=>i(!0),className:`flex-1 pb-3 text-sm font-medium transition-colors ${o?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Criar Conta"})]})}),o?A.jsx(Jy,{}):A.jsx(Zy,{})]}),A.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:A.jsx("p",{children:"Sistema com modo offline e validao por geolocalizao"})})]})}):A.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A.jsx("header",{className:"bg-white border-b border-gray-200",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:A.jsx(jh,{className:"text-white",size:24})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"SPAI"}),A.jsx("p",{className:"text-xs text-gray-600",children:e.role==="student"?"Aluno":"Professor"})]})]}),A.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Sair",children:[A.jsx(Vy,{size:18}),A.jsx("span",{className:"text-sm",children:"Sair"})]})]})}),e.role==="professor"?A.jsx(gm,{}):A.jsx(z_,{})]})}function V_(){return A.jsx(xy,{children:A.jsx(H_,{})})}I2.createRoot(document.getElementById("root")).render(A.jsx(G.StrictMode,{children:A.jsx(V_,{})}));
